<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Octodash works with octo4a? Yes!</title>
      <link href="/use-octodash-on-your-android-phone-en/"/>
      <url>/use-octodash-on-your-android-phone-en/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon"><p><a href="https://unchartedbull.github.io/OctoDash/index.html">Octodash</a> uses <a href="https://en.wikipedia.org/wiki/Electron_(software_framework)">Electron</a> to present the interface and only runs on Windows, Linux and macOS. Obviously doesnâ€™t run on Android, but you can run Linux on your Android phone if you want, so that you can run Electron!</p></div><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>We all know that using the <a href="https://github.com/feelfreelinux/octo4a">Octo4a</a> APP allows you to install <a href="https://octoprint.org/">Octoprint</a> on your Android phone (If you donâ€™t know, take a look at <a href="https://www.youtube.com/watch?v=74xdib_-X38&ab_channel=ThomasSanladerer">[YouTube]How to run OctoPrint on your phone!</a>), so you can use your phone as a controller to control your 3D printer. But if you want to check the state of your printer or do some  manipulation, you can only do it by opening the management page of Octoprint through the browser. Although the display layout on the mobile phone can be optimized after installing the Custom UI plugin, you still need to scroll to see more Information. It would be so much nicer if Octodash can run on your phone. Now I did it, Iâ€™m sharing the steps with you, hope that it will help you achieve this.</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/IMG_3031.jpeg" alt="IMG_3031"></p><span id="more"></span><h2 id="Ideas"><a href="#Ideas" class="headerlink" title="Ideas"></a>Ideas</h2><ol><li>You need an Android phone that has Octoprint installed and configured</li><li>Install <a href="https://termux.com/">Termux</a> on your phone</li><li>Install the <a href="https://wiki.termux.com/wiki/PRoot">PRoot</a> distribution for Debian in Termux</li><li>Install Octodash in Debian</li><li>Install Xserver XSDL on your phone</li><li>Test running Octodash under Debian in Termux</li><li>Add Octodash as a service in Termux and enable automatic startup</li><li>Done, use Octodash in Xserver XSDL</li></ol><h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><h3 id="Install-Termux"><a href="#Install-Termux" class="headerlink" title="Install Termux"></a>Install Termux</h3><p>Download and install the latest version of Termux from <a href="https://github.com/termux/termux-app/releases"><code>Github Releases</code></a>. If you have the ability, you can start the <code>SSH</code> server to facilitate the next operations from the computer.</p><h3 id="Install-and-enter-the-Debian-system"><a href="#Install-and-enter-the-Debian-system" class="headerlink" title="Install and enter the Debian system"></a>Install and enter the Debian system</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pkg install proot-distro</span><br><span class="line">proot-distro install debian</span><br><span class="line">proot-distro login debian --termux-home</span><br></pre></td></tr></table></figure><h3 id="Install-Octodash"><a href="#Install-Octodash" class="headerlink" title="Install Octodash"></a>Install Octodash</h3><ul><li><p>Install dependencies</p><p>Made some modifications to the commands of the <a href="https://github.com/UnchartedBull/OctoDash/wiki/Installation#manual-installation">installation guide</a> to suit the current system</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update -y</span><br><span class="line">apt install -y libgtk-3-0 libnotify4 libnss3 libxss1 libxtst6 xdg-utils libatspi2.0-0 libuuid1 libsecret-1-0 libasound2 libgirepository-1.0-1 gir1.2-glib-2.0 libayatana-appindicator3-1</span><br></pre></td></tr></table></figure></li><li><p>Download and install the latest version of Octodash (replace the download link with the link on the <a href="https://github.com/UnchartedBull/OctoDash/releases"><code>Github Releases</code></a> page for the latest version)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -O octodash.deb https://github.com/UnchartedBull/OctoDash/releases/download/v2.3.1/octodash_2.3.1_arm64.deb</span><br><span class="line">dpkg -i octodash.deb</span><br></pre></td></tr></table></figure></li><li><p>Install Xserver</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install -y xserver-xorg x11-xserver-utils xinit libgtk-3-0</span><br></pre></td></tr></table></figure></li></ul><h3 id="Install-Xserver-XSDL"><a href="#Install-Xserver-XSDL" class="headerlink" title="Install Xserver XSDL"></a>Install Xserver XSDL</h3><p>Install the latest version of Xserver XSDL from <a href="https://play.google.com/store/apps/details?id=x.org.server"><code>Google Play Store</code></a></p><p>After installation, open the APP, press <code>Change device config</code> button during app start, select <code>Mouse emulation</code> -&gt; <code>Mode</code> -&gt; <code>Desktop</code>.</p><p>Return to the startup page after completion, wait until connection info shows up like below, remember the port number, for example, mine is <code>4713</code>.</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/Screenshot_2022-06-03-19-54-14-504_x.org.server.jpg" alt="Screenshot_2022-06-03-19-54-14-504_x.org.server"></p><h3 id="Test-Octodash"><a href="#Test-Octodash" class="headerlink" title="Test Octodash"></a>Test Octodash</h3><p>Go back to the Debian system under Termux and create the script file (if your port is different from mine, replace it)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt; <span class="string">EOF &gt; /root/startdash.sh</span></span><br><span class="line"><span class="string">#!/bin/bash</span></span><br><span class="line"><span class="string">export DISPLAY=127.0.0.1:0</span></span><br><span class="line"><span class="string">export PLUSE_SERVER=tcp:127.0.0.1:4713</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">octodash --no-sandbox 2&gt;&amp;1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="built_in">chmod</span> +x /root/startdash.sh</span><br></pre></td></tr></table></figure><p>Run the script file to test if Octodash is working properly</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/root/startdash.sh</span><br></pre></td></tr></table></figure><p>If you see that there is information output and no error is reported, switch back to the Xserver XSDL APP to check whether the initial page of Octodash is displayed at this time.</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/332-OctoDashSetup-01.png" alt="OctoPi with OctoDash on RPi 4 with HyperPixel 4.0 - Maurice Kevenaar&#39;s  Techblog"></p><p>If you see it, donâ€™t rush to set it up. After the test is passed, you need the next step: Add Octodash to the Termux service to ensure that it runs in the background.</p><h3 id="Configure-the-Octodash-service"><a href="#Configure-the-Octodash-service" class="headerlink" title="Configure the Octodash service"></a>Configure the Octodash service</h3><p>Return to Termux app, first <code>Ctrl+C</code> exit the current script, then <code>Ctrl+D</code> exit the current terminal, return to the Termux terminal, and continue the following operations.</p><p>After ensuring that you have returned to the Termux system, install the termux-services package to enable Termux to support services</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install termux-services</span><br></pre></td></tr></table></figure><p>Create a service for Octodash</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$PREFIX</span>/var/service/octodash/log</span><br><span class="line"><span class="built_in">ln</span> -sf <span class="variable">$PREFIX</span>/share/termux-services/svlogger <span class="variable">$PREFIX</span>/var/service/octodash/log/run</span><br><span class="line"><span class="built_in">cat</span> &lt;&lt; <span class="string">EOF &gt; $PREFIX/var/service/octodash/run</span></span><br><span class="line"><span class="string">#!/data/data/com.termux/files/usr/bin/sh</span></span><br><span class="line"><span class="string">exec proot-distro login debian --termux-home -- /root/startdash.sh</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="built_in">chmod</span> +x <span class="variable">$PREFIX</span>/var/service/octodash/run</span><br></pre></td></tr></table></figure><p>Start the Octodash service and set it to start automatically</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sv up octodash</span><br><span class="line">sv-enable octodash</span><br></pre></td></tr></table></figure><blockquote><p>The log files are located at <code>$PREFIX/var/log/sv/octodash/current</code></p><p>what can be done with <code>sv</code>:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sv up octodash <span class="comment">#Start the service </span></span><br><span class="line">sv down octodash <span class="comment">#Stop the service </span></span><br><span class="line">sv-disable octodash <span class="comment">#Close the service to start automatically</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="Finish"><a href="#Finish" class="headerlink" title="Finish"></a>Finish</h3><p>Now you can go back to the Xserver XSDL APP and continue the initialization of Octodash. After the configuration is complete, you can see this interface</p><blockquote><p>If the printer address 127.0.0.1:5000 cannot be added successfully, enter the LAN IP of the mobile phone to connect to add it.</p></blockquote><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/Screenshot_2022-06-03-17-06-38-324_x.org.server.jpg" alt="Screenshot_2022-06-03-17-06-38-324_x.org.server"></p><p>Youâ€™re all done, if you archived this, please share your results in the comment!</p><h2 id="Some-notes"><a href="#Some-notes" class="headerlink" title="Some notes"></a>Some notes</h2><p>In the process of configuration, the experience and tips of some problems are summarized:</p><ul><li><p>If your phone doesnâ€™t have battery protection and keeps charging to 100% all the time, your battery will be bulging after a while. It is recommended to download the <a href="https://github.com/helloklf/vtools">Scene 4</a> mobile phone management tool. In the tool, you can adjust the battery charging strategy. After charging to 90%, stop charging, and continue charging when the battery drops to 70% to protect the battery. Download link: <a href="https://github.com/helloklf/vtools/releases">https://github.com/helloklf/vtools/releases</a></p></li><li><p>The Webcam server that comes with Octo4a has the following problems (for MI6):</p><ul><li>The resolution cannot be set, and the snapshot resolution is extremely low, resulting in a very low resolution of the generated time-lapse video</li><li>You can enable auto flash when you stream video, but you canâ€™t enable it when you take a snapshot</li><li>The camera emits shutter sound every time a snapshot is triggered, even after change to mute mode</li></ul><p>To sum up, I finally used a separate Webcam software: <a href="https://play.google.com/store/apps/details?id=com.pas.webcam">IP Webcam</a> , which solved the above problems. It can also modify the configuration on the web page, which is very convenient</p><blockquote><p>If you also change the video source, remember to update the system settings in Octodash and the settings of the octolapse plugin at the same time</p></blockquote></li><li><p>Every APP mentioned in this article must set a background lock, and turn off the power saving policy of these APPs to keep it running in the background all the time.</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> English Article </tag>
            
            <tag> 3D </tag>
            
            <tag> Octoprint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Octo4a æ›´è¿›ä¸€æ­¥ï¼šåœ¨ Android æ‰‹æœºä¸Šè¿è¡Œ Octodash</title>
      <link href="/use-octodash-on-your-android-phone/"/>
      <url>/use-octodash-on-your-android-phone/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon"><p><a href="https://unchartedbull.github.io/OctoDash/index.html">Octodash</a> ä½¿ç”¨ <a href="https://zh.m.wikipedia.org/zh/Electron">Electron</a> æ¥å±•ç¤ºç•Œé¢ï¼Œåªèƒ½åœ¨ Windowsã€Linux å’Œ macOS ä¸Šè¿è¡Œã€‚æ˜¾ç„¶ä¸èƒ½åœ¨ Android ä¸Šè¿è¡Œï¼Œä½†æ˜¯å¦‚æœä½ æƒ³çš„è¯ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ Android æ‰‹æœºä¸Šè¿è¡Œ Linuxï¼Œè¿™æ ·ä½ ä¹Ÿå°±å¯ä»¥è¿è¡Œ Electron äº†ï¼</p></div><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ä½¿ç”¨ <a href="https://github.com/feelfreelinux/octo4a">Octo4a</a> APP å¯ä»¥è®© Android æ‰‹æœºå®‰è£… <a href="https://octoprint.org/">Octoprint</a>ï¼ˆå¦‚æœä¸çŸ¥é“çš„è¯å»çœ‹çœ‹ <a href="https://www.youtube.com/watch?v=74xdib_-X38&ab_channel=ThomasSanladerer">[YouTube]How to run OctoPrint on your phone!</a>ï¼‰ï¼Œä»è€Œä½¿ç”¨æ‰‹æœºå°±å¯ä»¥æ§åˆ¶ä½ çš„ 3D æ‰“å°æœºã€‚ä½†æ˜¯è¦æƒ³åœ¨æ‰‹æœºä¸Šæ“ä½œæ‰“å°æœºæˆ–è€…æŸ¥çœ‹æ‰“å°çŠ¶æ€ï¼Œè¿˜æ˜¯åªèƒ½é€šè¿‡æ‰“å¼€ Octoprint çš„ç®¡ç†ç½‘é¡µæ¥å®ç°ï¼Œè™½ç„¶å®‰è£…äº† Custom UI åå¯ä»¥ä¼˜åŒ–åœ¨æ‰‹æœºä¸Šçš„æ˜¾ç¤ºæ’ç‰ˆï¼Œä½†æ˜¯å§‹ç»ˆè¿˜æ˜¯éœ€è¦æ»šåŠ¨æ¥çœ‹åˆ°æ›´å¤šä¿¡æ¯ï¼Œå¦‚æœ Octodash ä¹Ÿèƒ½è¿è¡Œåœ¨æ‰‹æœºä¸Šçš„è¯ï¼Œé‚£å°±èƒ½å¥½çœ‹å’Œæ–¹ä¾¿å¾ˆå¤šã€‚å¦‚ä»Šæˆ‘åšåˆ°äº†ï¼Œæ‰€ä»¥æˆ‘å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘çš„æ­¥éª¤ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°ä½ ã€‚</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/IMG_3031.jpeg" alt="IMG_3031"></p><span id="more"></span><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ol><li>ä½ éœ€è¦ä¸€ä¸ªå·²ç»å®‰è£…ä¸”é…ç½®å®Œæˆçš„ Octoprint åœ¨ä½ çš„ Android æ‰‹æœºä¸Š</li><li>åœ¨æ‰‹æœºä¸Šå®‰è£… <a href="https://termux.com/">Termux</a></li><li>åœ¨ Termux ä¸­å®‰è£… Debain ç³»ç»Ÿçš„ <a href="https://wiki.termux.com/wiki/PRoot">PRoot</a> ç‰ˆæœ¬</li><li>åœ¨ Debain ç³»ç»Ÿä¸­å®‰è£… Octodash</li><li>åœ¨æ‰‹æœºä¸Šå®‰è£… Xserver XSDL</li><li>æµ‹è¯•åœ¨ Termux ä¸­è¿è¡Œ Debain ä¸‹çš„ Octodash</li><li>åœ¨ Termux ä¸­æ·»åŠ  Octodash ä¸ºæœåŠ¡ï¼Œå¹¶å¼€å¯è‡ªåŠ¨å¯åŠ¨</li><li>å®Œæˆï¼Œåœ¨ Xserver XSDL ä¸­ä½¿ç”¨ Octodash</li></ol><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="å®‰è£…-Termux"><a href="#å®‰è£…-Termux" class="headerlink" title="å®‰è£… Termux"></a>å®‰è£… Termux</h3><p>ä»  <a href="https://github.com/termux/termux-app/releases"><code>Github Releases</code></a> ä¸‹è½½å®‰è£…æœ€æ–°ç‰ˆ Termuxï¼Œæœ‰èƒ½åŠ›çš„è¯å¯ä»¥å¼€å¯ <code>SSH</code> æœåŠ¡å™¨ï¼Œæ–¹ä¾¿ä»ç”µè„‘ä¸Šè¿›è¡Œæ¥ä¸‹æ¥çš„æ“ä½œã€‚</p><h3 id="å®‰è£…å¹¶è¿›å…¥-Debain-ç³»ç»Ÿ"><a href="#å®‰è£…å¹¶è¿›å…¥-Debain-ç³»ç»Ÿ" class="headerlink" title="å®‰è£…å¹¶è¿›å…¥ Debain ç³»ç»Ÿ"></a>å®‰è£…å¹¶è¿›å…¥ Debain ç³»ç»Ÿ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pkg install proot-distro</span><br><span class="line">proot-distro install debian</span><br><span class="line">proot-distro login debian --termux-home</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-Octodash"><a href="#å®‰è£…-Octodash" class="headerlink" title="å®‰è£… Octodash"></a>å®‰è£… Octodash</h3><ul><li><p>å®‰è£…ä¾èµ–</p><p>  å¯¹<a href="https://github.com/UnchartedBull/OctoDash/wiki/Installation#manual-installation">å®‰è£…æŒ‡å¯¼</a>çš„å‘½ä»¤ä½œäº†ä¸€äº›ä¿®æ”¹ä»¥é€‚åº”å½“å‰ç³»ç»Ÿ</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update -y</span><br><span class="line">apt install -y libgtk-3-0 libnotify4 libnss3 libxss1 libxtst6 xdg-utils libatspi2.0-0 libuuid1 libsecret-1-0 libasound2 libgirepository-1.0-1 gir1.2-glib-2.0 libayatana-appindicator3-1</span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆçš„ Octodashï¼ˆæ›¿æ¢ä¸‹è½½é“¾æ¥ä¸º <a href="https://github.com/UnchartedBull/OctoDash/releases"><code>Github Releases</code></a> é¡µé¢ä¸Šæœ€æ–°ç‰ˆæœ¬çš„é“¾æ¥ï¼‰</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -O octodash.deb https://github.com/UnchartedBull/OctoDash/releases/download/v2.3.1/octodash_2.3.1_arm64.deb</span><br><span class="line">dpkg -i octodash.deb</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£… Xserver</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install -y xserver-xorg x11-xserver-utils xinit libgtk-3-0</span><br></pre></td></tr></table></figure></li></ul><h3 id="å®‰è£…-Xserver-XSDL"><a href="#å®‰è£…-Xserver-XSDL" class="headerlink" title="å®‰è£… Xserver XSDL"></a>å®‰è£… Xserver XSDL</h3><p>ä»  <a href="https://play.google.com/store/apps/details?id=x.org.server"><code>Google Play Store</code></a> å®‰è£…æœ€æ–°ç‰ˆ Xserver XSDL</p><p>å®‰è£…å¥½åæ‰“å¼€ APPï¼Œåœ¨åˆå§‹åŒ–é¡µé¢ä¸Šç‚¹å‡» <code>æ›´æ”¹è®¾å¤‡é…ç½®</code> -&gt; <code>é¼ æ ‡æ¨¡æ‹Ÿ</code> -&gt; <code>é¼ æ ‡ä»¿çœŸæ¨¡å¼</code> ï¼Œé€‰æ‹© <code>æ¡Œé¢ç‰ˆï¼Œæ— ä»¿çœŸ</code>ã€‚</p><p>å®Œæˆåè¿”å›å¯åŠ¨é¡µé¢ï¼Œç­‰å¾…å¯åŠ¨å®Œæˆåè®°ä¸‹ç«¯å£å·ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ <code>4713</code></p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/Screenshot_2022-06-03-19-54-14-504_x.org.server.jpg" alt="Screenshot_2022-06-03-19-54-14-504_x.org.server"></p><h3 id="æµ‹è¯•-Octodash"><a href="#æµ‹è¯•-Octodash" class="headerlink" title="æµ‹è¯• Octodash"></a>æµ‹è¯• Octodash</h3><p>å›åˆ° Termux ä¸‹çš„ Debian ç³»ç»Ÿä¸­ï¼Œåˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼ˆå¦‚æœä¸ä¸€æ ·ï¼Œæ›¿æ¢ç«¯å£å·ä¸ºä½ çš„ç«¯å£å·ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt; <span class="string">EOF &gt; /root/startdash.sh</span></span><br><span class="line"><span class="string">#!/bin/bash</span></span><br><span class="line"><span class="string">export DISPLAY=127.0.0.1:0</span></span><br><span class="line"><span class="string">export PLUSE_SERVER=tcp:127.0.0.1:4713</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">octodash --no-sandbox 2&gt;&amp;1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="built_in">chmod</span> +x /root/startdash.sh</span><br></pre></td></tr></table></figure><p> è¿è¡Œè„šæœ¬æ–‡ä»¶ä»¥æµ‹è¯• Octodash æ˜¯å¦æ­£å¸¸è¿è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/root/startdash.sh</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°æœ‰ä¿¡æ¯è¾“å‡ºä¸”æ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œåˆ‡å› Xserver XSDL APP æŸ¥çœ‹æ­¤æ—¶æ˜¯å¦æ˜¾ç¤ºäº† Octodash çš„åˆå§‹é¡µé¢</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/332-OctoDashSetup-01.png" alt="OctoPi with OctoDash on RPi 4 with HyperPixel 4.0 - Maurice Kevenaar&#39;s  Techblog"></p><p>çœ‹åˆ°çš„è¯å…ˆä¸ç€æ€¥è¿›è¡Œè®¾ç½®ï¼Œæµ‹è¯•é€šè¿‡åè¿˜éœ€è¦ä¸‹ä¸€æ­¥ï¼ŒæŠŠ Octodash æ·»åŠ åˆ° Termux çš„æœåŠ¡ä¸­ä¿è¯åå°è¿è¡Œ</p><h3 id="é…ç½®-Octodash-æœåŠ¡"><a href="#é…ç½®-Octodash-æœåŠ¡" class="headerlink" title="é…ç½® Octodash æœåŠ¡"></a>é…ç½® Octodash æœåŠ¡</h3><p>å…ˆ <code>Ctrl+C</code> é€€å‡ºå½“å‰è„šæœ¬ï¼Œç„¶å <code>Ctrl+D</code> é€€å‡ºå½“å‰ç»ˆç«¯ï¼Œå›åˆ° Termux ç»ˆç«¯åï¼Œç»§ç»­åé¢çš„æ“ä½œ</p><p>ç¡®ä¿å·²ç»å›åˆ° Termux ç³»ç»Ÿåï¼Œå®‰è£… termux-services åŒ…ï¼Œä½¿ Termux æ”¯æŒæœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install termux-services</span><br></pre></td></tr></table></figure><p>ä¸º Octodash åˆ›å»ºæœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$PREFIX</span>/var/service/octodash/log</span><br><span class="line"><span class="built_in">ln</span> -sf <span class="variable">$PREFIX</span>/share/termux-services/svlogger <span class="variable">$PREFIX</span>/var/service/octodash/log/run</span><br><span class="line"><span class="built_in">cat</span> &lt;&lt; <span class="string">EOF &gt; $PREFIX/var/service/octodash/run</span></span><br><span class="line"><span class="string">#!/data/data/com.termux/files/usr/bin/sh</span></span><br><span class="line"><span class="string">exec proot-distro login debian --termux-home -- /root/startdash.sh</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="built_in">chmod</span> +x <span class="variable">$PREFIX</span>/var/service/octodash/run</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ Octodash æœåŠ¡ï¼Œå¹¶è®¾ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sv up octodash</span><br><span class="line">sv-enable octodash</span><br></pre></td></tr></table></figure><blockquote><p>æ—¥å¿—æ–‡ä»¶ä½äº <code>$PREFIX/var/log/sv/octodash/current</code> </p><p><code>sv</code> å¯ä»¥è¿›è¡Œçš„æ“ä½œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sv</span> up octodash <span class="comment">#å¯åŠ¨æœåŠ¡</span></span><br><span class="line"><span class="built_in">sv</span> down octodash <span class="comment">#åœæ­¢æœåŠ¡</span></span><br><span class="line"><span class="built_in">sv</span><span class="literal">-disable</span> octodash <span class="comment">#å…³é—­æœåŠ¡è‡ªåŠ¨å¯åŠ¨</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h3><p>ç°åœ¨å¯ä»¥å›åˆ° Xserver XSDL APPï¼Œç»§ç»­ Octodash çš„åˆå§‹åŒ–ï¼Œé…ç½®å®Œæˆåå°±å¯ä»¥çœ‹åˆ°è¿™æ ·çš„ç•Œé¢</p><blockquote><p>å¦‚æœæ‰“å°æœºåœ°å€å¡«å†™ 127.0.0.1:5000 æ— æ³•æˆåŠŸæ·»åŠ æ‰“å°æœºçš„è¯ï¼Œè¾“å…¥æ‰‹æœºçš„å†…ç½‘ IP è¿›è¡Œè¿æ¥å³å¯æˆåŠŸæ·»åŠ </p></blockquote><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/use-octodash-on-your-android-phone/Screenshot_2022-06-03-17-06-38-324_x.org.server.jpg" alt="Screenshot_2022-06-03-17-06-38-324_x.org.server"></p><p>å¤§åŠŸå‘Šæˆï¼Œå¦‚æœä½ ä¹ŸæˆåŠŸäº†ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„æˆæœï¼</p><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><p>åœ¨é…ç½®çš„è¿‡ç¨‹ä¸­æ€»ç»“äº†ä¸€äº›é—®é¢˜çš„ç»éªŒå’Œæç¤ºï¼š</p><ul><li><p>å¦‚æœä½ çš„æ‰‹æœºæ²¡æœ‰ç”µæ± ä¿æŠ¤åŠŸèƒ½ï¼Œä¼šä¸€ç›´ä¿æŒå……ç”µ100%çš„è¯ï¼Œè¿‡ä¸ä¹…ä½ çš„ç”µæ± å°±ä¼šé¼“åŒ…ã€‚å»ºè®®ä¸‹è½½ <a href="https://github.com/helloklf/vtools">Scene 4</a> æ‰‹æœºç®¡ç†å·¥å…·ï¼Œåœ¨å·¥å…·ä¸­å¯ä»¥è°ƒæ•´ç”µæ± çš„å……ç”µç­–ç•¥ï¼Œå……ç”µè‡³90%åå°±åœæ­¢å……ç”µï¼Œç›´é“é™è‡³70%å†ç»§ç»­å……ç”µï¼Œè¾¾åˆ°ä¿æŠ¤ç”µæ± çš„ç›®çš„ã€‚ä¸‹è½½é“¾æ¥: <a href="https://github.com/helloklf/vtools/releases">https://github.com/helloklf/vtools/releases</a></p></li><li><p>Octo4aè‡ªå¸¦çš„ Webcam æœåŠ¡å™¨ä½¿ç”¨èµ·æ¥æœ‰ä»¥ä¸‹é—®é¢˜ï¼ˆMI6 é‡åˆ°çš„ï¼‰ï¼š</p><ul><li>æ— æ³•è®¾ç½®åˆ†è¾¨ç‡ï¼Œå¿«ç…§åˆ†è¾¨ç‡æä½ï¼Œå¯¼è‡´ç”Ÿæˆçš„å»¶æ—¶è§†é¢‘ä¹Ÿæ˜¯åˆ†è¾¨ç‡æä½</li><li>å¯ä»¥è®¾ç½®è§†é¢‘æ—¶å¼€å¯é—ªå…‰ç¯ï¼Œå´ä¸èƒ½è®¾ç½®å¿«ç…§æ—¶å¼€å¯</li><li>æ¯æ¬¡è§¦å‘å¿«ç…§éƒ½ä¼šå‘å‡ºç›¸æœºçš„å¡æ“¦å£°ï¼Œé™éŸ³ä¹Ÿæ— æ³•å…³é—­</li></ul><p>ç»¼ä¸Šæˆ‘æœ€åä½¿ç”¨äº†å•ç‹¬çš„ Webcam è½¯ä»¶: <a href="https://play.google.com/store/apps/details?id=com.pas.webcam">IP Webcam</a>ï¼Œè§£å†³äº†ä»¥ä¸Šçš„é—®é¢˜ï¼Œå®ƒè¿˜å¯ä»¥åœ¨ç½‘é¡µä¸Šä¿®æ”¹é…ç½®ï¼Œéå¸¸æ–¹ä¾¿</p><blockquote><p>å¦‚æœä½ ä¹Ÿæ›´æ¢äº†è§†é¢‘æºï¼Œè®°å¾—åŒæ—¶æ›´æ–° Octodash ä¸­çš„ç³»ç»Ÿè®¾ç½®å’Œå»¶æ—¶æ’ä»¶çš„è®¾ç½®</p></blockquote></li><li><p>è¿™ç¯‡æ–‡ç« æåˆ°çš„æ¯ä¸€ä¸ª APP éƒ½è¦è®¾ç½®åå°é”å®šï¼Œä¸”åœ¨å…³é—­è¿™å‡ ä¸ª APP çš„çœç”µç­–ç•¥ï¼Œä»¥ä¿æŒä¸€ç›´åå°è¿è¡Œã€‚</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 3D </tag>
            
            <tag> Octoprint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å¯¼å‡ºå¾®ä¿¡å…¬ä¼—å·å¡åˆ¸çš„ä¼šå‘˜ä¿¡æ¯</title>
      <link href="/wechat-vip-how-to/"/>
      <url>/wechat-vip-how-to/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon"><p>è¿™æ˜¯ä¸€ä¸ªæ‰‹æŠŠæ‰‹æ•™ç¨‹</p></div><p>æ¨èä½¿ç”¨è°·æ­Œæµè§ˆå™¨<a href="https://www.google.cn/intl/zh-CN/chrome/">Chrome</a>å®‰è£…æ’ä»¶<a href="https://www.tampermonkey.net/?ext=dhdg&locale=zh">Tampermonkey</a>ä½¿ç”¨ï¼Œå…¶ä»–æµè§ˆå™¨æ²¡æµ‹è¯•è¿‡</p><h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><p>å¯¼å‡ºä½ èƒ½çœ‹åˆ°çš„ä¼šå‘˜çš„æ‰€æœ‰ä¿¡æ¯ï¼Œçœ‹èµ·æ¥åƒè¿™ä¸ªæ ·å­</p><table><thead><tr><th>ä¼šå‘˜</th><th>åœ°åŒº</th><th>å§“å</th><th>æ‰‹æœº</th><th>ç”Ÿæ—¥</th><th>çŠ¶æ€</th><th>æ˜¯å¦å…³æ³¨</th><th>æ ‡ç­¾</th><th>ä¼šå‘˜å·</th><th>ç§¯åˆ†</th></tr></thead><tbody><tr><td>lucky</td><td>ä¸­å›½  æ±Ÿè‹ è‹å·</td><td>å¼ ä¸‰</td><td>13700000000</td><td>1999-9-9</td><td>æœ‰æ•ˆ</td><td>å¦</td><td>æ— æ ‡ç­¾</td><td>9492-3564-9589</td><td>11</td></tr><tr><td>ğŸ‘§</td><td>æ¯›é‡Œæ±‚æ–¯</td><td>èµµå››</td><td>13800000000</td><td>2000-10-10</td><td>æ— æ•ˆ</td><td>å·²å…³æ³¨</td><td>æ— æ ‡ç­¾</td><td>2391-8300-1593</td><td>30</td></tr></tbody></table><span id="more"></span><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="å¦‚æœä½ æ˜¯èµ„æ·±ç©å®¶"><a href="#å¦‚æœä½ æ˜¯èµ„æ·±ç©å®¶" class="headerlink" title="å¦‚æœä½ æ˜¯èµ„æ·±ç©å®¶"></a>å¦‚æœä½ æ˜¯èµ„æ·±ç©å®¶</h3><p>ç”¨è¿‡æ²¹çŒ´æ’ä»¶ï¼Œé‚£ä¹ˆç›´æ¥<a href="https://github.com/xiaoxx970/wechat_vip_info_export/raw/master/Wechat_offical_account_VIP_info_export.user.js">ç‚¹è¿™é‡Œæ‰“å¼€å®‰è£…é¡µé¢</a>ã€‚</p><p>åœ¨å¾®ä¿¡å…¬ä¼—å·çš„<code>å¡åŠµåŠŸèƒ½-&gt;ä¼šå‘˜å¡-&gt; ä¼šå‘˜ç®¡ç†</code>ç•Œé¢å°±å¯ä»¥ä½¿ç”¨ã€‚</p><h3 id="å¦‚æœä½ æ²¡å¬è¯´è¿‡Tampermonkey"><a href="#å¦‚æœä½ æ²¡å¬è¯´è¿‡Tampermonkey" class="headerlink" title="å¦‚æœä½ æ²¡å¬è¯´è¿‡Tampermonkey"></a>å¦‚æœä½ æ²¡å¬è¯´è¿‡Tampermonkey</h3><p>é‚£ä¹ˆä½ éœ€è¦ï¼š</p><ol><li><p>ä¸‹è½½å®‰è£…è°·æ­Œæµè§ˆå™¨ï¼š<a href="https://www.google.cn/intl/zh-CN/chrome/">https://www.google.cn/intl/zh-CN/chrome/</a></p></li><li><p>ä¸‹è½½Tampermonkeyæ’ä»¶</p><p>å»è¿™ä¸ªç½‘ç«™ï¼š<a href="https://www.crx4chrome.com/crx/755/">https://www.crx4chrome.com/crx/755/</a></p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215145542390.png"></p><p>ç‚¹å…¶ä¸­ä¸€ä¸ªé“¾æ¥ï¼ˆé™¤äº†google cdn å’Œ Chrome web storeï¼‰ï¼Œä¸‹è½½æ’ä»¶</p></li><li><p>è§£å‹æ’ä»¶</p><p>ä¸‹è½½åä½ å¾—åˆ°çš„æ˜¯ä¸€ä¸ªcrxæ ¼å¼çš„æ–‡ä»¶ï¼Œé‡å‘½åæ–‡ä»¶ä¿®æ”¹åç¼€ï¼ŒæŠŠ<code>.crx</code>æ”¹æˆ<code>.zip</code></p><table><thead><tr><th><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215150212447.png"></th><th><strong>â†’</strong></th><th><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215150325561.png"></th></tr></thead></table><p>è§£å‹zipæ–‡ä»¶ï¼šç‚¹è§£å‹åˆ°â€extension_xxx\â€</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215150624537.png"></p><p>è®°ä½è¿™ä¸ªæ–‡ä»¶å¤¹çš„ä½ç½®</p></li><li><p>å®‰è£…æ’ä»¶</p><p>æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œåœ¨åœ°å€æ è¾“å…¥<code>chrome://extensions/</code>ï¼Œæˆ–è€…ç‚¹æµè§ˆå™¨èœå•æŒ‰é’® &gt; æ›´å¤šå·¥å…· &gt; æ‰©å±•ç¨‹åº</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215151002595.png"></p><p>è¿›å…¥æ‰©å±•ç¨‹åºé¡µé¢ï¼Œæ‰“å¼€å³ä¸Šè§’å¼€å‘è€…æ¨¡å¼å¼€å…³ï¼Œç‚¹å·¦è¾¹çš„<code>åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº</code></p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215151145803.png"></p><p>é€‰æ‹©åˆšæ‰è§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹ï¼ˆä¸éœ€è¦ç‚¹è¿›å»ï¼Œé€‰ä¸­æ–‡ä»¶å¤¹åå°±ç‚¹<code>é€‰æ‹©æ–‡ä»¶å¤¹</code>ï¼‰</p><p>ç„¶åå°±å¯ä»¥å®‰è£…å¥½æ’ä»¶</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215151317653.png"></p><p>çœ‹åˆ°è¿™ä¸ªå°±è¯´æ˜å®‰è£…å¥½äº†</p></li><li><p>å®‰è£…æˆ‘çš„è„šæœ¬</p><p>æ‰“å¼€è„šæœ¬é¡µé¢ï¼š<a href="https://greasyfork.org/zh-CN/scripts/387221-%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E4%BC%9A%E5%91%98%E4%BF%A1%E6%81%AF%E5%AF%BC%E5%87%BA-wechat-offical-account-vip-info-export">å¾®ä¿¡å…¬ä¼—å·ä¼šå‘˜ä¿¡æ¯å¯¼å‡º</a></p><p>ç‚¹<code>å®‰è£…æ­¤è„šæœ¬</code></p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215151923867.png"></p><p>ç„¶ååœ¨è¿™ä¸ªé¡µé¢ç‚¹å®‰è£…ï¼Œç‚¹ä¸€ä¸‹å°±å¯ä»¥å®‰è£…å¥½</p></li><li><p>å¼€å§‹åšäº‹æƒ…</p><p>æ‰“å¼€å¾®ä¿¡å…¬ä¼—å·çš„<code>å¡åŠµåŠŸèƒ½-&gt;ä¼šå‘˜å¡-&gt; ä¼šå‘˜ç®¡ç†</code>ç•Œé¢</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215152613213.png">åªè¦ä¸€è¿›å…¥ä¼šå‘˜ç®¡ç†é¡µé¢ï¼Œæµè§ˆå™¨å°±ä¼šå¼€å§‹è‡ªåŠ¨è·³è½¬ï¼Œæ”¶é›†ä¿¡æ¯ã€‚ç„¶åå°±ç­‰ç€å§ã€‚</p><p>å¹³å‡ä¸€ä¸ªä¼šå‘˜éœ€è¦4ç§’å¯¼å‡ºï¼Œå¦‚æœä¹ç™¾ä¸ªä¼šå‘˜çš„è¯éœ€è¦ä¸€ä¸ªå°æ—¶ã€‚</p></li><li><p>ä¸‹è½½å¯¼å‡ºçš„csvæ–‡ä»¶</p><p>å¦‚æœè„šæœ¬æ‰§è¡Œå®Œæœ€åä¸€é¡µçš„æœ€åä¸€ä¸ªç”¨æˆ·ï¼Œå°±ä¼šå‡ºç°æç¤ºè¯´å¯¼å‡ºå®Œæˆï¼Œå¯ä»¥å¼€å§‹ä¸‹è½½</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/md-img/image-20191215153051694.png"></p><p>ä¸‹è½½ä¸‹æ¥çš„<code>vip.csv</code>æ–‡ä»¶å¯ä»¥é€šè¿‡Excelæ‰“å¼€ï¼Œå®Œäº‹ã€‚</p></li></ol><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li><p>æ‰“å¼€è°ƒè¯•å·¥å…·åå¯ä»¥åœ¨consoleçœ‹åˆ°å½“å‰æ­£åœ¨å¯¼å‡ºæœ¬é¡µçš„ç¬¬å‡ ä¸ªä¼šå‘˜ä¿¡æ¯ã€‚</p></li><li><p>ä½ å§‹ç»ˆå¯ä»¥é€šè¿‡æµè§ˆå™¨å³ä¸Šè§’tampermonkeyæŒ‰é’®ç»ˆæ­¢è„šæœ¬è¿è¡Œ</p></li><li><p>ä»»ä½•æ—¶å€™ä½ éƒ½å¯ä»¥æŠŠå½“å‰å·²ç»å¯¼å‡ºçš„ä¼šå‘˜å…ˆä¸‹è½½ä¸‹æ¥</p><p>åœæ­¢è„šæœ¬ååœ¨consoleè¾“å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getDownloadUrl</span>(<span class="params">csvData</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _utf = <span class="string">&quot;\uFEFF&quot;</span>; <span class="comment">// ä¸ºäº†ä½¿Excelä»¥utf-8çš„ç¼–ç æ¨¡å¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è§£å†³ä¸­æ–‡ä¹±ç çš„é—®é¢˜</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">Blob</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">URL</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="property">createObjectURL</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> csvData = <span class="keyword">new</span> <span class="title class_">Blob</span>([_utf + csvData], &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;text/csv&#x27;</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(csvData);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SaveAs</span>(<span class="params">fileName, csvData</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Sys</span> = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> ua = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">    <span class="keyword">var</span> s;</span><br><span class="line">    (s = ua.<span class="title function_">match</span>(<span class="regexp">/chrome\/([\d.]+)/</span>)) ? <span class="title class_">Sys</span>.<span class="property">chrome</span> = s[<span class="number">1</span>]:<span class="number">0</span>;<span class="comment">//è¿™é‡Œç›´æ¥æŒ‡å®šäº†chrome</span></span><br><span class="line">    <span class="keyword">var</span> bw = <span class="title class_">Sys</span>;</span><br><span class="line">    <span class="keyword">var</span> alink = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    alink.<span class="property">id</span> = <span class="string">&quot;linkDwnldLink&quot;</span>;</span><br><span class="line">    alink.<span class="property">href</span> = <span class="title function_">getDownloadUrl</span>(csvData);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(alink);</span><br><span class="line">    <span class="keyword">var</span> linkDom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;linkDwnldLink&#x27;</span>);</span><br><span class="line">    linkDom.<span class="title function_">setAttribute</span>(<span class="string">&#x27;download&#x27;</span>, fileName);</span><br><span class="line">    linkDom.<span class="title function_">click</span>();</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(linkDom);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> csv = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;csv&quot;</span>)</span><br><span class="line">csv = <span class="string">&quot;ä¼šå‘˜,åœ°åŒº,å§“å,æ‰‹æœº,ç”Ÿæ—¥,çŠ¶æ€,æ˜¯å¦å…³æ³¨,æ ‡ç­¾,ä¼šå‘˜å·,ç§¯åˆ†\n&quot;</span>+csv</span><br><span class="line"><span class="title class_">SaveAs</span>(<span class="string">&quot;vip.csv&quot;</span>, csv)</span><br></pre></td></tr></table></figure></li><li><p>ç»ˆæ­¢åè¦æƒ³ä»å¤´å¼€å§‹å¯¼å…¥ï¼ˆæˆ–è€…ä»æŸä¸€é¡µï¼‰ï¼Œéœ€è¦å…ˆæ¸…é™¤cookieå’Œlocalstorageæ•°æ®ï¼Œåœ¨consoleè¾“å…¥ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">clearCookie</span>(<span class="params">c_name</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> expiredays = -<span class="number">1</span></span><br><span class="line">    <span class="keyword">var</span> exdate = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">    exdate.<span class="title function_">setDate</span>(exdate.<span class="title function_">getDate</span>() + expiredays)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">cookie</span> = c_name + <span class="string">&quot;=&quot;</span> + ((expiredays == <span class="literal">null</span>) ? <span class="string">&quot;&quot;</span> : <span class="string">&quot;;expires=&quot;</span> + exdate.<span class="title function_">toGMTString</span>())</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;csv&quot;</span>)</span><br><span class="line"><span class="title function_">clearCookie</span>(<span class="string">&quot;step&quot;</span>)</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ä¼šå‘˜é¡µé¢æ‰“å¼€æ’ä»¶åä¸ä¼šé©¬ä¸Šå¼€å§‹è¿è¡Œè„šæœ¬ï¼Œè¦åˆ·æ–°ä¸€ä¸‹æ‰å¯ä»¥</p></li></ul><p>ç°åœ¨è¿˜æœ‰çš„é—®é¢˜ï¼š</p><ul><li><p>æœ‰æ—¶å€™ä¼šåœä¸‹æ¥ä¸ç»§ç»­ç‚¹ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œè¿™æ—¶å€™çœ‹ä¸€ä¸‹consoleé‡Œçš„æç¤ºä¿¡æ¯</p><ul><li><p>å¦‚æœå†™çš„<code>next page</code>ï¼Œé‚£åªè¦æ‰‹åŠ¨ç‚¹ä¸€ä¸‹ä¸‹ä¸€é¡µå°±å¯ä»¥äº†</p></li><li><p>å¦‚æœå†™çš„<code>step:</code>åé¢è·Ÿä¸€ä¸ªæ•°å­—ï¼Œé‚£æ•°å­—æ˜¯å‡ å°±æ‰‹åŠ¨ç‚¹ä¸€ä¸‹å½“å‰é¡µé¢çš„ç¬¬å‡ ä¸ªä¼šå‘˜ä¿¡æ¯</p></li><li><p>å¦‚æœåœåœ¨æŸä¸ªä¼šå‘˜ä¿¡æ¯é¡µï¼Œé‚£å¯ä»¥æ‰‹åŠ¨è¿”å›ä¸Šä¸€é¡µè¯•è¯•</p></li></ul></li></ul><hr><blockquote><p>Note:ä»…ä»…æ˜¯ä¸ºæˆ‘è‡ªå·±åšçš„è„šæœ¬ï¼Œå¦‚æœæ²¡è¾¾åˆ°ä½ çš„è¦æ±‚ï¼Œæ¬¢è¿æ‰¾æˆ‘æœ‰å°å®šåˆ¶ã€‚ï¼ˆæ¯”å¦‚ä½ è¿˜éœ€è¦å¯¼å‡ºä¼šå‘˜å¡ä½¿ç”¨æ¬¡æ•°ã€æ¿€æ´»æ—¶é—´ã€ä½¿ç”¨è®°å½•ç­‰ï¼‰</p><p>QQï¼š987896425</p></blockquote><blockquote><p>å®ç°è¿‡ç¨‹ï¼š<a href="/Wechat-vip-info-export">ç”¨JSè„šæœ¬â€¦</a></p></blockquote><blockquote><p>è¦æ˜¯ä½ æœ‰è§‰å¾—å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿æ¥<a href="https://github.com/xiaoxx970/wechat_vip_info_export">GitHubé¡µé¢</a>æäº¤Pull requestã€‚</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> æ‰‹æŠŠæ‰‹æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨caddyå®ç°v2rayæµé‡ä¼ªè£…</title>
      <link href="/caddy-ws-v2ray/"/>
      <url>/caddy-ws-v2ray/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon"><p><a href="https://dengxiaolong.com/caddy/zh/">Caddy</a>ï¼šä¸€ä¸ªæ–¹ä¾¿é…ç½®çš„ web server</p></div><p>æœ¬è´¨ä¸Šè¦åšçš„äº‹æƒ…æ˜¯è®©caddyåšåå‘ä»£ç†æœåŠ¡å™¨è½¬å‘v2rayæµé‡ï¼Œcaddyçš„å¥½å¤„æ˜¯è‡ªå·±ç”³è¯·è¯ä¹¦å®ç°httpsï¼Œè¿™æ ·ä¼ªè£…æˆçš„tlsæµé‡æ›´ä¸å®¹æ˜“è¢«å‘ç°</p><span id="more"></span><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="Get-caddy"><a href="#Get-caddy" class="headerlink" title="Get caddy"></a>Get caddy</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo curl https://getcaddy.com | bash -s personal</span><br></pre></td></tr></table></figure><h2 id="Get-v2ray"><a href="#Get-v2ray" class="headerlink" title="Get v2ray"></a>Get v2ray</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash &lt;(curl -L -s https://install.direct/go.sh)</span><br></pre></td></tr></table></figure><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="æ³¨å†ŒcaddyæœåŠ¡"><a href="#æ³¨å†ŒcaddyæœåŠ¡" class="headerlink" title="æ³¨å†ŒcaddyæœåŠ¡"></a>æ³¨å†ŒcaddyæœåŠ¡</h2><p>è®©caddyæ‹¥æœ‰érootç”¨æˆ·æ‰“å¼€ç«¯å£çš„æƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">setcap</span> <span class="string">&#x27;cap_net_bind_service=+ep&#x27;</span> /usr/local/bin/caddy</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°<code>setcap: command not found</code>é‚£å°±å®‰è£…ä¸€ä¸‹<code>libcap2-bin</code>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libcap2-bin</span><br></pre></td></tr></table></figure><p>åˆ›å»ºç”¨æˆ·å’Œæ‰€éœ€ç›®å½•å¹¶ä¸”åªèµ‹äºˆå¿…è¦çš„æƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd -g 33 www-data</span><br><span class="line">sudo useradd \</span><br><span class="line">  -g www-data --no-user-group \</span><br><span class="line">  --home-dir /var/www --no-create-home \</span><br><span class="line">  --shell /usr/sbin/nologin \</span><br><span class="line">  --system --uid 33 www-data</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">mkdir</span> /etc/ssl/caddy</span><br><span class="line">sudo <span class="built_in">chown</span> -R root:www-data /etc/ssl/caddy</span><br><span class="line">sudo <span class="built_in">chmod</span> 0770 /etc/ssl/caddy</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">touch</span> /var/log/caddy.log</span><br><span class="line">sudo <span class="built_in">chown</span> root:www-data /var/log/caddy.log</span><br><span class="line">sudo <span class="built_in">chmod</span> 0770 /var/log/caddy.log</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">mkdir</span> /etc/caddy</span><br><span class="line">sudo <span class="built_in">chown</span> -R root:root /etc/caddy</span><br><span class="line">sudo <span class="built_in">touch</span> /etc/caddy/Caddyfile</span><br><span class="line">sudo <span class="built_in">chown</span> root:root /etc/caddy/Caddyfile</span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /etc/caddy/Caddyfile</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">mkdir</span> /var/www</span><br><span class="line">sudo <span class="built_in">chown</span> www-data:www-data /var/www</span><br><span class="line">sudo <span class="built_in">chmod</span> 555 /var/www</span><br></pre></td></tr></table></figure><p>ä¸Šé¢åˆ›å»ºäº†ä¸‰ä¸ªç›®å½•ï¼Œ<code>/etc/caddy/Caddyfile</code> æ˜¯ Caddy çš„é…ç½®æ–‡ä»¶ï¼Œ<code>/etc/ssl/caddy</code> å­˜æ”¾è¯ä¹¦ï¼Œ<code>/var/www</code> æ˜¯é»˜è®¤çš„ç½‘ç«™ç›®å½•ã€‚</p><p>æŠŠå®˜æ–¹æä¾›çš„è„šæœ¬ <a href="https://github.com/mholt/caddy/blob/master/dist/init/linux-systemd/caddy.service">caddy.service</a>ä¸‹è½½åˆ° <code>/etc/systemd/system/</code> å¹¶é‡æ–°åŠ è½½ <code>systemd daemon</code>ï¼Œè®©é…ç½®ç”Ÿæ•ˆã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/caddyserver/caddy/master/dist/init/linux-systemd/caddy.service</span><br><span class="line">sudo <span class="built_in">cp</span> caddy.service /etc/systemd/system/</span><br><span class="line">sudo <span class="built_in">chown</span> root:root /etc/systemd/system/caddy.service</span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /etc/systemd/system/caddy.service</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl start caddy.service</span><br></pre></td></tr></table></figure><p>è®© Caddy å¼€æœºè‡ªå¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> caddy.service</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒCaddy å·²ç»æˆåŠŸæ³¨å†ŒæœåŠ¡ï¼Œå¹¶èƒ½å¤Ÿå¼€æœºè‡ªå¯äº†ã€‚</p><h2 id="é…ç½®Caddyfile"><a href="#é…ç½®Caddyfile" class="headerlink" title="é…ç½®Caddyfile"></a>é…ç½®Caddyfile</h2><p>ä¿®æ”¹<code>/etc/caddy/Caddyfile</code>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œç”¨æ¥é…ç½®åå‘ä»£ç†ï¼Œ<code>mydomain.me</code>æ›¿æ¢ä¸ºä½ çš„åŸŸåï¼š<br>ï¼ˆç‚¹å³ä¸Šé“¾æ¥åå¯ä»¥ç¼–è¾‘é…ç½®æ–‡ä»¶åå†å¤åˆ¶ï¼‰</p><figure class="highlight plaintext"><figcaption><span>/etc/caddy/Caddyfile</span><a href="https://paste.to/en/clone/5de34d1fbce5a">Caddyfile</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mydomain.me</span><br><span class="line">&#123;</span><br><span class="line">  root /var/www/mydomain.me</span><br><span class="line">  tls ä½ çš„é‚®ç®±</span><br><span class="line">  log /var/log/caddy.log</span><br><span class="line">  proxy /ray localhost:10000 &#123;</span><br><span class="line">    websocket</span><br><span class="line">    header_upstream -Origin</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡å¯caddyæœåŠ¡å™¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart caddy</span><br></pre></td></tr></table></figure><h2 id="é…ç½®v2ray-conf"><a href="#é…ç½®v2ray-conf" class="headerlink" title="é…ç½®v2ray conf"></a>é…ç½®v2ray conf</h2><p>ä¿®æ”¹<code>/etc/v2ray/config.json</code>æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight json"><figcaption><span>/etc/v2ray/config.json</span><a href="https://paste.to/en/clone/5de35ac9c897b">config.json</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;inbounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">10000</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;listen&quot;</span><span class="punctuation">:</span><span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span><span class="comment">//åªç›‘å¬ 127.0.0.1ï¼Œé¿å…é™¤æœ¬æœºå¤–çš„æœºå™¨æ¢æµ‹åˆ°å¼€æ”¾äº† 10000 ç«¯å£</span></span><br><span class="line">      <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vmess&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;clients&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;alterId&quot;</span><span class="punctuation">:</span> <span class="number">64</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;streamSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;network&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ws&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;wsSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/ray&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;outbounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;freedom&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="å®Œäº‹"><a href="#å®Œäº‹" class="headerlink" title="å®Œäº‹"></a>å®Œäº‹</h1><h2 id="å®¢æˆ·ç«¯é…ç½®"><a href="#å®¢æˆ·ç«¯é…ç½®" class="headerlink" title="å®¢æˆ·ç«¯é…ç½®"></a>å®¢æˆ·ç«¯é…ç½®</h2><figure class="highlight json"><figcaption><span>/etc/v2ray/config.json</span><a href="https://paste.to/en/clone/5de35b2f78656">config.json</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;inbounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">1080</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;listen&quot;</span><span class="punctuation">:</span> <span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;socks&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;sniffing&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;destOverride&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;http&quot;</span><span class="punctuation">,</span> <span class="string">&quot;tls&quot;</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;auth&quot;</span><span class="punctuation">:</span> <span class="string">&quot;noauth&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;udp&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;outbounds&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vmess&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;vnext&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mydomain.me&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">443</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;users&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">              <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;alterId&quot;</span><span class="punctuation">:</span> <span class="number">64</span></span><br><span class="line">              <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;streamSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;network&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ws&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;security&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tls&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;wsSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/ray&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒï¼š<br> <a href="https://github.com/caddyserver/caddy/tree/master/dist/init/linux-systemd">https://github.com/caddyserver/caddy/tree/master/dist/init/linux-systemd</a><br> <a href="https://guide.v2fly.org/advanced/wss_and_web.html">https://guide.v2fly.org/advanced/wss_and_web.html</a></p></blockquote><div class="note default"><h4 id="Note-å¦ä¸€ç§ä¼ªè£…çš„æ–¹å¼"><a href="#Note-å¦ä¸€ç§ä¼ªè£…çš„æ–¹å¼" class="headerlink" title="Note:å¦ä¸€ç§ä¼ªè£…çš„æ–¹å¼"></a>Note:å¦ä¸€ç§ä¼ªè£…çš„æ–¹å¼</h4> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;transport&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;quicSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;security&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;header&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wechat-video&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      
        <tags>
            
            <tag> Systemctl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo newåè‡ªåŠ¨æ‰“å¼€ä½ å–œçˆ±çš„ç¼–è¾‘å™¨</title>
      <link href="/open-your-farvorite-editor-after-new-hexo-post/"/>
      <url>/open-your-farvorite-editor-after-new-hexo-post/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä½œä¸ºä¸€ä¸ªç”¨hexoå†™åšå®¢çš„bloggerï¼Œæ¯æ¬¡å†™æ–‡ç« éƒ½æ˜¯ä»¶éº»çƒ¦äº‹ï¼šå¯¹æˆ‘æ¥è¯´ï¼Œè¦å…ˆç”¨Codeæ‰“å¼€Hexoå·¥ä½œåŒºï¼Œç„¶å<code>Ctrl+` </code>æ‰“å¼€ç»ˆç«¯å…ˆpullä¸€ä¸‹ï¼Œå†å¼€å§‹<code>hexo new post something</code>ï¼Œæ¥ä¸‹æ¥å»ç›®å½•æ‰¾åˆ°_postsï¼Œç‚¹è¿›å»æ‰“å¼€åˆšåˆ›å»ºçš„mdï¼Œç„¶åï¼Œæ‰å¼€å§‹å†™æ–‡ç« ã€‚</p></blockquote><p>è¿™ç¯‡postå°±æ˜¯è§£å†³ä¼—å¤šç¹æ‚æ­¥éª¤ä¸­çš„ä¸€ç¯ï¼šæ‰¾mdæ–‡ä»¶ç„¶åæ‰“å¼€çš„è¿‡ç¨‹ã€‚</p><!---more----><p>å¾ˆç®€å•ï¼Œè¦åšçš„å°±æ˜¯å†™ä¸ªè„šæœ¬è®©<code>NodeJS</code>çŸ¥é“æˆ‘ä»€ä¹ˆæ—¶å€™æ–°å»ºäº†postï¼Œç„¶åè„šæœ¬å¸®æˆ‘æ‰“å¼€åˆšæ–°å»ºå¥½çš„post.mdï¼Œæœ€ä¸»è¦çš„æ˜¯ï¼Œå¯ä»¥ç”¨è‡ªå·±å–œçˆ±çš„ç¼–è¾‘å™¨ï¼Œæ¯”å¦‚è¯´æˆ‘ç”¨çš„æ˜¯<a href="https://typora.io/">Typora</a>ã€‚</p><ol><li><p>åœ¨ä½ çš„hexoç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åå«<code>scripts</code>ï¼ˆä½ çš„hexoç›®å½•å°±æ˜¯ä½ æ‰§è¡Œhexoå‘½ä»¤çš„ç›®å½•ï¼‰</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> scripts</span><br><span class="line"><span class="built_in">cd</span> scripts</span><br></pre></td></tr></table></figure></li><li><p>åœ¨<code>scripts</code>æ–‡ä»¶å¤¹é‡Œæ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶å«åš<code>AutoOpenEditor.js</code>ï¼ˆä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åå­—ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> spawn = <span class="built_in">require</span>(<span class="string">&#x27;hexo-util/lib/spawn&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">spawn</span>(<span class="string">&#x27;C:/\Program Files/\Typora/\Typora.exe&#x27;</span>, [data.<span class="property">path</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™å‡ å¥è¯çš„å¤§æ¦‚æ„æ€å°±æ˜¯ï¼Œåœ¨æ£€æµ‹åˆ°æ‰§è¡Œ<code>hexo new</code>å‘½ä»¤åï¼Œè§¦å‘è¿™ä¸ªè„šæœ¬ï¼Œç„¶åè„šæœ¬æ‰§è¡Œ<code>C:\Program Files\Typora\Typora.exe [æ–‡ä»¶è·¯å¾„]</code>è¿™ä¸ªå‘½ä»¤ï¼Œ<code>spawn()</code>é‡Œå°±æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤å’Œå‚æ•°ï¼Œæœ‰æ–œæ çš„è¯éœ€è¦ç”¨è½¬ä¹‰ç¬¦ã€‚</p><p>è¿™é‡Œæˆ‘ç”¨çš„æ˜¯Typoraç¼–è¾‘å™¨ï¼Œä½ ä¹Ÿå¯ä»¥è®©å®ƒç”¨VScodeæ¥æ‰“å¼€ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> spawn = <span class="built_in">require</span>(<span class="string">&#x27;hexo-util/lib/spawn&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">spawn</span>(<span class="string">&#x27;code&#x27;</span>,<span class="string">&#x27;-r&#x27;</span>,[data.<span class="property">path</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯é’ˆå¯¹åœ¨VScodeé‡Œå·²ç»æ‰“å¼€hexoç›®å½•å·¥ä½œåŒºçš„æƒ…å†µï¼Œ<code>-r</code>è®©codeä¸æ‰“å¼€æ–°çª—å£ï¼Œè€Œæ˜¯ä½œä¸ºæ ‡ç­¾é¡µæ‰“å¼€ã€‚</p></li></ol><p>è¿™æ ·å°±å¯ä»¥äº†ï¼Œä»¥åæ¯æ¬¡<code>hexo new post</code>ï¼Œéƒ½ä¼šåœ¨æ–°å»ºåå¸®ä½ æ‰“å¼€ç¼–è¾‘å™¨ï¼Œè™½ç„¶åªæ˜¯å°‘äº†ä¸€å°ç¯ï¼Œä½†æ˜¯è®©ä½ å†™åšå®¢æ›´æœ‰åŠ¨åŠ›äº†ä¸æ˜¯ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo tricks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨JSè„šæœ¬å®ç°å¾®ä¿¡å…¬ä¼—å·åå°ä¼šå‘˜å¡ä¿¡æ¯å¯¼å‡º</title>
      <link href="/Wechat-vip-info-export/"/>
      <url>/Wechat-vip-info-export/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨æ•™ç¨‹ï¼š<a href="/wechat-vip-how-to">å¦‚ä½•å¯¼å‡ºå¾®ä¿¡å…¬ä¼—å·çš„ä¼šå‘˜ä¿¡æ¯</a></p><div class="note info no-icon"><p>æœ¬æ–‡è®²å®ç°è¿‡ç¨‹</p></div><blockquote><p>äº¤ä»£èƒŒæ™¯ï¼šå¾®ä¿¡å…¬ä¼—å·è®¤è¯å¿«åˆ°æœŸäº†ï¼Œæ²¡æœ‰éœ€æ±‚å°±ä¸æƒ³å†ç»§ç»­è®¤è¯ï¼Œä¸€å¹´300æœ‰ç‚¹è´µã€‚ä½†æ˜¯é¡¾å®¢çš„ä¼šå‘˜å¡æ˜¯ç”¨å¾®ä¿¡çš„å¡åˆ¸åŠŸèƒ½åŠç†çš„ï¼Œå°±éœ€è¦å¯¼å‡ºæ‰€æœ‰ä¼šå‘˜çš„ä¿¡æ¯å¹¶ä¸”å¯¼å…¥åˆ°å¦ä¸€ä¸ªä¼šå‘˜ç®¡ç†ç³»ç»Ÿé‡Œé¢ã€‚</p></blockquote><p>æŸ¥äº†å‡ éå¾®ä¿¡å…¬ä¼—å·å¼€å‘è€…çš„æ–‡æ¡£ï¼Œå‘ç°åªå¯ä»¥ç”¨APIå¾—åˆ°å…³æ³¨åˆ—è¡¨ï¼Œæˆ–è€…åˆ›å»ºä¼šå‘˜å¡ï¼Œå°±æ˜¯ä¸å¯ä»¥å¾—åˆ°ä¼šå‘˜ä¿¡æ¯ã€‚çœ‹æ¥æ˜¯æ•…æ„çš„ä¸æƒ³è®©æˆ‘è½»æ˜“å¯¼å‡ºä¼šå‘˜ä¿¡æ¯ã€‚</p><p>æƒ³äº†å‡ ç§æ€è·¯ï¼šPythonï¼Ÿæ‰‹åŠ¨å¯¼å‡ºï¼Ÿjavascriptï¼Ÿ<br>ä¼šå‘˜ä¸¤ç™¾å¤šä¸ªï¼Œæ‰‹åŠ¨ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯ä½œä¸ºç¨‹åºå‘˜ï¼Œèƒ½è®©ç”µè„‘è‡ªå·±åŠ¨æˆ‘å°±ç»ä¸åŠ¨ã€‚</p><span id="more"></span><p>è‡³äºä¸ºä»€ä¹ˆæ²¡ç”¨Pythonï¼Œä¸»è¦æ˜¯å…¬ä¼—å·åå°çš„ç™»å½•è®¤è¯æœ‰ç‚¹å¤æ‚ï¼Œåˆæ˜¯è¾“å¯†ç åˆæ˜¯æ‰«ç ï¼Œè¿˜è®¤æµè§ˆå™¨ï¼Œå¯¹pythonç›¸å½“ä¸å‹å¥½ã€‚</p><p>äºæ˜¯é¢å¯¹ç€è¿™ä¸ªé¡µé¢ï¼Œæƒ³äº†å¾ˆä¹…çš„æˆ‘æƒ³åˆ°ç”¨Javascriptã€‚<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/Wechat-vip-info-export/%E4%BC%9A%E5%91%98%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2.png"></p><p>ä¸æ˜¯æœ‰<code>document.getElementsByClassName</code>å˜›ï¼Œæˆ‘åªè¦æ‰¾åˆ°æ”¾ä¿¡æ¯çš„æ ‡ç­¾çš„classå°±å¥½äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> info = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;msg_pre_view&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span></span><br></pre></td></tr></table></figure><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/Wechat-vip-info-export/console1.png"><br>è¿™æ ·å¾—åˆ°çš„å°±æ˜¯ä»¥å›è½¦ä¸ºåˆ†éš”çš„ä¼šå‘˜ä¿¡æ¯ï¼Œå¾ˆå¥½çš„ç¬¬ä¸€æ­¥ã€‚</p><p>ä¸‹ä¸€å¥å°±æ˜¯æŠŠå®ƒè½¬æ¢æˆæ•°ç»„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> info_array = info.<span class="title function_">split</span>(<span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç„¶åæŠŠä¼šå‘˜ååé¢çš„æ–¹æ¡†å»æ‰ï¼Œå› ä¸ºé‚£é‡Œæ˜¯ä¸€åªå°ç¬”ï¼Œä¹Ÿè¢«æŠ“è¿›æ¥äº†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info_array[<span class="number">1</span>] = info_array[<span class="number">1</span>].<span class="title function_">replace</span>(<span class="string">&quot; î˜€&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç°åœ¨info_arrayå°±é•¿è¿™ä¸ªæ ·å­<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/Wechat-vip-info-export/info_array.png"></p><p>å¦‚ä½ æ‰€è§ï¼Œè¡¨å¤´å’Œå†…å®¹éœ€è¦åˆ†ç¦»ï¼Œç°åœ¨åœ¨åŒä¸€è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> info_es = []</span><br><span class="line"><span class="keyword">var</span> info_head = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)&#123;</span><br><span class="line">    info_head[i]=info_array.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">1</span>)[<span class="number">0</span>];<span class="comment">//å¶æ•°è¡Œä¸ºhead</span></span><br><span class="line">    info_es[i]=info_array.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">1</span>)[<span class="number">0</span>]; <span class="comment">//å¥‡æ•°è¡Œä¸ºå†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·<code>info_es</code>é‡Œå­˜çš„æ‰æ˜¯æˆ‘éœ€è¦çš„ä¿¡æ¯ã€‚</p><p>æ¥ä¸‹æ¥è¿˜æœ‰ä¼šå‘˜å·å’Œç§¯åˆ†ï¼Œæ²¡æœ‰å’Œä¸Šé¢çš„ä¿¡æ¯åœ¨åŒä¸€ä¸ªclassé‡Œé¢ï¼Œå°±å¦å¤–è·å–ä¸€ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> card_no = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;msg_pre_view&quot;</span>)[<span class="number">1</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;span&quot;</span>)[<span class="number">1</span>].<span class="property">innerText</span></span><br><span class="line"><span class="keyword">var</span> card_point = <span class="built_in">parseInt</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;msg_pre_view&quot;</span>)[<span class="number">1</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;span&quot;</span>)[<span class="number">2</span>].<span class="property">innerText</span>)</span><br><span class="line">info_head.<span class="title function_">push</span>(<span class="string">&quot;ä¼šå‘˜å·&quot;</span>,<span class="string">&quot;ç§¯åˆ†&quot;</span>)</span><br><span class="line">info_es.<span class="title function_">push</span>(card_no,card_point)</span><br></pre></td></tr></table></figure><p>åœ¨åé¢å°±æŠŠä¼šå‘˜å·å’Œç§¯åˆ†æ·»åŠ è¿›åˆšæ‰æ•°ç»„çš„æœ«å°¾ã€‚</p><p>ç°åœ¨ï¼Œinfo_eså°±é•¿è¿™ä¸ªæ ·å­<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/Wechat-vip-info-export/info_es.png"><br>é‚£ä¸ºäº†ä¿å­˜æˆ‘ç°åœ¨å¾—åˆ°çš„æ•°æ®ï¼Œæˆ‘è¯•è¿‡ç”¨cookieï¼Œä½†æ˜¯æœ‰ç©ºé—´é™åˆ¶ï¼Œå¹¶å­˜ä¸ä¸‹æˆ‘ä¸¤ç™¾å¤šä¸ªä¼šå‘˜çš„ä¿¡æ¯ï¼Œæ‰€ä»¥åæ¥æ˜¯ä½¿ç”¨äº†localstorageï¼Œæ›´å¥å£®ä¹Ÿæ¯”cookieå¤§å¾ˆå¤šï¼Œè€Œä¸”å­˜å–åªè¦ä¸¤å¥è¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;csv&quot;</span>,csv);<span class="comment">//å­˜</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;csv&quot;</span>);<span class="comment">//å–</span></span><br></pre></td></tr></table></figure><p>å°±å–œæ¬¢è¿™ä¹ˆç®€å•çš„</p><p>ä¸è¿‡åœ¨å­˜ä¹‹å‰å…ˆæŠŠæˆ‘ä»¬æ•°ç»„è½¬æ¢æˆcsvçš„æ ¼å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> csv = info_es.<span class="title function_">join</span>(<span class="string">&quot;,&quot;</span>)</span><br></pre></td></tr></table></figure><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/Wechat-vip-info-export/csv.png" alt="csv"><br>æ‰€è°“csvæ ¼å¼å°±æ˜¯ï¼Œé€—å·åˆ†éš”æ•°æ®ï¼Œä»¥<code>\n</code>æ¢è¡Œç¬¦æ¥åˆ†éš”è¡Œï¼Œè¿™é‡Œæ˜¯ä¸€è¡Œçš„æ•°æ®ï¼Œæ‰€ä»¥è¿˜æ²¡çœ‹åˆ°<code>\n</code>ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯ï¼ŒæŠŠcsvå˜é‡å­˜è¿›localStorageé‡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;csv&quot;</span>,csv);</span><br></pre></td></tr></table></figure><p>å·²ç»å¾ˆå®Œç¾äº†ï¼Œä½†è¿™è¿˜åªæ˜¯ä¸€è¡Œï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ˜Ÿè¾°å’Œå¤§æµ·ã€‚</p><p>ä¸ºäº†å®ç°é¡µå†…è·³è½¬ï¼Œæˆ‘ç”¨<code>window.location.href</code>è¿™ä¸ªå€¼æ¥å®šä¹‰å½“å‰çš„URLï¼Œè¿™æ ·å°±ä¸å¿…æ‰“å¼€æ–°çª—å£å†å…³é—­ã€‚</p><p>ä¸‹é¢è®²è®²ä¸»è¦æ€è·¯ï¼šåœ¨ä¼šå‘˜åˆ—è¡¨é¡µå¼€å§‹ï¼Œè®¡æ•°å™¨å†™1ï¼Œç‚¹ç¬¬ä¸€ä¸ªä¼šå‘˜çš„è¯¦æƒ…ï¼ŒæŠŠæ•°æ®å¼„å¥½å­˜è¿›localstorageï¼Œè¿”å›ä¼šå‘˜åˆ—è¡¨é¡µï¼Œè®¡æ•°å™¨åŠ ä¸€ï¼Œç‚¹ç¬¬äºŒä¸ªï¼Œ è¯»å–localstorageé‡Œçš„csvï¼ŒæŠŠå½“å‰ä¼šå‘˜æ•°æ®è¿½åŠ è¿›csvï¼Œå­˜csvï¼Œä»¥æ­¤ç±»æ¨ï¼Œè®¡æ•°å™¨åŠ åˆ°å¤§äº10çš„æ—¶å€™ç‚¹ä¸‹ä¸€é¡µçš„æŒ‰é’®ï¼Œç„¶åè®¡æ•°å™¨å†™1ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯åˆ—è¡¨é¡µçš„jsä»£ç ä¸èƒ½é©¬ä¸Šå°±è¿è¡Œï¼Œåˆ—è¡¨è¿˜æ²¡åŠ è½½å‡ºæ¥ï¼Œä¼šæŠ¥é”™ã€‚è¦ç”¨<code>window.addEventListener(&#39;load&#39;, function() &#123;&#125;</code>æ¥åˆ¤æ–­é¡µé¢åŠ è½½å®Œæˆï¼Œå®Œæˆåå°±æ‰§è¡Œ{}é‡Œçš„è¯­å¥ã€‚</p><p>æ€»çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">read_info</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> info = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;msg_pre_view&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span></span><br><span class="line">        <span class="keyword">var</span> info_array = info.<span class="title function_">split</span>(<span class="string">&quot;\n&quot;</span>)<span class="comment">//è½¬æ¢ä¿¡æ¯ä¸ºæ•°ç»„</span></span><br><span class="line">        info_array[<span class="number">1</span>] = info_array[<span class="number">1</span>].<span class="title function_">replace</span>(<span class="string">&quot; î˜€&quot;</span>,<span class="string">&quot;&quot;</span>)<span class="comment">//åˆ æ‰ä¼šå‘˜ååé¢å°ç¬”çš„å›¾æ ‡</span></span><br><span class="line">        <span class="keyword">var</span> info_es = []</span><br><span class="line">        <span class="keyword">var</span> info_head = []</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)&#123;</span><br><span class="line">            info_head[i]=info_array.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">1</span>)[<span class="number">0</span>];<span class="comment">//å¶æ•°è¡Œä¸ºhead</span></span><br><span class="line">            info_es[i]=info_array.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">1</span>)[<span class="number">0</span>]; <span class="comment">//å¥‡æ•°è¡Œä¸ºå†…å®¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> card_no = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;msg_pre_view&quot;</span>)[<span class="number">1</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;span&quot;</span>)[<span class="number">1</span>].<span class="property">innerText</span></span><br><span class="line">        <span class="keyword">var</span> card_point = <span class="built_in">parseInt</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;msg_pre_view&quot;</span>)[<span class="number">1</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;span&quot;</span>)[<span class="number">2</span>].<span class="property">innerText</span>)</span><br><span class="line">        info_head.<span class="title function_">push</span>(<span class="string">&quot;ä¼šå‘˜å·&quot;</span>,<span class="string">&quot;ç§¯åˆ†&quot;</span>)</span><br><span class="line">        info_es.<span class="title function_">push</span>(card_no,card_point)</span><br><span class="line">        <span class="keyword">var</span> csv = info_es.<span class="title function_">join</span>(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> csv</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> step = <span class="built_in">parseInt</span>(<span class="title function_">getCookie</span>(<span class="string">&quot;step&quot;</span>))<span class="comment">//è¿™ä¸ªå°±æ˜¯è®¡æ•°å™¨</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">has</span>(<span class="string">&quot;action=user_list&quot;</span>))&#123;<span class="comment">//åˆ†æ”¯1ï¼šåœ¨ä¼šå‘˜åˆ—è¡¨é¡µ</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">getCookie</span>(<span class="string">&quot;step&quot;</span>)==<span class="string">&quot;&quot;</span>)&#123;<span class="comment">//å¦‚æœç¬¬ä¸€æ¬¡è¿è¡Œè„šæœ¬ï¼Œè®¡æ•°å™¨å†™1</span></span><br><span class="line">                <span class="title function_">setCookie</span>(<span class="string">&quot;step&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">                step = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(step&gt;<span class="number">10</span>)&#123;<span class="comment">//è®¡æ•°å™¨å¤§äº10çš„æ—¶å€™æŠŠè‡ªå·±å†™1ï¼Œç‚¹ä¸‹ä¸€é¡µæŒ‰é’®</span></span><br><span class="line">                step=<span class="number">1</span></span><br><span class="line">                <span class="title function_">setCookie</span>(<span class="string">&quot;step&quot;</span>,step)</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;js_next_page&quot;</span>).<span class="title function_">click</span>()<span class="comment">//å»å¾€ä¸‹ä¸€é¡µ</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span>(err) &#123;<span class="comment">//å¦‚æœæ²¡æœ‰ä¸‹ä¸€é¡µå¯ä»¥å»äº†å°±æç¤ºå®Œæˆï¼Œä¸‹è½½csvæ–‡ä»¶</span></span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">&quot;å¯¼å‡ºå®Œæˆï¼Œä¸‹è½½csvæ–‡ä»¶&quot;</span>)</span><br><span class="line">                    <span class="keyword">var</span> csv = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;csv&quot;</span>)</span><br><span class="line">                    csv = <span class="string">&quot;ä¼šå‘˜,åœ°åŒº,å§“å,æ‰‹æœº,ç”Ÿæ—¥,çŠ¶æ€,æ˜¯å¦å…³æ³¨,æ ‡ç­¾,ä¼šå‘˜å·,ç§¯åˆ†\n&quot;</span>+csv</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;data:text/csv;charset=utf-8,&quot;</span>+csv)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;next page&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span><span class="comment">//è¿™ä¸ªreturnå¿…é¡»è¦å¦åˆ™ä¸‹ä¸€é¡µçš„ç‚¹å‡»é€Ÿåº¦èµ¶ä¸ä¸Šå»è¯¦æƒ…é¡µçš„é€Ÿåº¦</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;step:&quot;</span>+step)</span><br><span class="line">            <span class="title function_">setCookie</span>(<span class="string">&quot;back_url&quot;</span>,<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>)<span class="comment">//æŠŠåˆ—è¡¨é¡µçš„URLå­˜è¿›cookie</span></span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>=<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;tbody&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;a&quot;</span>)[step*<span class="number">2</span>-<span class="number">1</span>].<span class="property">href</span><span class="comment">//å»å¾€è¯¦æƒ…é¡µ</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">has</span>(<span class="string">&quot;action=user_detail&quot;</span>))&#123;<span class="comment">//åˆ†æ”¯2ï¼šåœ¨ä¼šå‘˜è¯¦æƒ…é¡µ</span></span><br><span class="line">            step++;</span><br><span class="line">            <span class="title function_">setCookie</span>(<span class="string">&quot;step&quot;</span>,step)</span><br><span class="line">            <span class="comment">/*åœ¨è¿™é‡Œåšäº‹æƒ…*/</span></span><br><span class="line">            <span class="keyword">var</span> csv = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;csv&quot;</span>)<span class="comment">//æ‹¿å‡ºå­˜åœ¨localstorageé‡Œçš„csvå˜é‡</span></span><br><span class="line">            <span class="keyword">if</span> (csv == <span class="literal">null</span>)&#123;<span class="comment">//å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œè„šæœ¬ï¼Œcsvçš„å€¼å°±æ˜¯null</span></span><br><span class="line">                csv = <span class="string">&quot;&quot;</span></span><br><span class="line">                <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;csv&quot;</span>,csv)</span><br><span class="line">            &#125;</span><br><span class="line">            csv = csv+<span class="string">&quot;\n&quot;</span>+<span class="title function_">read_info</span>()<span class="comment">//ç”¨æ¢è¡Œç¬¦åˆ†éš”å·²æœ‰çš„æ•°æ®å’Œè¿™æ¬¡è¯»æ¥çš„æ•°æ®</span></span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;csv&quot;</span>,csv)<span class="comment">//ç”¨localstorageå­˜å‚¨csv</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;back&quot;</span>)</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>=<span class="title function_">getCookie</span>(<span class="string">&quot;back_url&quot;</span>)<span class="comment">//å›åˆ°åˆ—è¡¨é¡µï¼Œæ¯”ç”¨ä¸‹é¢è¿™è¡Œæ›´æœ‰é²æ£’æ€§</span></span><br><span class="line">            <span class="comment">//window.history.back();//åé€€</span></span><br><span class="line">            <span class="comment">//return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œå®ƒéœ€è¦ä¸€ä¸ªè¿è¡Œçš„è½½ä½“ï¼Œé‚£å°±æ˜¯tampermonkeyæ²¡é”™äº†ï¼Œå®Œæ•´çš„è„šæœ¬æˆ‘è¿˜ä¸Šä¼ åˆ°äº†GreasyForkï¼Œåœ¨è¿™é‡Œï¼š<a href="https://greasyfork.org/zh-CN/scripts/387221-%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E4%BC%9A%E5%91%98%E4%BF%A1%E6%81%AF%E5%AF%BC%E5%87%BA-wechat-offical-account-vip-info-export">å¾®ä¿¡å…¬ä¼—å·ä¼šå‘˜ä¿¡æ¯å¯¼å‡º</a></p><p>éœ€è¦çš„å°½ç®¡æ‹¿å»ç”¨å§ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOS Mojave Hackintosh for Lenovo Yoga710 [clover]</title>
      <link href="/hackintosh-of-yoga710/"/>
      <url>/hackintosh-of-yoga710/</url>
      
        <content type="html"><![CDATA[<p>Iâ€™ve been attempt making my laptop work with mojave for like one month, and bought a DW1820 wireless card to fix network problem.  Also there was a lot of problem like brightness, bluetooth, app store, etc. Itâ€™s all work now.</p><span id="more"></span><p>The most tricky part is to drive DW1820(What? I bought it for hackintosh!), I do found kext driver for my card from RehabMan, but seems not work at all. Every time I boot up I see this</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/hackintosh-of-yoga710/error1.jpg"></p><p>Maybe something wrong with Bluetooth since itâ€™s connected via inner USB. But I fixed it by just delete <code>BrcmPatchRAM2.kext</code> and <code>BrcmFirmwareData.kext</code>, and add the address of bluetoothâ€™s USB port to <code>FakePCIID.kext</code>, it workd fine then. no  need of other kext driver.</p><h4 id="Hereâ€™s-my-hardware"><a href="#Hereâ€™s-my-hardware" class="headerlink" title="Hereâ€™s my hardware:"></a>Hereâ€™s my hardware:</h4><div class="note info"><p><strong>Processor</strong>: Intel Core i5-7200U<br><strong>Graphics</strong>: Intel HD Graphics 620, NVDIA Geforce 940MX<br><strong>Memory</strong>: 4096 MB, 2133 MHz, DDR4, 1&#x2F;1 slots occupied, Single-Channel<br><strong>Display</strong>: 14 inch 16:9, 1920 x 1080 pixel 157 PPI, Multitouch<br><strong>Mainboard</strong>: Intel Kaby Lake-U Premium PCH</p></div><div class="note success"><h4 id="What-works-well"><a href="#What-works-well" class="headerlink" title="What works well:"></a>What works well:</h4><ul><li>Graphics, Brightness(and save brightness)</li><li>Keyboard &amp; Trackpad</li><li>Audio</li><li>Battery</li><li>Airprot</li><li>Bluetooth</li><li>HDMI output with audio</li><li>Headphone jack include microphone</li></ul></div><div class="note danger"><h4 id="What-is-not-working"><a href="#What-is-not-working" class="headerlink" title="What is not working:"></a>What is not working:</h4><ul><li>NVDIA Geforce 940MX</li><li>Touch screen</li><li>Sleep function(just about work, it wake immediately after sleep)</li><li>SD card reader</li></ul></div><div class="note default"><h4 id="Something-you-need-attention"><a href="#Something-you-need-attention" class="headerlink" title="Something you need attention:"></a>Something you need attention:</h4><p>brightness can be adjust at setting, you can add a key map yourself.<br>You can enable HIDPI :<a href="https://github.com/xzhih/one-key-hidpi">one-key-hidpi</a></p></div><p>Iâ€™m just put the clover file of myself here, hope thereâ€™s help for you. As for installing detals, itâ€™s alot outside.</p><p>Download link: <a href="CLOVER.zip">clover file of yoga 710</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hackintosh </tag>
            
            <tag> English Article </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç±³6åˆ·å…¥miuiæ¬§æ´²ç‰ˆä»¥åŠå®‰è£…å°ç±³é’±åŒ…ã€åº”ç”¨å•†åº—APP,å¼€å¯å…¨ç›˜åŠ å¯†</title>
      <link href="/miui-eu/"/>
      <url>/miui-eu/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon"><p><a href="https://xiaomi.eu/community/forums/miui-rom-releases.103/">miui.eu</a>ï¼Œä¸€ä¸ªçœŸæ­£æ²¡æœ‰å¹¿å‘Šçš„ç³»ç»Ÿï¼Œæ¯”å›½é™…ç‰ˆè¿˜è¦çº¯å‡€</p></div><p>æˆ‘ä¸€å¼€å§‹ç…§ç€çŸ¥ä¹<a href="https://www.zhihu.com/question/50231539">è¿™ä¸ªæ•™ç¨‹</a>åˆ·çš„ï¼Œåˆ·äº†åæ­»æ´»å¼€ä¸äº†æœºï¼Œä¹Ÿå°±æ˜¯å¡åœ¨äº†MIç•Œé¢ï¼Œåæ¥åœ¨miuiæ¬§æ´²è®ºå›æ‰¾åˆ°äº†<a href="https://xiaomi.eu/community/threads/bootloop-problem-while-flashing-eu-stable.46593/">è¿™ä¸ª</a>ç­”æ¡ˆï¼Œå®Œå…¨ç¬¦åˆæˆ‘çš„æƒ…å†µï¼Œä¸èƒ½ç›´æ¥ä»å›½å†…ç‰ˆåˆ·æˆæ¬§æ´²ç‰ˆï¼Œè¦å…ˆåˆ·ä¸ªå›½é™…ç‰ˆï¼Œåœ¨å›½é™…ç‰ˆçš„åŸºç¡€ä¸Šæ‰èƒ½åˆ·æ¬§æ´²ç‰ˆã€‚</p><blockquote><p>miuiæ¬§æ´²ç‰ˆè‡ªå¸¦äººè„¸è§£é”ï¼ŒæŠ¬èµ·äº®å±ï¼Œè¿˜æœ‰è°·æ­Œçš„Smart Lockï¼ŒæŒºæœ‰æ„æ€ã€‚</p></blockquote><span id="more"></span><hr><blockquote><p>2020-02-20 æ›´æ–°:</p><p>ä¸å†è·Ÿéšå®˜æ–¹miuiçš„é“¾æ¥, å› ä¸ºå®˜æ–¹å·²ç»ä¸å†æ›´æ–°å¼€å‘æ¿çš„é“¾æ¥, æ‰¾äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹åˆ—è¡¨: <a href="https://miuiver.com/sagit_developer_recovery/">å°ç±³6 MIUIå¼€å‘ç‰ˆä¸‹è½½ç´¢å¼• (å¡åˆ·åŒ…)</a>. ç°åœ¨è¿˜æ˜¯æ¯å‘¨è‡ªåŠ¨ç”Ÿæˆä¸€æ¬¡, å‘å¸ƒåœ¨è¿™é‡ŒğŸ‘‰<a href="https://github.com/xiaoxx970/mipay-extract/releases">releases é¡µé¢</a>, è¦æ³¨æ„è‡ªä»9.8.15åé¢çš„ç‰ˆæœ¬æˆ‘éƒ½æ²¡æœ‰è‡ªå·±æµ‹è¯•è¿‡, å‡ºäº†é—®é¢˜å¼€æœºå¡ç±³ä»€ä¹ˆçš„ä¸€èˆ¬æ¸…dataå¯ä»¥è§£å†³.</p></blockquote><blockquote><p>2019-08-18 æ›´æ–°ï¼š</p><p>ç°åœ¨å·²ç»åŠå¤œ1ç‚¹ï¼Œæˆ‘çš„å°ç±³6æ­£åœ¨é€šè¿‡çº¿åˆ·åˆ·å›½å†…ç‰ˆmiuiï¼Œèµ·å› æ˜¯è¿™æ¬¡æ›´æ–°miui9.8.15ç‰ˆæœ¬åå‡ºäº†ä¸€ç‚¹é—®é¢˜æ€ä¹ˆä¹Ÿå¼€ä¸äº†æœºï¼Œå…·ä½“çš„é—®é¢˜åº”è¯¥å°±æ˜¯æ¢è¡Œç¬¦çš„é—®é¢˜ï¼Œæˆ‘åˆšé€šè¿‡è„šæœ¬è‡ªåŠ¨è·å–é“¾æ¥çš„æ–¹å¼åšåˆ°æŒç»­é›†æˆï¼Œå¯ä»¥å…¨è‡ªåŠ¨ç”Ÿæˆåˆ·æœºåŒ…è€Œä¸ç”¨æ¯æ¬¡æ”¹ä¸¤ä¸ªé“¾æ¥ä»¥åŠgit commit,tag,pushç­‰ï¼Œç°åœ¨åªè¦åœ¨æŒç»­é›†æˆé‚£è¾¹å¼€ä¸ªå®šæ—¶ï¼Œå°±å¯ä»¥æ¯å‘¨è‡ªåŠ¨å‡ºç‚‰ä¿®å¤åˆ·æœºåŒ…å¹¶ä¸”ä¸Šä¼ åˆ°GitHubçš„releaseé¡µé¢ï¼Œå¯æƒœæˆ‘å†ä¹Ÿç”¨ä¸åˆ°äº†ï¼ˆå¤§æ¦‚ï¼‰ï¼Œè¿˜éœ€è¦çš„æœ‹å‹è®°å¾—åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šè€ƒè™‘åŠ ä¸Šå…¶ä»–æœºå‹æˆ–è€…å‡ºä¸ªæŒç»­é›†æˆçš„æ•™ç¨‹ã€‚</p><p>é“¾æ¥åœ¨è¿™é‡Œï¼š<a href="https://github.com/xiaoxx970/mipay-extract/releases">https://github.com/xiaoxx970/mipay-extract/releases</a></p><p>ç°åœ¨å·²ç»å¼€å¯äº†æ¯å‘¨æ›´æ–°ï¼Œä¸ç”¨æˆ‘åŠ¨å°±ä¼šä¿æŒæœ€æ–°ç‰ˆæœ¬çš„ï¼Œç”¨ç€miuiæ¬§æ´²ç‰ˆçš„åŒå­¦æ¯æ¬¡æ›´æ–°å‰å»è¿™ä¸ªé¡µé¢ä¸‹è½½ä¸€ä¸‹å°±å¯ä»¥åˆ·æœºäº†ã€‚ </p></blockquote><p>é¦–å…ˆè¦è¯´çš„æ˜¯ï¼Œè¦æŠ˜è…¾ï¼Œå…ˆå¤‡ä»½ã€‚<br>å¦‚æœä½ ç”¨äº†è°·æ­ŒéªŒè¯å™¨ï¼Œå¯ä»¥è±¡æˆ‘ä¸€æ ·æ¢æˆAuthyï¼Œé€šè¿‡æ‰‹æœºç™»å½•ï¼Œä¸ç”¨æ‹…å¿ƒæ¢æ‰‹æœºæ‰¾ä¸å›æ¥<br>å¾®ä¿¡å¯ä»¥é€šè¿‡Windowsç«¯å¤‡ä»½èŠå¤©è®°å½•<br>ç›¸å†ŒçŸ­ä¿¡ä¾¿ç­¾ä»€ä¹ˆçš„å°±äº¤ç»™å°ç±³äº‘ï¼Œå·®ä¸å¤šå°±è¿™äº›</p><p>å…¶æ¬¡è¦è¯´çš„æ˜¯ï¼Œç­‰ä¸‹ç”¨åˆ°çš„æ‰€æœ‰æå–å‡ºæ¥çš„åˆ·æœºåŒ…ï¼Œåœ¨æ¯ä¸€æ¬¡æ›´æ–°ç³»ç»Ÿåéƒ½ä¼šå¤±æ•ˆï¼Œä½ å¯ä»¥é€‰æ‹©å†æ¬¡åˆ·å…¥ã€‚<br>ç‰¹åˆ«åœ°ï¼Œå…³äºæ”¯ä»˜å®‰å…¨ï¼Œeuå›ºä»¶é»˜è®¤å…³é—­äº†å…¨ç›˜å¼ºåˆ¶åŠ å¯†ï¼ˆFBEï¼‰åŠŸèƒ½ï¼Œè¿™è·Ÿå›½å†…å›ºä»¶ä¸ä¸€æ ·ï¼Œæœ€ç›´æ¥çš„å½±å“å°±æ˜¯è¿›å…¥æ¢å¤æ¨¡å¼ä¸ç”¨è§£å¯†ï¼Œæ•°æ®æš´éœ²åœ¨æ¡åˆ°ä½ æ‰‹æœºçš„äººé¢å‰ï¼Œæ‰€ä»¥æˆ‘æ˜¯é€‰æ‹©åˆ·å…¥äº†å¼€å¯åŠ å¯†çš„è¡¥ä¸åŒ…ï¼ŒåŒæ ·çš„æ¯ä¸€æ¬¡æ›´æ–°ç³»ç»Ÿå°±å¿…é¡»åœ¨æ›´æ–°åé‡æ–°åˆ·å…¥<code>force-fbe</code>åŒ…ï¼Œå¦åˆ™æ— æ³•å¼€æœºã€‚</p><h1 id="è¯·é€‰æ‹©ä½ çš„é€‰æ‹©â†“"><a href="#è¯·é€‰æ‹©ä½ çš„é€‰æ‹©â†“" class="headerlink" title="è¯·é€‰æ‹©ä½ çš„é€‰æ‹©â†“"></a>è¯·é€‰æ‹©ä½ çš„é€‰æ‹©â†“</h1><div class="tabs" id="fbe"><ul class="nav-tabs"><li class="tab active"><a href="#fbe-1">å¼€å¯å…¨ç›˜åŠ å¯†</a></li><li class="tab"><a href="#fbe-2">ä¸å¼€å¯å…¨ç›˜åŠ å¯†</a></li></ul><div class="tab-content"><div class="tab-pane active" id="fbe-1"><p>ä¸‹é¢ä»ç¬¬ä¸€æ­¥ï¼Œä½ è¿˜æ˜¯ä¸ªå›½å†…miuiç³»ç»Ÿå¼€å§‹</p><h1 id="è§£é”bootloader"><a href="#è§£é”bootloader" class="headerlink" title="è§£é”bootloader"></a>è§£é”bootloader</h1><p>çœ‹è¿™é‡ŒğŸ‘‰ <a href="http://www.miui.com/unlock/index.html">http://www.miui.com/unlock/index.html</a></p><h1 id="åˆ·å…¥å›½é™…ç‰ˆROM"><a href="#åˆ·å…¥å›½é™…ç‰ˆROM" class="headerlink" title="åˆ·å…¥å›½é™…ç‰ˆROM"></a>åˆ·å…¥å›½é™…ç‰ˆROM</h1><div class="note info"><p>æ ¹æ®è¯„è®ºï¼Œå¯ä»¥ç›´æ¥åˆ·æ¬§æ´²ç‰ˆï¼Œåªè¦åˆ·å®Œæ¬§æ´²ç‰ˆï¼Œæ¸…ç†ä¸€ä¸‹ç¼“å­˜å°±è¡Œäº†ï¼Œæ‰€ä»¥è¿™æ­¥å¯è·³è¿‡è¯•è¯•</p></div><p>æ¬§æ´²ç‰ˆå’Œå›½å†…ç‰ˆç³»ç»Ÿåˆ†åŒºä¸ä¸€æ ·ï¼ˆæˆ‘çŒœçš„ï¼‰ï¼Œç›´æ¥å¡åˆ·æ¬§æ´²ç‰ˆæˆ‘è¯•è¿‡æ²¡æ³•å¼€æœºï¼ˆå¯èƒ½è¿˜æ˜¯å› ä¸ºFBEçš„ç¼˜æ•…ï¼Ÿï¼‰ï¼Œåæ­£ä¸ºäº†ä¿è¯æˆåŠŸå°±å…ˆåˆ·å›½é™…ç‰ˆROMï¼Œé¡ºä¾¿æŠŠç³»ç»Ÿå’Œæ•°æ®ä¹Ÿæ¸…äº†</p><ul><li>å»ä¸‹è½½çº¿åˆ·åŒ…ï¼š<a href="http://en.miui.com/download.html">çº¿åˆ·åŒ…åœ°å€</a></li><li>æ‰‹æœºéŸ³é‡ä¸‹+ç”µæºé”®å¼€æœºï¼Œè¿›å…¥Fastbootæ¨¡å¼</li><li>ä¸‹è½½å°ç±³çš„<a href="http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip">é€šç”¨åˆ·æœºå·¥å…·</a></li><li>æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥å¾€ä¸‹åš</li><li><strong>æ³¨æ„</strong>è½¯ä»¶æ‰“å¼€å³ä¸‹è§’ä¸è¦é€‰<code>å…¨éƒ¨åˆ é™¤å¹¶lock</code>ï¼Œé€‰æ‹©<code>å…¨éƒ¨åˆ é™¤</code>å°±å¯ä»¥äº†</li><li>çº¿åˆ·å…·ä½“æ•™ç¨‹ï¼š<a href="http://www.miui.com/shuaji-393.html">http://www.miui.com/shuaji-393.html</a></li></ul><h1 id="ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp"><a href="#ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp" class="headerlink" title="ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp"></a>ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp</h1><p>æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Œå°±æ˜¯çº¿åˆ·è½¯ä»¶æç¤ºåˆ·å…¥æˆåŠŸï¼Œæ‰‹æœºé‡å¯çš„æ—¶å€™ï¼Œè¿˜æ˜¯æŒ‰ä½éŸ³é‡ä¸‹+ç”µæºé”®å¼€æœºï¼Œè¿›å…¥Fastbootæ¨¡å¼ï¼Œé€šè¿‡ADB(åˆšæ‰ä¸‹è½½çš„é€šç”¨åˆ·æœºå·¥å…·é‡Œæœ‰)ç»ˆç«¯å‘½ä»¤æ¥åˆ·å…¥ã€‚<br>å¦‚æœè¿˜æ˜¯ä¸å°å¿ƒå¼€æœºäº†æ²¡å…³ç³»ï¼Œç­‰ä¸‹åˆ·ç³»ç»Ÿçš„æ—¶å€™åœ¨twrpé‡Œé¢åŒæ¸…ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><ol><li><p><a href="https://twrp.me/Devices/">twrpå®˜æ–¹ä¸‹è½½</a></p><p> é€‰æ‹©ä½ çš„æœºå‹å¯¹åº”ä¸‹è½½ä¸‹æ¥</p></li><li><p>æ‰“å¼€adbç»ˆç«¯</p><p> adbç»ˆç«¯çš„ä½ç½®åœ¨<code>\MiFlash2018-5-28-0\Source\ThirdParty\Google\Android</code>é‡Œé¢ï¼Œè¿›å…¥åˆ°<code>Android</code>æ–‡ä»¶å¤¹ï¼Œé¼ æ ‡åœ¨ç©ºç™½çš„åœ°æ–¹æŒ‰ä½Shiftä»¥åå³é”®ï¼Œé€‰æ‹©åœ¨æ­¤å¤„æ‰“å¼€cmd&#x2F;power shellçª—å£ï¼Œå°±å¯ä»¥ä½¿ç”¨adbäº†ã€‚</p></li><li><p>ç»ˆç«¯è¾“å…¥å‘½ä»¤</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash recovery twrp.img</span><br><span class="line">fastboot boot twrp.img</span><br></pre></td></tr></table></figure><p> <code>twrp.img</code> æ˜¯æ›¿æ¢æˆä½ çš„twrpåŒ…çš„è·¯å¾„å’Œåç§°ã€‚</p><blockquote><p>ç¬¬äºŒæ¡å‘½ä»¤æ‰§è¡Œå®Œåæ‰‹æœºå°±ä¼šè‡ªå·±é‡å¯åˆ°twrpç•Œé¢ï¼Œå¯ä»¥è®¾ç½®æˆä¸­æ–‡ã€‚</p></blockquote></li></ol><h1 id="è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶"><a href="#è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶" class="headerlink" title="è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶"></a>è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶</h1><ol><li><p>å»ä¸‹è½½miuiæ¬§æ´²ç‰ˆï¼š<a href="https://xiaomi.eu/community/link-forums/roms-download.73/">miuiæ¬§æ´²ç‰ˆå‘å¸ƒé¡µé¢</a></p></li><li><p>æ ¼å¼åŒ–dataåˆ†åŒº</p></li><li><p>è¿æ¥ç”µè„‘ï¼ŒæŠŠeuå›ºä»¶æ‹·å…¥sdcardç›®å½•</p><p>æ‰‹æœºåœ¨twrpç•Œé¢ï¼Œç”µè„‘ä¸Šåº”è¯¥èƒ½çœ‹åˆ°æ‰‹æœºï¼Œä¸èƒ½çš„è¯åœ¨æ‰‹æœºç‚¹æŒ‚è½½ï¼Œç„¶åç‚¹å¼€å¯MTP</p></li><li><p>é€‰æ‹©euåŒ…åˆ·æœº</p><div class="note primary"><p>å› ä¸ºä½ é€‰äº†è¦å¼€å¯å…¨ç›˜åŠ å¯†</p></li></ol><p>   åˆ·åˆ°è¿™é‡Œçš„æ—¶å€™æ‰‹æœºå…ˆæ”¾ä¸€è¾¹, åˆ·å®Œä¸è¦å¼€æœº, ä¸‹é¢æ“ä½œç”µè„‘å¼„å‡ºä¿®å¤åŒ…ä¸€èµ·åˆ·äº†ä»¥åå†å¼€æœº</p></div><h1 id="æå–åŠ å¯†åŒ…ä»¥åŠmipay"><a href="#æå–åŠ å¯†åŒ…ä»¥åŠmipay" class="headerlink" title="æå–åŠ å¯†åŒ…ä»¥åŠmipay"></a>æå–åŠ å¯†åŒ…ä»¥åŠmipay</h1><blockquote><p>è¦ä»ä¸­å›½ç‰ˆå›ºä»¶çš„system.imgé‡Œé¢æå–è½¯ä»¶åŒ…ï¼Œè¿˜è¦é€šè¿‡Rootæƒé™æŠŠè½¯ä»¶åŒ…å†™å…¥Systemåˆ†åŒºï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ•™ç¨‹ï¼š<a href="https://www.yipkwong.com/2018/06/06/167/">MIUIå›½é™…ç‰ˆmi payè§£å†³æ–¹æ¡ˆ</a>ï¼Œé‡Œé¢å™è¿°äº†è¯¦ç»†ç»è¿‡ï¼Œä½†æ˜¯æˆ‘æ²¡ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè™½ç„¶å°è¯•è¿‡ä½†æ˜¯å¡åœ¨äº†æŒ‚è½½é•œåƒé‚£ä¸€æ­¥ã€‚</p></blockquote><p>ä½¿ç”¨ï¼š<a href="https://github.com/linusyang92/mipay-extract">Mi Pay Extractor</a>ï¼Œæ˜¯ä¸€ä¸ªæå–è„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨æå–å‡ºå¡åˆ·åŒ…ä¸­çš„MiPayè½¯ä»¶å’Œæ—¥å†ã€å¤©æ°”ç­‰ã€‚</p><ol><li><p>ä¸‹è½½zipåŒ…: <a href="https://github.com/linusyang92/mipay-extract/archive/master.zip">repoçš„ä¸‹è½½é“¾æ¥</a></p><p>linuxç”¨æˆ·å¯ä»¥clone</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/linusyang92/mipay-extract.git</span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½å›½å†…çš„miuiæœ€æ–°å¡åˆ·åŒ…ï¼Œæ”¾å…¥åŒä¸€ç›®å½•</p></li><li><p>miuiæ¬§æ´²ç‰ˆå¡åˆ·åŒ…ï¼Œä¹Ÿæ”¾åœ¨åŒä¸€ç›®å½•</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/git-clone.jpg" alt="ç›®å½•æˆªå›¾"></p></li><li><p>è¿è¡Œ<code>extract.bat</code>(åŒå‡»)</p><p>ä¼šç”Ÿæˆä¸€ä¸ªå¡åˆ·åŒ…<code>mipay-MIxxx.zip</code></p><div class="note default"><p>å¦‚æœå‡ºç°ä¸‹é¢è¿™æ ·çš„é”™è¯¯ï¼š</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">extract.sh: line 2: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 3: <span class="built_in">cd</span>: $<span class="string">&#x27;.\r&#x27;</span>: No such file or directory</span><br><span class="line">extract.sh: line 4: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 6: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 18: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 19: syntax error near unexpected token `$<span class="string">&#x27;&#123;\r&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">&#x27;</span>xtract.sh: line 19: `<span class="function"><span class="title">exists</span></span>() &#123;</span><br><span class="line">è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br></pre></td></tr></table></figure><p>é‚£å°±æ˜¯å› ä¸º<code>extract.sh</code>æ–‡ä»¶ç”¨çš„æ¢è¡Œç¬¦ä¸å¯¹ï¼ŒæŠŠåŸæ¥çš„æ¢è¡Œç¬¦<code>CRLF</code>æ”¹æˆ<code>LF</code>åä¿å­˜å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†</p></div><p>   Windowsä¸‹åŒå‡»<code>extract.bat</code>å°±å¯ä»¥å¼€å§‹æå–ï¼Œä¼šè¦å‡ åˆ†é’Ÿæ—¶é—´ã€‚<br>   <img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/bat-run.jpg" alt="bat-run">è¿™æ ·å°±è¯´æ˜æå–æˆåŠŸï¼Œç°åœ¨ç›®å½•ä¸‹ä¼šæœ‰<code>mipay-MIxxx.zip</code>,è¿™å°±æ˜¯ä¸€ä¸ªå¡åˆ·åŒ…ï¼Œé€šè¿‡twrpå¯ä»¥ç›´æ¥åˆ·å…¥</p><ol start="5"><li><p>è¿è¡Œ<code>cleaner-fix.bat</code>(åŒå‡»)</p> <div class="note primary"><p>è¿™é‡Œå°±æ˜¯ç”Ÿæˆå¼€å¯é»˜è®¤åŠ å¯†çš„åˆ·æœºåŒ… <code>force-fbe</code></p></li></ol></div><pre><code>è¿˜å¯ä»¥ç”Ÿæˆä¿®å¤æ—¥å†å’Œå¤©æ°”çš„åˆ·æœºåŒ…ï¼Œå…·ä½“è¯´å°±æ˜¯è®©æ—¥å†æ˜¾ç¤ºå†œå†ï¼Œå¤©æ°”appæ¢å›å›½å†…çš„ã€‚</code></pre><ol start="6"><li>å¯¹äºæƒ³åœ¨è´Ÿä¸€å±è¿˜èƒ½ç”¨å¾®ä¿¡æ”¯ä»˜å®æ‰«ç å¿«æ·é”®çš„ï¼Œä»¥åŠæŸ¥å¿«é€’ï¼Œåœ¨cmdè¿è¡Œ<code>extract.bat --appvault</code>å¯ä»¥ç”Ÿæˆè¿™æ ·çš„ä¿®å¤åŒ…ï¼Œä¹Ÿå°±æ˜¯æ›¿æ¢æˆè·Ÿå›½å†…ä¸€æ ·çš„ä¿¡æ¯åŠ©æ‰‹</li></ol><p>Finallyï¼Œæˆ‘ä»¬æœ‰äº†å››ä¸ªå‡†å¤‡å¡åˆ·çš„åŒ…ï¼š<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/mipay-extract.jpg" alt="ç›®å½•æˆªå›¾2">å…¨éƒ¨è¿˜æ˜¯é€šè¿‡MTPæ”¾è¿›æ‰‹æœºï¼Œä¸€ä¸ªä¸€ä¸ªåˆ·å°±æ˜¯äº†</p><div class="note warning"><p>å¦‚æœåˆ·æœºçš„æ—¶å€™é‡åˆ°255é”™è¯¯</p><p>ç®€å•æ¥è¯´å°±æ˜¯ä»¥ä¸Šè¿™å››ä¸ªåŒ…ï¼Œæ²¡ä¸€ä¸ªèƒ½åˆ·æˆåŠŸçš„ï¼Œç½‘ä¸Šæœ255é”™è¯¯ï¼ŒåŸå› å¾ˆå¤šï¼Œæ²¡æœ‰ä¸€ä¸ªèƒ½è§£å†³æˆ‘çš„é—®é¢˜çš„ï¼Œäºæ˜¯æˆ‘æ…¢æ…¢æƒ³èµ·äº†å‰é¢æåˆ°çš„<code>CRLF</code>ï¼Œè¯´ä¸å®šåˆæ˜¯è¿™ä¸ªä¸œè¥¿åœ¨æ£é¬¼ã€‚æ‰“å¼€zipåŒ…ï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹<code>META-INF</code>ä¸€è·¯ç‚¹è¿›å»ï¼Œæœ€åçœ‹åˆ°äº†ä¸€ä¸ªå«åš<code>update-binary</code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç±»ä¼¼äºè„šæœ¬ï¼Œåœ¨åˆ·æœºçš„æ—¶å€™æ‰§è¡Œçš„ï¼Œå’Œå…¶ä»–èƒ½åˆ·æˆåŠŸçš„ä¸€å¯¹æ¯”å‘ç°ç¡®å®æ˜¯å› ä¸ºç”¨äº†<code>CRLF</code>æ¢è¡Œç¬¦å¯¼è‡´é”™è¯¯çš„ã€‚ç”¨VScodeæ‰“å¼€è½¬æ¢æˆ<code>LF</code>åä¿å­˜ï¼Œæ›´æ–°å‹ç¼©åŒ…ï¼Œè¿™æ¬¡å°±æ²¡æœ‰ä»»ä½•æ¯›ç—…äº†,åœ¨twrpä¸‹å¼€å¯MTPæŠŠåˆ·æœºåŒ…å­˜åˆ°æ‰‹æœºï¼Œå¯ä»¥å…¨éƒ¨æˆåŠŸåˆ·å…¥ã€‚</p></div><h1 id="å®Œæˆ-å¼€æœº"><a href="#å®Œæˆ-å¼€æœº" class="headerlink" title="å®Œæˆ, å¼€æœº"></a>å®Œæˆ, å¼€æœº</h1><p>åˆ·å¥½åå°±å¯ä»¥å¼€æœº</p><p>é€‰æ‹©è¯­è¨€ï¼Œè¿WiFiï¼Œç™»è´¦å·<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/screen1.jpg"></p><p>è¿™æ—¶å€™å¦‚æœè¿›è®¾ç½®å°±ä¼šçœ‹åˆ°æ‰‹æœºå·²åŠ å¯†</p><blockquote><p>æ˜¯ç”¨æ¥çœ‹çš„, è¦æ˜¯çœ‹åˆ°æ²¡åŠ å¯†ä¸èƒ½åœ¨è¿™é‡Œé€‰å¼€å¯åŠ å¯†, ä¸ç„¶ä¼šå‡ºé—®é¢˜</p><p>(å¦‚æœæœ‰äººè¯•äº†ä¸åˆ·åŠ å¯†åŒ…æ¥åˆ°è¿™é‡Œå¯ä»¥å¼€å¯åŠ å¯†è®°å¾—å‘Šè¯‰æˆ‘)</p></blockquote><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/screen.png"></p><p>å¥½äº†è¿™æ ·å°±å®Œäº‹äº†, å¯ä»¥ç»§ç»­çœ‹ä¸‹é¢, ä¸‹ä¸ªå›½äº§çš„åº”ç”¨å•†åº—</p></div><div class="tab-pane" id="fbe-2"><p>ä¸‹é¢ä»ç¬¬ä¸€æ­¥ï¼Œä½ è¿˜æ˜¯ä¸ªå›½å†…miuiç³»ç»Ÿå¼€å§‹</p><h1 id="è§£é”bootloader"><a href="#è§£é”bootloader" class="headerlink" title="è§£é”bootloader"></a>è§£é”bootloader</h1><p>çœ‹è¿™é‡ŒğŸ‘‰ <a href="http://www.miui.com/unlock/index.html">http://www.miui.com/unlock/index.html</a></p><h1 id="åˆ·å…¥å›½é™…ç‰ˆROM"><a href="#åˆ·å…¥å›½é™…ç‰ˆROM" class="headerlink" title="åˆ·å…¥å›½é™…ç‰ˆROM"></a>åˆ·å…¥å›½é™…ç‰ˆROM</h1><div class="note info"><p>æ ¹æ®è¯„è®ºï¼Œå¯ä»¥ç›´æ¥åˆ·æ¬§æ´²ç‰ˆï¼Œåªè¦åˆ·å®Œæ¬§æ´²ç‰ˆï¼Œæ¸…ç†ä¸€ä¸‹ç¼“å­˜å°±è¡Œäº†ï¼Œæ‰€ä»¥è¿™æ­¥å¯è·³è¿‡è¯•è¯•</p></div><p>æ¬§æ´²ç‰ˆå’Œå›½å†…ç‰ˆç³»ç»Ÿåˆ†åŒºä¸ä¸€æ ·ï¼ˆæˆ‘çŒœçš„ï¼‰ï¼Œç›´æ¥å¡åˆ·æ¬§æ´²ç‰ˆæˆ‘è¯•è¿‡æ²¡æ³•å¼€æœºï¼ˆå¯èƒ½è¿˜æ˜¯å› ä¸ºFBEçš„ç¼˜æ•…ï¼Ÿï¼‰ï¼Œåæ­£ä¸ºäº†ä¿è¯æˆåŠŸå°±å…ˆåˆ·å›½é™…ç‰ˆROMï¼Œé¡ºä¾¿æŠŠç³»ç»Ÿå’Œæ•°æ®ä¹Ÿæ¸…äº†</p><ul><li>å»ä¸‹è½½çº¿åˆ·åŒ…ï¼š<a href="http://en.miui.com/download.html">çº¿åˆ·åŒ…åœ°å€</a></li><li>æ‰‹æœºéŸ³é‡ä¸‹+ç”µæºé”®å¼€æœºï¼Œè¿›å…¥Fastbootæ¨¡å¼</li><li>ä¸‹è½½å°ç±³çš„<a href="http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip">é€šç”¨åˆ·æœºå·¥å…·</a></li><li>æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥å¾€ä¸‹åš</li><li><strong>æ³¨æ„</strong>è½¯ä»¶æ‰“å¼€å³ä¸‹è§’ä¸è¦é€‰<code>å…¨éƒ¨åˆ é™¤å¹¶lock</code>ï¼Œé€‰æ‹©<code>å…¨éƒ¨åˆ é™¤</code>å°±å¯ä»¥äº†</li><li>çº¿åˆ·å…·ä½“æ•™ç¨‹ï¼š<a href="http://www.miui.com/shuaji-393.html">http://www.miui.com/shuaji-393.html</a></li></ul><h1 id="ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp"><a href="#ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp" class="headerlink" title="ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp"></a>ä¸ç”¨å¼€æœºï¼Œç»§ç»­åˆ·å…¥twrp</h1><p>æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Œå°±æ˜¯çº¿åˆ·è½¯ä»¶æç¤ºåˆ·å…¥æˆåŠŸï¼Œæ‰‹æœºé‡å¯çš„æ—¶å€™ï¼Œè¿˜æ˜¯æŒ‰ä½éŸ³é‡ä¸‹+ç”µæºé”®å¼€æœºï¼Œè¿›å…¥Fastbootæ¨¡å¼ï¼Œé€šè¿‡ADB(åˆšæ‰ä¸‹è½½çš„é€šç”¨åˆ·æœºå·¥å…·é‡Œæœ‰)ç»ˆç«¯å‘½ä»¤æ¥åˆ·å…¥ã€‚<br>å¦‚æœè¿˜æ˜¯ä¸å°å¿ƒå¼€æœºäº†æ²¡å…³ç³»ï¼Œç­‰ä¸‹åˆ·ç³»ç»Ÿçš„æ—¶å€™åœ¨twrpé‡Œé¢åŒæ¸…ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><ol><li><p><a href="https://twrp.me/Devices/">twrpå®˜æ–¹ä¸‹è½½</a></p><p> é€‰æ‹©ä½ çš„æœºå‹å¯¹åº”ä¸‹è½½ä¸‹æ¥</p></li><li><p>æ‰“å¼€adbç»ˆç«¯</p><p> adbç»ˆç«¯çš„ä½ç½®åœ¨<code>\MiFlash2018-5-28-0\Source\ThirdParty\Google\Android</code>é‡Œé¢ï¼Œè¿›å…¥åˆ°<code>Android</code>æ–‡ä»¶å¤¹ï¼Œé¼ æ ‡åœ¨ç©ºç™½çš„åœ°æ–¹æŒ‰ä½Shiftä»¥åå³é”®ï¼Œé€‰æ‹©åœ¨æ­¤å¤„æ‰“å¼€cmd&#x2F;power shellçª—å£ï¼Œå°±å¯ä»¥ä½¿ç”¨adbäº†ã€‚</p></li><li><p>ç»ˆç«¯è¾“å…¥å‘½ä»¤</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash recovery twrp.img</span><br><span class="line">fastboot boot twrp.img</span><br></pre></td></tr></table></figure><p> <code>twrp.img</code> æ˜¯æ›¿æ¢æˆä½ çš„twrpåŒ…çš„è·¯å¾„å’Œåç§°ã€‚</p><blockquote><p>ç¬¬äºŒæ¡å‘½ä»¤æ‰§è¡Œå®Œåæ‰‹æœºå°±ä¼šè‡ªå·±é‡å¯åˆ°twrpç•Œé¢ï¼Œå¯ä»¥è®¾ç½®æˆä¸­æ–‡ã€‚</p></blockquote></li></ol><h1 id="è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶"><a href="#è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶" class="headerlink" title="è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶"></a>è¿›å…¥twrpï¼Œåˆ·euå›ºä»¶</h1><ol><li><p>å»ä¸‹è½½miuiæ¬§æ´²ç‰ˆï¼š<a href="https://xiaomi.eu/community/link-forums/roms-download.73/">miuiæ¬§æ´²ç‰ˆå‘å¸ƒé¡µé¢</a></p></li><li><p>è¿æ¥ç”µè„‘ï¼ŒæŠŠeuå›ºä»¶æ‹·å…¥sdcardç›®å½•<br>æ‰‹æœºåœ¨twrpç•Œé¢ï¼Œç”µè„‘ä¸Šåº”è¯¥èƒ½çœ‹åˆ°æ‰‹æœºï¼Œä¸èƒ½çš„è¯åœ¨æ‰‹æœºç‚¹æŒ‚è½½ï¼Œç„¶åç‚¹å¼€å¯MTP</p></li><li><p>ä»æ‰‹æœºä¸Šç‚¹åˆ·æœºï¼Œé€‰æ‹©åˆ·æœºåŒ…ï¼Œå®Œæˆï¼Œå¼€æœºã€‚</p></li></ol><p>åˆ°è¿™é‡Œå·²ç»å®Œæˆmiuiæ¬§æ´²ç‰ˆåˆ·æœºäº†ï¼Œé€‰æ‹©è¯­è¨€ï¼Œè¿WiFiï¼Œç™»è´¦å·<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/screen1.jpg">è¿™æ˜¯å¼€æœºåçš„æ¡Œé¢<br>miuiæ¬§æ´²ç‰ˆé˜‰å‰²äº†å¾ˆå¤šæ¯”å¦‚å°ç±³é’±åŒ…ï¼Œé‡Œé¢çš„å¡æ¨¡æ‹Ÿçš„åŠŸèƒ½æˆ‘ç”¨å¾—åˆ°ï¼ŒåŒ…æ‹¬å…¬äº¤å¡ä»€ä¹ˆçš„ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æŠ˜è…¾å¦‚ä½•è£…å›è¿™ä¸ªåº”ç”¨</p><h1 id="æå–Mipayå®‰è£…åŒ…ä»¥åŠæœ¬åœŸåŒ–ä¿®å¤åŒ…"><a href="#æå–Mipayå®‰è£…åŒ…ä»¥åŠæœ¬åœŸåŒ–ä¿®å¤åŒ…" class="headerlink" title="æå–Mipayå®‰è£…åŒ…ä»¥åŠæœ¬åœŸåŒ–ä¿®å¤åŒ…"></a>æå–Mipayå®‰è£…åŒ…ä»¥åŠæœ¬åœŸåŒ–ä¿®å¤åŒ…</h1><blockquote><p>è¦ä»ä¸­å›½ç‰ˆå›ºä»¶çš„system.imgé‡Œé¢æå–è½¯ä»¶åŒ…ï¼Œè¿˜è¦é€šè¿‡Rootæƒé™æŠŠè½¯ä»¶åŒ…å†™å…¥Systemåˆ†åŒºï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ•™ç¨‹ï¼š<a href="https://www.yipkwong.com/2018/06/06/167/">MIUIå›½é™…ç‰ˆmi payè§£å†³æ–¹æ¡ˆ</a>ï¼Œé‡Œé¢å™è¿°äº†è¯¦ç»†ç»è¿‡ï¼Œä½†æ˜¯æˆ‘æ²¡ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè™½ç„¶å°è¯•è¿‡ä½†æ˜¯å¡åœ¨äº†æŒ‚è½½é•œåƒé‚£ä¸€æ­¥ã€‚</p></blockquote><p>ä½¿ç”¨ï¼š<a href="https://github.com/linusyang92/mipay-extract">Mi Pay Extractor</a>ï¼Œæ˜¯ä¸€ä¸ªæå–è„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨æå–å‡ºå¡åˆ·åŒ…ä¸­çš„MiPayè½¯ä»¶å’Œæ—¥å†ã€å¤©æ°”ç­‰ã€‚</p><ol><li><p>ä¸‹è½½zipåŒ…: <a href="https://github.com/linusyang92/mipay-extract/archive/master.zip">repoçš„ä¸‹è½½é“¾æ¥</a></p><p>linuxç”¨æˆ·å¯ä»¥clone</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/linusyang92/mipay-extract.git</span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½å›½å†…çš„miuiæœ€æ–°å¡åˆ·åŒ…ï¼Œæ”¾å…¥åŒä¸€ç›®å½•</p></li><li><p>miuiæ¬§æ´²ç‰ˆå¡åˆ·åŒ…ï¼Œä¹Ÿæ”¾åœ¨åŒä¸€ç›®å½•</p><p><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/git-clone.jpg" alt="ç›®å½•æˆªå›¾"></p></li><li><p>è¿è¡Œ<code>extract.bat</code>(åŒå‡»)</p><p>å¯ä»¥ç”ŸæˆåŠ å¯†åŒ…å’Œä¸€ä¸ªä¿®å¤åŒ…</p><div class="note default"><p>å¦‚æœå‡ºç°ä¸‹é¢è¿™æ ·çš„é”™è¯¯ï¼š</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">extract.sh: line 2: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 3: <span class="built_in">cd</span>: $<span class="string">&#x27;.\r&#x27;</span>: No such file or directory</span><br><span class="line">extract.sh: line 4: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 6: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 18: $<span class="string">&#x27;\r&#x27;</span>: <span class="built_in">command</span> not found</span><br><span class="line">extract.sh: line 19: syntax error near unexpected token `$<span class="string">&#x27;&#123;\r&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">&#x27;</span>xtract.sh: line 19: `<span class="function"><span class="title">exists</span></span>() &#123;</span><br><span class="line">è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br></pre></td></tr></table></figure><p>é‚£å°±æ˜¯å› ä¸º<code>extract.sh</code>æ–‡ä»¶ç”¨çš„æ¢è¡Œç¬¦ä¸å¯¹ï¼ŒæŠŠåŸæ¥çš„æ¢è¡Œç¬¦<code>CRLF</code>æ”¹æˆ<code>LF</code>åä¿å­˜å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†</p></div>   <p>   <img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/bat-run.jpg" alt="bat-run"></p><p>   è¿™æ ·å°±è¯´æ˜æå–æˆåŠŸï¼Œç°åœ¨ç›®å½•ä¸‹ä¼šæœ‰<code>mipay-MIxxx.zip</code>,è¿™å°±æ˜¯ä¸€ä¸ªå¡åˆ·åŒ…ï¼Œé€šè¿‡twrpå¯ä»¥ç›´æ¥åˆ·å…¥</p><ol start="5"><li><p>è¿è¡Œ<code>cleaner-fix.bat</code><br>ç”Ÿæˆä¿®å¤æ—¥å†å’Œå¤©æ°”çš„åˆ·æœºåŒ…ï¼Œå…·ä½“è¯´å°±æ˜¯è®©æ—¥å†æ˜¾ç¤ºå†œå†ï¼Œå¤©æ°”appæ¢å›å›½å†…çš„ã€‚è¿™ä¸ªå‘½ä»¤åŒæ—¶è¿˜ä¼šç”Ÿæˆå¼€å¯é»˜è®¤åŠ å¯†çš„åˆ·æœºåŒ…ã€‚</p></li><li><p>å¯¹äºæƒ³åœ¨è´Ÿä¸€å±è¿˜èƒ½ç”¨å¾®ä¿¡æ”¯ä»˜å®æ‰«ç å¿«æ·é”®çš„ï¼Œä»¥åŠæŸ¥å¿«é€’ï¼Œ<code>extract.bat --appvault</code>å¯ä»¥ç”Ÿæˆè¿™æ ·çš„ä¿®å¤åŒ…ï¼Œä¹Ÿå°±æ˜¯æ›¿æ¢æˆè·Ÿå›½å†…ä¸€æ ·çš„ä¿¡æ¯åŠ©æ‰‹</p></li></ol><p>Finallyï¼Œæˆ‘ä»¬æœ‰äº†å››ä¸ªå‡†å¤‡å¡åˆ·çš„åŒ…ï¼š<br><img data-src="https://xiaoxx.oss-cn-beijing.aliyuncs.com/blog-img/miui-eu/mipay-extract.jpg" alt="ç›®å½•æˆªå›¾2">å…¨æ‰”è¿›æ‰‹æœºï¼Œä¸€ä¸ªä¸€ä¸ªåˆ·å°±æ˜¯äº†</p><div class="note warning"><p>å¦‚æœåˆ·æœºçš„æ—¶å€™é‡åˆ°255é”™è¯¯</p><p>ç®€å•æ¥è¯´å°±æ˜¯ä»¥ä¸Šè¿™å››ä¸ªåŒ…ï¼Œæ²¡ä¸€ä¸ªèƒ½åˆ·æˆåŠŸçš„ï¼Œç½‘ä¸Šæœ255é”™è¯¯ï¼ŒåŸå› å¾ˆå¤šï¼Œæ²¡æœ‰ä¸€ä¸ªèƒ½è§£å†³æˆ‘çš„é—®é¢˜çš„ï¼Œäºæ˜¯æˆ‘æ…¢æ…¢æƒ³èµ·äº†å‰é¢æåˆ°çš„<code>CRLF</code>ï¼Œè¯´ä¸å®šåˆæ˜¯è¿™ä¸ªä¸œè¥¿åœ¨æ£é¬¼ã€‚æ‰“å¼€zipåŒ…ï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹<code>META-INF</code>ä¸€è·¯ç‚¹è¿›å»ï¼Œæœ€åçœ‹åˆ°äº†ä¸€ä¸ªå«åš<code>update-binary</code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç±»ä¼¼äºè„šæœ¬ï¼Œåœ¨åˆ·æœºçš„æ—¶å€™æ‰§è¡Œçš„ï¼Œå’Œå…¶ä»–èƒ½åˆ·æˆåŠŸçš„ä¸€å¯¹æ¯”å‘ç°ç¡®å®æ˜¯å› ä¸ºç”¨äº†<code>CRLF</code>æ¢è¡Œç¬¦å¯¼è‡´é”™è¯¯çš„ã€‚ç”¨VScodeæ‰“å¼€è½¬æ¢æˆ<code>LF</code>åä¿å­˜ï¼Œæ›´æ–°å‹ç¼©åŒ…ï¼Œè¿™æ¬¡å°±æ²¡æœ‰ä»»ä½•æ¯›ç—…äº†,åœ¨twrpä¸‹å¼€å¯MTPæŠŠåˆ·æœºåŒ…å­˜åˆ°æ‰‹æœºï¼Œå¯ä»¥å…¨éƒ¨æˆåŠŸåˆ·å…¥ã€‚</p></div></div></div></div><p>ä¸‹é¢æ˜¯å®‰è£…å°ç±³åº”ç”¨å•†åº—ï¼Œè£…äº†å°±å¯ä»¥ç”¨å®ƒæ¥æ›´æ–°å°ç±³é’±åŒ…ï¼Œè€Œä¸ç”¨æ¯æ¬¡æƒ³æ›´æ–°éƒ½å»ä¸‹è½½çº¿åˆ·åŒ…ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://xiaomi-market.cn.uptodown.com/android">https://xiaomi-market.cn.uptodown.com/android</a></p><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªç½‘ç«™æ˜¯è¢«å¢™äº†çš„ï¼Œå¼€å…¨å±€å»ä¸‹</p><p>ç„¶åå°±å¯ä»¥å®‰è£…äº†ï¼Œä¸€åˆ‡éƒ½éå¸¸å®Œç¾ï¼Œå¯ä»¥ä¸€é”®è£…åº”ç”¨å’Œæ›´æ–°</p><p>æœ€åï¼Œç»ˆäºå†™å®Œäº†è¿™ä¸ªæ•™ç¨‹ï¼Œè‡ªæˆ‘æ„Ÿè§‰æ˜¯å¾ˆè¯¦ç»†äº†ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°è·Ÿæˆ‘ä¸€æ ·åœ¨æŠ˜è…¾miuiçš„äººã€‚æˆ‘åˆ·è¿™ä¸ªç³»ç»Ÿçš„åˆè¡·æ˜¯å›½å†…ç‰ˆå˜å¾—è¶Šæ¥è¶Šéš¾ç”¨ï¼Œæœ€ä¸»è¦çš„è¡¨ç°æ˜¯ç»å¸¸ç†„å±è‡ªå·±è«åéœ‡åŠ¨ï¼Œè¿˜ç»å¸¸è‡ªå·±äº®å±ï¼Œæ‰“å¼€äº†çœ‹ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé€šçŸ¥ï¼Œåæ¥ä¸Šç½‘ä¸€æœå‘ç°æˆ‘ä¸æ˜¯ä¸€ä¸ªäººï¼Œè¿™æ˜¯å°ç±³ç³»ç»Ÿæœ¬èº«çš„é—®é¢˜ï¼Œé‚£äº›éœ‡åŠ¨æ˜¯çœŸçš„æœ‰é€šçŸ¥ä¸è¿‡ä¹‹å‰è¢«æˆ‘ä»é€šçŸ¥æ ç¦æ­¢äº†ï¼Œå¯èƒ½ç¦æ­¢çš„å±‚é¢ä¸å¯¹ï¼Œç­‰é€šçŸ¥åˆ°è¾¾äº†éœ‡åŠ¨äº†ç³»ç»Ÿæ‰æŠŠé€šçŸ¥åˆ æ‰ï¼Œè¿™ä¸æ˜¯æŠ˜ç£¨äººä¹ˆã€‚æˆ‘å°±æ‰¾èƒ½ä¸èƒ½åˆ·ç±»ä¼¼CMçš„åŸç‰ˆå®‰å“ï¼Œç„¶åå°±åœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°äº†miuiæ¬§æ´²ç‰ˆï¼Œæ„Ÿè§‰å¯¹å®‰å“çš„åº•å±‚ä¸ä¼šæ”¹å¤ªå¤šï¼Œå°±æŠ˜è…¾ç”¨æ¬§æ´²ç‰ˆæ¥äº†ã€‚ç°åœ¨ç”¨äº†ä¸¤ä¸ªæ˜ŸæœŸï¼Œç¡®å®å¥½ç”¨ï¼Œå­—ä½“ä¸å¥½çœ‹è¿˜æ¢äº†ä¸ªå­—ä½“ï¼Œå¤–è§‚ä¸Šå’Œå›½å†…ç‰ˆå·®åˆ«ä¹Ÿä¸å¤§ã€‚å°±æ˜¯æ¯æ¬¡å‡çº§ç³»ç»Ÿä¸æ˜¯å¾ˆæ–¹ä¾¿å°±æ˜¯äº†ï¼Œä¹‹åä¼šæƒ³åŠæ³•ç”¨æŒç»­é›†æˆå®Œæˆè‡ªåŠ¨çš„æå–ã€‚</p><blockquote><p>2019-4-23æ›´æ–°ï¼šæ€»ç»“ä¸€ä¸‹ç”¨miui-euæ—¶æ›´æ–°ç³»ç»Ÿæ­¥éª¤</p><ol><li><p>ä¸‹è½½euåŒ…ï¼š<a href="https://sourceforge.net/projects/xiaomi-eu-multilang-miui-roms/files/xiaomi.eu/MIUI-WEEKLY-RELEASES/">https://sourceforge.net/projects/xiaomi-eu-multilang-miui-roms/files/xiaomi.eu/MIUI-WEEKLY-RELEASES/</a></p></li><li><p>ä¸‹è½½å›½å†…ç›¸åŒç‰ˆæœ¬åŒ…ï¼š<a href="http://www.miui.com/download.html">http://www.miui.com/download.html</a></p></li><li><p>åœ¨<code>mipay-extract</code>æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">./cleaner-fix.bat</span></span><br><span class="line"><span class="string">./extract.bat</span> <span class="params">--appvault</span></span><br></pre></td></tr></table></figure></li><li><p>ç”Ÿæˆçš„4ä¸ªåŒ…åŠ ä¸Šä¸‹è½½ä¸‹æ¥çš„euåŒ…æ‹·è´è¿›æ‰‹æœºï¼Œé‡å¯è¿›å…¥twrpé€‰æ‹©åˆ·æœºåŒ…åˆ·æœº</p><p>å¯ä»¥æ‰¹é‡é€‰æ‹©åˆ·æœºåŒ…ï¼Œé¡ºåºæ˜¯euåŒ…åœ¨æœ€å‰é¢ï¼Œå…¶ä»–çš„åœ¨åé¢åˆ·ã€‚</p><blockquote><p>æˆ‘çš„<a href="https://github.com/xiaoxx970/mipay-extract/releases">Releaseé¡µé¢</a> ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯å°ç±³6å°±å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥ç”¨</p></blockquote></li></ol></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> MIUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Minecraftæµ·å¤–æœåŠ¡å™¨åŠ é€Ÿåç»­ï¼šç”¨frpæ›´é«˜æ•ˆåœ°è½¬å‘æµé‡ï¼ˆä¹Ÿé€‚ç”¨äºå…¶ä»–æ¸¸æˆçš„åŠ é€Ÿï¼‰</title>
      <link href="/frp-for-mc/"/>
      <url>/frp-for-mc/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰æƒ…æè¦ï¼šä¹‹å‰ç”¨Nginxåå‘ä»£ç†çš„åŠŸèƒ½æ¥åŠ é€ŸMinecraftï¼ŒçœŸçš„æ˜¯å¤ªä¸ç¨³å®šï¼äº†ï¼<br>ç»å¸¸å‡ºç°ç©ç€ç©ç€æ‰çº¿äº†ï¼Œå»çœ‹MinecraftæœåŠ¡å™¨æ²¡æœ‰ä»»ä½•æ¯›ç—…ï¼Œçœ‹ç”¨æ¥åŠ é€Ÿçš„é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å¼‚å¸¸ï¼Œä½†æ˜¯ç›´è¿MinecraftæœåŠ¡å™¨æ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥é—®é¢˜ç»å£å‡ºåœ¨åŠ é€ŸæœåŠ¡å™¨ä¸Š<br>é‡å¯Nginxï¼Œè¿ä¸ä¸Šï¼Œé‡å¯æœåŠ¡å™¨ï¼Œè¿˜æ˜¯è¿ä¸ä¸Šï¼Œæœ€åè¿‡äº†å‡ åˆ†é’Ÿï¼Œè‡ªå·±è¿ä¸Šäº†ã€‚å¾ˆä»»æ€§æœ‰æ²¡æœ‰ï¼Œå¦‚æ­¤çš„æƒ…å†µå‡ºäº†å‡ æ¬¡å®åœ¨æ˜¯å¿å—ä¸äº†äº†ï¼Œäºæ˜¯åœ¨æƒ³åˆ«çš„åŠæ³•ï¼Œæƒ³åˆ°ä¸€ä¸ªå«frpçš„è½¯ä»¶ï¼Œä¹‹å‰ç”¨è¿‡æ¥åšå†…ç½‘ç©¿é€ï¼ŒåŒæ ·ä¹Ÿæ˜¯è½¬å‘æµé‡çš„é“ç†å˜›ï¼Œå°±ä¸¤è¾¹è£…äº†è¯•è¯•å‘ç°ï¼Œæ˜¯çœŸçš„å¥½ç”¨å•Šï¼Œç”šè‡³æ„Ÿè§‰å»¶è¿Ÿæ›´ä½äº†ï¼Œä¹Ÿæ²¡æœ‰æ‰çº¿è¿‡</p></blockquote><p>å®‰è£…è¿‡ç¨‹æ¥ä»‹ç»ä¸€ä¸‹</p><!---more---><p>å…¶å®ä¹Ÿæ²¡ä»€ä¹ˆæ–°çš„ä¸œè¥¿ï¼Œå°±æ˜¯åˆ†åˆ«åœ¨æœåŠ¡å™¨å’ŒåŠ é€ŸæœåŠ¡å™¨å®‰è£…frpï¼Œç„¶åé…ç½®è¿è¡Œå°±å¯ä»¥äº†</p><h1 id="åœ¨MinecraftæœåŠ¡å™¨ä¸Šå®‰è£…å’Œé…ç½®frpå®¢æˆ·ç«¯-frpc"><a href="#åœ¨MinecraftæœåŠ¡å™¨ä¸Šå®‰è£…å’Œé…ç½®frpå®¢æˆ·ç«¯-frpc" class="headerlink" title="åœ¨MinecraftæœåŠ¡å™¨ä¸Šå®‰è£…å’Œé…ç½®frpå®¢æˆ·ç«¯(frpc)"></a>åœ¨MinecraftæœåŠ¡å™¨ä¸Šå®‰è£…å’Œé…ç½®frpå®¢æˆ·ç«¯(frpc)</h1><ul><li><p>ä¸‹è½½å¹¶è§£å‹frp</p><p>  å¯ä»¥å»<a href="https://github.com/fatedier/frp/releases/latest">releaseé¡µé¢</a>æ‰¾åˆ°æœ€æ–°ç‰ˆçš„ä¸‹è½½é“¾æ¥ç„¶åæ›¿æ¢ä¸‹é¢çš„é“¾æ¥</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz</span><br><span class="line">tar -xvf frp.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>åˆ°frpç›®å½•ä¸‹,å¤åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿé‡Œï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frp</span><br><span class="line"><span class="built_in">cp</span> frpc /usr/local/bin/frpc</span><br><span class="line"><span class="built_in">mkdir</span> /etc/frp</span><br><span class="line"><span class="built_in">cp</span> frpc.ini /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™frpcçš„é…ç½®æ–‡ä»¶ï¼š<code>frpc.ini</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/frp/frpc.ini</span><br><span class="line"><span class="comment"># å†…å®¹å¦‚ä¸‹</span></span><br><span class="line">[common]</span><br><span class="line">server_addr = åŠ é€ŸæœåŠ¡å™¨çš„IPæˆ–åŸŸå</span><br><span class="line">server_port = 7000</span><br><span class="line">login_fail_exit= <span class="literal">false</span>  <span class="comment">#0.11æ–°åŠŸèƒ½ï¼šç™»å½•è¿œç¨‹æœåŠ¡å™¨å¤±è´¥ä¸é€€å‡ºï¼Œ30sè‡ªåŠ¨é‡è¯•</span></span><br><span class="line"><span class="comment">#protocol = kcp</span></span><br><span class="line"></span><br><span class="line">[mc]</span><br><span class="line"><span class="built_in">type</span> = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 25565</span><br><span class="line">remote_port = 25565</span><br><span class="line"></span><br><span class="line">[mc-udp]</span><br><span class="line"><span class="built_in">type</span> = udp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 25565</span><br><span class="line">remote_port = 25565</span><br></pre></td></tr></table></figure><p>  æˆ‘ä¹Ÿä¸çŸ¥é“å¼€å¯udpçš„å¿…è¦æ€§ï¼Œä½†æ˜¯ç»è¿‡å®æµ‹åªå¼€tcpå¹¶ç™»é™†ä¸è¿›æ¸¸æˆ</p></li><li><p>ç¼–å†™ frp service æ–‡ä»¶ï¼ŒæŠŠfrpcåŠ å…¥ç³»ç»ŸæœåŠ¡ï¼Œè¿™æ ·æ–¹ä¾¿ç®¡ç†</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">nano /usr/lib/systemd/system/frpc.service</span><br><span class="line"><span class="comment"># å†…å®¹å¦‚ä¸‹</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=frpc</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=30</span><br><span class="line">ExecStart=/usr/local/bin/frpc -c /etc/frp/frpc.ini</span><br><span class="line">ExecStop=/bin/kill <span class="variable">$MAINPID</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®æ–‡ä»¶æƒé™ï¼Œå¯åŠ¨ frp å¹¶è®¾ç½®å¼€æœºå¯åŠ¨</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 754 /usr/lib/systemd/system/frpc.service</span><br><span class="line">systemctl <span class="built_in">enable</span> frpc</span><br></pre></td></tr></table></figure><p>  å¥½äº†frpå®¢æˆ·ç«¯çš„æ“ä½œå…ˆåˆ°è¿™é‡Œï¼Œç­‰ä¸‹è£…å¥½frpæœåŠ¡ç«¯å¹¶è¿è¡Œåå†<a id="back" />å›æ¥è¿™é‡Œï¼Œå¼€å¯å®¢æˆ·ç«¯ï¼š</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start frpc</span><br><span class="line">systemctl status frpc</span><br></pre></td></tr></table></figure></li></ul><h1 id="åœ¨åŠ é€ŸæœåŠ¡å™¨ä¸Šå®‰è£…frpæœåŠ¡ç«¯"><a href="#åœ¨åŠ é€ŸæœåŠ¡å™¨ä¸Šå®‰è£…frpæœåŠ¡ç«¯" class="headerlink" title="åœ¨åŠ é€ŸæœåŠ¡å™¨ä¸Šå®‰è£…frpæœåŠ¡ç«¯"></a>åœ¨åŠ é€ŸæœåŠ¡å™¨ä¸Šå®‰è£…frpæœåŠ¡ç«¯</h1><ul><li>è¿˜æ˜¯ä¸€æ ·ï¼Œå…ˆä¸‹è½½frpï¼Œå†è§£å‹  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz</span><br><span class="line">tar -xvf frp.tar.gz</span><br></pre></td></tr></table></figure></li><li>åˆ°frpç›®å½•ä¸‹,å¤åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿé‡Œï¼ˆè¿™æ¬¡æ˜¯frpsäº†ï¼‰  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frp</span><br><span class="line"><span class="built_in">cp</span> frps /usr/local/bin/frps</span><br><span class="line"><span class="built_in">mkdir</span> /etc/frp</span><br><span class="line"><span class="built_in">cp</span> frps.ini /etc/frp/frps.ini</span><br></pre></td></tr></table></figure></li><li>ç¼–å†™frpsçš„é…ç½®æ–‡ä»¶ï¼š<code>frps.ini</code>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/frp/frps.ini</span><br><span class="line"><span class="comment"># å†…å®¹å¦‚ä¸‹</span></span><br><span class="line">[common]</span><br><span class="line">bind_port = 7000</span><br></pre></td></tr></table></figure>  å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œè®°å¾—å»é˜²ç«å¢™å…è®¸7000ç«¯å£</li><li>åŠ å…¥ç³»ç»ŸæœåŠ¡  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">nano /usr/lib/systemd/system/frps.service</span><br><span class="line"><span class="comment"># å†…å®¹å¦‚ä¸‹</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=frps</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=30</span><br><span class="line">ExecStart=/usr/local/bin/frps -c /etc/frp/frps.ini</span><br><span class="line">ExecStop=/bin/kill <span class="variable">$MAINPID</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>  ä¿å­˜é€€å‡ºï¼Œè®¾ç½®æƒé™ï¼Œå¼€æœºå¯åŠ¨  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 754 /usr/lib/systemd/system/frps.service</span><br><span class="line">systemctl <span class="built_in">enable</span> frps</span><br><span class="line">systemctl start frps</span><br><span class="line">systemctl status frps</span><br></pre></td></tr></table></figure>  ç°åœ¨å¯ä»¥<a href="#back">å›å»</a>å¯åŠ¨å®¢æˆ·ç«¯äº†  <br /></li></ul><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å®Œæˆäº†~æœ€åä¸€å¥è¯æ˜¯æ˜¾ç¤ºæœåŠ¡è¿è¡ŒçŠ¶æ€çš„,å½“é‡Œé¢æ˜¾ç¤ºç»¿è‰²çš„<code>active</code>å°±è¡¨ç¤ºç¨‹åºæ­£å¸¸è¿è¡Œäº†<br>å®¢æˆ·ç«¯é‚£è¾¹ä¹Ÿæ˜¯ï¼Œå¦‚æœå‡ºé—®é¢˜äº†æ˜¾ç¤ºçº¢è‰²çš„<code>dead</code>ï¼Œé‚£ä¹ˆè®¤çœŸçœ‹çœ‹ç³»ç»Ÿæ—¥å¿—,æ˜¯ä¸æ˜¯é…ç½®æ–‡ä»¶ä¸å¯¹ä»€ä¹ˆçš„ï¼Œç„¶åå†<code>systemctl restart frpc</code>(s),çœ‹<code>status</code>ï¼Œå¤šé”™å‡ æ¬¡è¿˜æ˜¯å°±OKäº†ã€‚</p><p>å¦‚æœä½ ç…§ç€æˆ‘çš„æ•™ç¨‹åšäº†ï¼Œåœ¨ä»»ä½•ä¸€æ­¥å‡ºäº†é—®é¢˜éƒ½æ¬¢è¿åœ¨è¯„è®ºé‡Œå‘Šè¯‰æˆ‘ï¼Œçœ‹åˆ°äº†ä¸€å®šå›å¤ã€‚</p><blockquote><p>ftpé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a><br>å®ƒèƒ½åšçš„ä¸æ­¢è½¬å‘ç«¯å£æµé‡è¿™ä¹ˆç®€å•ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œçœ‹çœ‹å®ƒçš„ä¸­æ–‡æ–‡æ¡£ï¼Œä¼šæœ‰å¾ˆå¤šæ”¶è·çš„</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Systemctl </tag>
            
            <tag> Minecraft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡Nginxè½¬å‘MinecraftæœåŠ¡å™¨æµé‡è¾¾åˆ°åŠ é€Ÿçš„ç›®çš„(Nginxè½¬å‘TCP)</title>
      <link href="/nginx%E5%BB%BA%E7%AB%8BTCP%E4%BB%A3%E7%90%86/"/>
      <url>/nginx%E5%BB%BA%E7%AB%8BTCP%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>é˜¿é‡Œäº‘å­¦ç”Ÿæœº10å—ä¸€ä¸ªæœˆæŒºä¾¿å®œäº†ï¼Œå°±æ˜¯å†…å­˜2Gå¯¹äºä¸€ä¸ªMinecraftæœåŠ¡å™¨æ¥è¯´æœ‰ç‚¹å°<br>è€Œæˆ‘è¿˜æœ‰ä¸ªè°·æ­Œäº‘æœåŠ¡å™¨åœ¨å°æ¹¾ï¼Œé…ç½®ä¸é”™å†…å­˜ä¹Ÿå¤Ÿï¼Œé—®é¢˜å°±æ˜¯ç½‘ç»œå»¶è¿Ÿå¤ªå¤§<br>æŠŠMinecraftæœåŠ¡å™¨è¿è¡Œåœ¨é‚£é‡Œå®é™…ç©ä¸‹æ¥å‘ç°å»¶è¿Ÿä¸èƒ½å¿å—<br>ä»æˆ‘çš„ç”µè„‘Pingå°æ¹¾æœåŠ¡å™¨æœ‰250msï¼ŒPingé˜¿é‡Œäº‘20msï¼Œé˜¿é‡Œäº‘Pingå°æ¹¾æœåŠ¡å™¨ï¼Œ50ms<br>ç”¨å°å­¦è€å¸ˆæ•™æˆ‘çš„åŠ æ³•ä¸€ç®—å‘ç°ï¼Œ50+20å°äº250å•Š<br>äºæ˜¯å°±æœ‰äº†æ ‡é¢˜è¿™ä¸ªæƒ³æ³•</p><span id="more"></span><p>å¯¹äºæµé‡è½¬å‘é™¤äº†SSå’ŒFrpå…¶ä»–æˆ‘è¿˜çœŸä¸çŸ¥é“ï¼ˆ<strong>å»çœ‹æˆ‘çš„<a href="/frp-for-mc/">frpæ•™ç¨‹</a>å§ï¼ŒçœŸçš„ï¼ŒNginxåå‘ä»£ç†å¤ªéš¾ç”¨äº†</strong>ï¼‰</p><p>ç½‘ä¸ŠæŸ¥äº†å¯ä»¥ç”¨firewalldåšç«¯å£è½¬å‘ï¼Œæˆ‘è¯•äº†æŠŠtcpå’Œudpçš„25565ç«¯å£éƒ½è½¬å‘åˆ°å°æ¹¾æœåŠ¡å™¨<br>æ²¡ç”¨ï¼Œå¯èƒ½æ˜¯åŸç†ä¸å¯¹</p><p>å†ä¸€æŸ¥çœ‹åˆ°Nginxåå‘ä»£ç†å¯ä»¥åšè¿™ç§äº‹æƒ…<br>å¤§æ¦‚å°±æ˜¯ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œåœ¨server{}é‡Œé¢åŠ ä¸Š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">listen</span> <span class="number">25565</span>;</span><br><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">  <span class="comment"># ä»£ç†çš„åœ°å€</span></span><br><span class="line">  <span class="attribute">proxy_pass</span> http://35.xx.xx.23:25565;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ç¡®å®è¿™æ ·åšäº†å› ä¸ºå‰é¢ä¸åŠ <code>http://</code>é…ç½®æ–‡ä»¶ä¸è®©è¿‡ï¼Œç»“æœä¸€è¯•å½“ç„¶æ²¡æœ‰ç”¨</p><h1 id="æ­£ç¡®çš„æ–¹æ³•åœ¨è¿™é‡Œ"><a href="#æ­£ç¡®çš„æ–¹æ³•åœ¨è¿™é‡Œ" class="headerlink" title="æ­£ç¡®çš„æ–¹æ³•åœ¨è¿™é‡Œ"></a>æ­£ç¡®çš„æ–¹æ³•åœ¨è¿™é‡Œ</h1><p>åæ¥æ‰¾åˆ°äº†Nginxè½¬å‘tcpçš„æ–‡ç« ï¼Œæ€»ç®—æ˜¯æ‰¾å¯¹æ–¹å‘äº†<br>æˆ‘çš„Nginxç‰ˆæœ¬1.14ï¼Œé»˜è®¤æ˜¯æ”¯æŒTCPæµé‡è½¬å‘çš„ï¼Œåªéœ€è¦åœ¨<strong>Nginxçš„</strong>é…ç½®æ–‡ä»¶(Nginx.conf)é‡Œé¢åŠ å¦‚ä¸‹é¢å‡ è¡Œå°±å¯ä»¥ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">stream</span> &#123;</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">25565</span>;</span><br><span class="line">        <span class="attribute">proxy_pass</span> <span class="number">35</span>.xx.xx.<span class="number">23</span>:<span class="number">25565</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŠ åœ¨eventsåé¢</p><p>æ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œè¿™ç¯‡æ–‡ç« èƒ½æ•™ä½ çš„å·²ç»ç»“æŸäº†</p><p>è€Œæˆ‘è‡ªå·±çš„æŠ˜è…¾è¿˜åœ¨åé¢ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰æŠŠå‰é¢listen 25565çš„ç«™ç‚¹åˆ æ‰ï¼Œæ²¡åˆ æ‰ï¼ï¼<br>å¯¼è‡´æˆ‘ä¸ç®¡æ€ä¹ˆæ”¹Nginxçš„é…ç½®éƒ½æ˜¯è¯´è¿ä¸ä¸Š<br>æŠ˜è…¾äº†ä¸€æ™šä¸Š+ä¸€å°ä¸ªä¸‹åˆå…±è®¡ä¸¤ä¸ªå°æ—¶ï¼Œçš„äººç”Ÿ<br>ç»ˆäºåœ¨ä»Šå¤©ä¹Ÿå°±æ˜¯å†™è¿™ç¯‡æ–‡ç« å‰å‘ç°äº†ï¼ŒæŠŠé‚£ä¸ªç«™ç‚¹åˆ æ‰ï¼Œç»ˆäºæ˜¯èƒ½è¿ä¸Šäº†<br>æ„ŸåŠ¨å¾—æˆ‘<br>æ€äº†æ¡Œå­<br>æ˜”æ—¥çš„å¡é¡¿<br>å®Œå…¨æ²¡äº†å½±å­<br>é‚£ä¹ˆä»¥å<br>ç»ˆäºèƒ½å’Œå°ä¼™ä¼´æ„‰å¿«çš„ç©mcäº†<br>å¼€å¿ƒ</p>]]></content>
      
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
            <tag> Frp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codingç»‘å®šsshå¹¶éƒ¨ç½²hexo</title>
      <link href="/%E5%85%B3%E4%BA%8Ecoding%E5%92%8Cgit%E7%9A%84%E6%8A%98%E8%85%BE/"/>
      <url>/%E5%85%B3%E4%BA%8Ecoding%E5%92%8Cgit%E7%9A%84%E6%8A%98%E8%85%BE/</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡sshè¿æ¥gitéœ€è¦é…ç½®å…¬é’¥ï¼Œå…ˆåœ¨æœ¬åœ°ç”Ÿæˆå…¬é’¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>ç”Ÿæˆåœ¨ç›®å½•<code>~/.ssh</code>ä¸‹é¢ï¼Œ<code>.ssh/id_rsa.pub</code>å°±æ˜¯å…¬é’¥ï¼Œç»‘å®šcodingçš„æ—¶å€™åœ¨è®¾ç½®é‡Œç‚¹æ·»åŠ å…¬é’¥ï¼Œç„¶åå¤åˆ¶<code>.pub</code>æ–‡ä»¶é‡Œçš„å†…å®¹è¿‡å»ï¼Œ<span id="more"></span>ä¿å­˜åè¿˜éœ€è¦è®¤è¯ä¸€ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@git.coding.NET</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æç¤ºè¾“<code>yes</code><br>codingä¼šæç¤ºç»‘å®šæˆåŠŸ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\Onedrive\æ–‡æ¡£\hexo&gt; ssh <span class="literal">-T</span> git@git.coding.NET</span><br><span class="line">The authenticity of host <span class="string">&#x27;git.coding.net (118.25.***.124)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">RSA key fingerprint is SHA256:jok3FH7q5LJ6qvE7iPNehBgXRw51ErE77S0Dn+Vg/Ik.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>git.coding.net,<span class="number">118.25</span>.***.<span class="number">124</span><span class="string">&#x27; (RSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">Coding æç¤º: Hello xiaoxx97, You&#x27;</span>ve connected to Coding.net via SSH. This is a personal key.</span><br><span class="line">xiaoxx97ï¼Œä½ å¥½ï¼Œä½ å·²ç»é€šè¿‡ SSH åè®®è®¤è¯ Coding.net æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ªäººå…¬é’¥</span><br></pre></td></tr></table></figure><p>ä»¥åŠï¼Œå¦‚æœä½ çš„é¡¹ç›®çš„åç§°ä¸æ˜¯<code>ä½ çš„ç”¨æˆ·å.coding.me</code>ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥å¼€å¯é™æ€é¡µé¢ï¼Œä½†æ˜¯å›¾ç‰‡çš„è·¯å¾„ä¼šå‡ºé”™ï¼Œå¯¼è‡´æ‰€æœ‰å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç»‘å®šä¸€ä¸ªåŸŸåå°±å¥½äº†ã€‚</p><p>å…³äºhexoçš„é…ç½®æ–‡ä»¶çš„deployéƒ¨åˆ†</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">    <span class="attr">coding:</span> <span class="string">git@git.coding.net:ä½ çš„ç”¨æˆ·å/é¡¹ç›®å.git,master</span></span><br></pre></td></tr></table></figure><p><code>.git</code>åé¢<code>,master</code>è¦è®°å¾—åŠ <br>è¿˜æœ‰ç°åœ¨codingå¥½åƒåœ¨æ”¹ç‰ˆï¼Œé¡¹ç›®é¡µé¢å¤åˆ¶ä¸‹æ¥çš„gité“¾æ¥åŸŸåæ˜¯<code>git.dev.tencent.com</code>ï¼Œè€Œæ ¹æ®æˆ‘ç°åœ¨çš„å®è·µæ“ä½œå‘ç°å¦‚æœæˆ‘ä¸æŠŠåŸŸåæ¢æˆ<code>git.coding.net</code>çš„è¯æ˜¯æ²¡æ³•éƒ¨ç½²æˆåŠŸçš„ï¼Œå¤±è´¥åŸå› æ˜¯<code>Host key verification failed.</code></p><p>å¦‚æœæ²¡è£…è¿‡deployerè¦å…ˆè£…ä¸ç„¶ä¼šdeployå¤±è´¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è£…äº†armbiançš„Orange piæŠ˜è…¾è®°å½•(å¤–æ¥HDMIå±å¹•åˆ†è¾¨ç‡è°ƒèŠ‚åŠå±å¹•æ—‹è½¬)</title>
      <link href="/orangepi%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/"/>
      <url>/orangepi%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<ul><li><h3 id="Armbian-orange-pi-è°ƒèŠ‚åˆ†è¾¨ç‡"><a href="#Armbian-orange-pi-è°ƒèŠ‚åˆ†è¾¨ç‡" class="headerlink" title="Armbian orange pi è°ƒèŠ‚åˆ†è¾¨ç‡"></a>Armbian orange pi è°ƒèŠ‚åˆ†è¾¨ç‡</h3>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h3disp -m 1080p60 -c 1</span><br></pre></td></tr></table></figure></li><li><h3 id="åŠ¨æ€å¼€å¯-x2F-å…³é—­HDMIè¾“å‡º"><a href="#åŠ¨æ€å¼€å¯-x2F-å…³é—­HDMIè¾“å‡º" class="headerlink" title="åŠ¨æ€å¼€å¯&#x2F;å…³é—­HDMIè¾“å‡º"></a>åŠ¨æ€å¼€å¯&#x2F;å…³é—­HDMIè¾“å‡º</h3>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line"><span class="built_in">cd</span> /sys/kernel/debug/dispdbg/</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;switch&quot;</span> &gt; <span class="built_in">command</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;disp&quot;</span> &gt; name</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;0 10&quot;</span> &gt; param</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1&quot;</span> &gt; start</span><br></pre></td></tr></table></figure><p>  æŠŠparméƒ¨åˆ†çš„0æ”¹æˆ4å°±æ˜¯æ‰“å¼€HDMIè¾“å‡ºï¼Œç¬¬äºŒä¸ªæ•°å­—10ä»£è¡¨è¾“å‡ºåˆ†è¾¨ç‡ä¸º1080p60ï¼Œæ¢æˆ5åˆ™ä»£è¡¨720p60ã€‚</p>  <span id="more"></span><p>  å…¨éƒ¨æ¨¡å¼åˆ—è¡¨ï¼š</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">0 480i</span><br><span class="line">1 576i</span><br><span class="line">2 480p</span><br><span class="line">3 576p</span><br><span class="line">4 720p 50Hz</span><br><span class="line">5 720p 60Hz</span><br><span class="line">6 1080i 50 Hz</span><br><span class="line">7 1080i 60 Hz</span><br><span class="line">8 1080p 24 Hz</span><br><span class="line">9 1080p 50 Hz</span><br><span class="line">10 1080p 60 Hz</span><br></pre></td></tr></table></figure><p>  å„ç§è¯¦ç»†è®¾ç½®:<a href="https://docs.armbian.com/User-Guide_Fine-Tuning/">Fine-Tuning</a></p></li><li><h3 id="å±å¹•æ—‹è½¬"><a href="#å±å¹•æ—‹è½¬" class="headerlink" title="å±å¹•æ—‹è½¬"></a>å±å¹•æ—‹è½¬</h3><p>  ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/X11/xorg.conf.d/01-armbian-defaults.conf</span><br></pre></td></tr></table></figure><p>  åœ¨æœ«å°¾åŠ å…¥ä¸‹é¢çš„ä»£ç :</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Append</span></span><br><span class="line">Section <span class="string">&quot;Device&quot;</span></span><br><span class="line">Identifier <span class="string">&quot;default&quot;</span></span><br><span class="line">Driver <span class="string">&quot;fbdev&quot;</span></span><br><span class="line">Option <span class="string">&quot;Rotate&quot;</span> <span class="string">&quot;CCW&quot;</span></span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure><p>  ä¿å­˜åé‡å¯ï¼Œé‡å¯åå±å¹•å°±æ—‹è½¬æˆç«–çš„äº†ã€‚ ä½ å¯ä»¥é€šè¿‡æ”¹å˜<code>CCW</code>åˆ°<code>CW</code>æ¥æ”¹å˜æ—‹è½¬æ–¹å‘ã€‚</p></li></ul><hr><ul><li><h3 id="python-logç”¨æ³•"><a href="#python-logç”¨æ³•" class="headerlink" title="python logç”¨æ³•"></a>python logç”¨æ³•</h3>  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;/root/screen.log&#x27;</span>, level=logging.INFO, <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s %(message)s&#x27;</span>, datefmt=<span class="string">&#x27;[%Y-%m-%d %I:%M:%S %p]&#x27;</span>)</span><br><span class="line">logging.info(<span class="string">&#x27;hi&#x27;</span>)</span><br></pre></td></tr></table></figure><p>  è¾“å‡º(æ–‡ä»¶ï¼šscreen.log)ï¼š<br>  <code>[2018-10-08 09:36:36 PM] hi</code><br>  å…¶ä»–ç”¨æ³•è¿˜æœ‰ï¼š</p>  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">logging.debug(<span class="string">&quot;debug&quot;</span>) </span><br><span class="line">logging.info(<span class="string">&quot;info&quot;</span>) </span><br><span class="line">logging.warning(<span class="string">&quot;warning&quot;</span>) </span><br><span class="line">logging.error(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">logging.critical(<span class="string">&quot;critical&quot;</span>)</span><br></pre></td></tr></table></figure><p>  å‚ç…§ï¼š<a href="https://docs.python.org/2/howto/logging.html">https://docs.python.org/2/howto/logging.html</a></p><p>  è¿›ç¨‹ç®¡ç†å·¥å…·Supervisor:<a href="https://www.restran.net/2015/10/04/supervisord-tutorial/">ç®¡ç†Python</a></p></li></ul><blockquote><p>ä¹ å¾—ä»¥ä¸ŠçŸ¥è¯†æ‰€ç”¨çš„æ—¶é—´ï¼š230åˆ†é’Ÿ</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Pi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠŠæ—¶é—´å½“ä½œæœ‹å‹_ç¬”è®°</title>
      <link href="/%E6%8A%8A%E6%97%B6%E9%97%B4%E5%BD%93%E4%BD%9C%E6%9C%8B%E5%8F%8B_%E7%AC%94%E8%AE%B0/"/>
      <url>/%E6%8A%8A%E6%97%B6%E9%97%B4%E5%BD%93%E4%BD%9C%E6%9C%8B%E5%8F%8B_%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<ul><li>æˆ‘æœ‰æ²¡æœ‰ä»€ä¹ˆè§‰å¾—è‡ªå·±â€œç°åœ¨å­¦ä¹Ÿæ¥ä¸åŠäº†â€çš„æŠ€èƒ½ï¼Ÿ</li><li>æµ®èºçš„æ ¹æºï¼šä¸æ‡‚â€œæœ‰äº›é˜¶æ®µå°±æ˜¯æ— æ³•è·¨è¶Šâ€è¿™ä¸ªé“ç†ã€‚å‘Šè¯‰è‡ªå·±ï¼šæˆ‘æœ‰ä¸è¶³ï¼Œæˆ‘éœ€è¦æ—¶é—´ï¼Œæˆ‘æ²¡åŠæ³•ä¸€è¹´è€Œå°±ã€‚<br>â€œæˆ‘è¦â€çš„æ¬²æœ›å¯ä»¥ç”¨â€æˆ‘æœ‰â€œçš„ä¸œè¥¿æ¥æ»¡è¶³ï¼Œå³ä¾¿â€œæˆ‘æœ‰â€œçš„æš‚æ—¶ä¸å¤Ÿï¼Œæˆ‘ä¹Ÿèƒ½å€ŸåŠ©å·²ç»æ‹¥æœ‰çš„åŠªåŠ›å’Œå‹¤å¥‹ï¼ˆäº¦æˆ–æŠ•æœºï¼‰ï¼Œåªè¦å‡ä»¥æ—¶æ—¥ï¼Œå®šèƒ½å¦‚æ„¿ä»¥å¿ã€‚ä¸€æ—¦å¾—å¿æ‰€æ„¿ï¼Œä¸ä»…â€æˆ‘æœ‰â€œçš„æ›´å¤šï¼Œâ€æˆ‘è¦â€œçš„ä¹Ÿæ›´å®¹æ˜“è·å¾—ï¼Œå¦‚æ­¤å½¢æˆè‰¯æ€§å¾ªç¯ã€‚<br>æ‘†è„±ç”Ÿæ´»æ­»å¾ªç¯ï¼šç»™æˆ‘ä»€ä¹ˆæˆ‘å°±ç”¨å¥½ä»€ä¹ˆï¼Œç§¯ç´¯åˆ°ä¸€å®šç¨‹åº¦å†å»æ¢èƒ½æ¢çš„ä¸œè¥¿ã€‚<span id="more"></span><br>åœ¨æƒ³åˆ°â€æˆ‘è¦ä»€ä¹ˆâ€œçš„æ—¶å€™é©¬ä¸Šæé†’è‡ªå·±ï¼Œæ¥ä¸‹æ¥è¦èŠ±ä¸€äº›æ—¶é—´å»æ€è€ƒâ€æˆ‘æœ‰ä»€ä¹ˆâ€œã€‚åè€…ä¼šåœ¨è½¬ç¬é—´è®©æˆ‘â€è„šè¸å®åœ°â€œã€‚</li><li>å®Œç¾æ°¸ä¸å­˜åœ¨ï¼ŒæœªçŸ¥æ°¸è¿œå­˜åœ¨ï¼Œä¸ºäº†è¿›æ­¥ï¼Œå¿…é¡»å¿å—ä¸€å®šçš„æœªçŸ¥ã€‚<br>åˆå­¦æ¦‚å¿µï¼šçœ‹ä¸æ‡‚è¯æ˜ï¼Œæš‚æ—¶ä¸å»é—®ä¸ºä»€ä¹ˆ.æˆ‘ä»¬åªèƒ½å°è¯•ç€é€‚åº”â€åœ¨æœªçŸ¥ä¸­ä¸æ–­å‰è¡Œâ€œã€‚<br>ä¸€ä¸ªæœ‰æ•ˆçš„ç­–ç•¥ï¼š<strong>è®°å½•ä¸‹æ¥</strong>æš‚æ—¶ä¸èƒ½è§£å†³çš„é—®é¢˜ï¼Œç»§ç»­å‰è¡Œå¹¶ä¸æ˜¯å¿½ç•¥è¿™äº›é—®é¢˜ã€‚ä½ ä¸€ç›´åœ¨å‰è¡Œï¼Œä½ ä¸€ç›´åœ¨ç§¯ç´¯ï¼Œä½ ä¸€ç›´åœ¨æˆé•¿ã€‚æ‰€ä»¥ï¼Œåˆ°æœ‰äº†ç­”æ¡ˆé‚£ä¸€åˆ»ï¼Œä½ ä¸å†æ˜¯å½“åˆæ— èƒ½ä¸ºåŠ›çš„ä½ ï¼Œä½ å·²ç»é‡ç”Ÿã€‚<br>å°½å¿«æ¥å—ç°å®ï¼ŒåŒ…æ‹¬ï¼š<em>é€Ÿæˆç»æ— å¯èƒ½ã€åªæœ‰ä»˜å‡ºæ‰æœ‰æ”¶è·ã€å®Œç¾æ°¸ä¸å­˜åœ¨ã€æœªçŸ¥æ°¸è¿œå­˜åœ¨ã€ç°çŠ¶æ— æ³•é©¬ä¸Šæ‘†è„±</em>ï¼Œ<del>ä¸ä»…è¦æ¥å—ï¼Œè¿˜è¦ç‰¢è®°ï¼›ä¸ä»…è¦ç‰¢è®°ï¼Œè¿˜è¦åšä¿¡ã€‚</del>è€Œåæ‰èƒ½æ‰¾å¯¹ç›®æ ‡ã€‚<ul><li>çœŸæ­£èƒ½å¤Ÿåšå¯¹ã€åšå¥½çš„äººä¸ä¼šåœ¨ä¹ä»–äººçš„å˜²å¼„å’Œæ‰“å‡»ï¼Œè‡ªå·±ä¹Ÿä¸ä¼šè¿™æ ·å¯¹åˆ«äºº</li><li>â€æœ€åæœŸé™â€ä¸æ˜¯å›ºå®šåœ¨å°†æ¥çš„æŸä¸ªç‚¹ï¼Œè€Œæ˜¯æœç€ä½ åŠ é€Ÿæ‰‘æ¥ï¼Œå”¯ä¸€çš„ç­–ç•¥ä¾ç„¶æ˜¯ï¼šç°åœ¨å°±å¼€å§‹</li></ul></li><li>è®°å½•ä¸‹æ¥é‚£äº›ç›®å‰æ— æ³•ç†è§£çš„ã€æ”¯æŒçš„ã€åå¯¹çš„ã€æ— æ‰€è°“çš„è®ºç‚¹ï¼Œå¯¹æ— æ³•ç†è§£çš„ï¼Œå†™ä¸‹è‡ªå·±å½“æ—¶çš„ç–‘æƒ‘ï¼Œå¯¹æ”¯æŒçš„ï¼Œè®°å½•å‡ ä¸ªç†ç”±æˆ–å®ä¾‹ï¼Œå¯¹åå¯¹çš„ï¼ŒåŒæ ·è®°å½•å‡ ä¸ªç†ç”±æˆ–å®ä¾‹ï¼Œå¯¹é‚£äº›æ— æ‰€è°“çš„ï¼Œä¹Ÿè¦è®°å½•åŸå› ã€‚â€”â€”â€”â€”é¿å…æˆä¸ºâ€œé€‰æ‹©æ€§è¾“å…¥â€çš„å—å®³è€…ã€‚</li><li>åœ¨è¢«ç¯å¢ƒå¡‘é€ çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨å¡‘é€ ç¯å¢ƒã€‚</li><li>â€œææƒ§æƒ…ç»ªâ€â€”â€”â€”â€”å–œæ‚¦ä¼šä½¿äººåœä¸‹è¡ŒåŠ¨å»äº«å—ï¼Œè€Œææƒ§æ°æ°ç›¸åï¼Œä¼šå¼•å‘ä¸€ä¸ªäººé©¬ä¸Šé‡‡å–è¡ŒåŠ¨å»é¿å…å±é™©ã€‚äº‹å®ä¸Šè¿™ç§å‡ºäºææƒ§çš„å†³ç­–å‡ ä¹æ€»æ˜¯äº‹ä¸æ„¿è¿ã€‚</li><li>ç§¯æå¿ƒç†å­¦ï¼ŸNOï¼Œåº”è¯¥ <blockquote><p>å“ªä¸€ä¸ªæ›´åˆç†ã€æ›´ç°å®å°±æ¥å—å“ªä¸€ä¸ª</p></blockquote><p>è€Œä¸æ˜¯</p><blockquote><p>å“ªä¸€ä¸ªæ›´ç§¯æå°±æ¥å—å“ªä¸€ä¸ª</p></blockquote><p>å› ä¸ºåè€…åªæ˜¯è‡ªæˆ‘æ¬ºéª—è€Œå·²ã€‚ç§¯æçš„å¹¶ä¸æ€»æ˜¯å¥½çš„ã€‚</p></li><li><code>å¼º</code>ä¸<code>å¼±</code>æ‰æ˜¯è‡ªç„¶ç•Œä¸­çœŸæ­£å­˜åœ¨çš„æœ¬è´¨ï¼Œ<code>å–„</code>ä¸<code>æ¶</code>å¾€å¾€åªæ˜¯å¼±è€…ä¸€å¢æƒ…æ„¿çš„å®šä¹‰</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾ï¼šsambaæ–‡ä»¶å…±äº«ã€frpå†…ç½‘ç©¿é€ã€lighttpdã€aria2cä¸‹è½½å™¨ï¼ˆAriaNgå‰ç«¯ï¼‰å®‰è£…æ•™ç¨‹</title>
      <link href="/raspberrypi-how/"/>
      <url>/raspberrypi-how/</url>
      
        <content type="html"><![CDATA[<p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æœ€è¿‘æ‹¿åˆ°äº†ä¸€ä¸ªæ ‘è“æ´¾3Bï¼Œæƒ³è¦åšæˆNASä»¥åŠä¸‹è½½æœºï¼Œæˆ‘è¿™ä¸ªäººå¹³æ—¶å–œæ¬¢çœ‹ç¾å‰§ï¼Œæ¯æ¬¡ä¸‹è½½éƒ½è¦å…ˆå¼€ç”µè„‘æ‰“å¼€æµè§ˆå™¨æ‰¾èµ„æºè¿…é›·ä¸‹è½½ï¼Œæœ‰æ—¶å€™ç”¨æ‰‹æœºæ‰¾åˆ°èµ„æºäº†è¿˜æ˜¯å¾—å¼€ç”µè„‘ï¼Œæ¯•ç«Ÿæ‰‹æœºä¸é€‚åˆç”¨æ¥ä¸‹BTï¼Œäºæ˜¯æœ‰äº†è¿™ä¸ªæƒ³æ³•ï¼Œä¸€å¼€å§‹è¿˜è£…äº†<a href="https://ownyourbits.com/nextcloudpi/">Nextcloudçš„æ ‘è“æ´¾ç‰ˆ</a>(éœ€è¦çš„ç«¥é‹å¯ä»¥è¿›å»çœ‹ï¼ˆéœ€ç¿»å¢™ï¼‰)ï¼ˆ2018-12-20æ›´æ–°ï¼šç°åœ¨çœ‹å®˜ç½‘æŠŠè¿™ä¸ªéƒ¨åˆ†å·²ç»åšçš„å¾ˆå®Œå–„äº†ï¼Œå ç”¨å¯èƒ½ä¹Ÿä¸é«˜äº†ï¼‰ï¼Œç½‘ç›˜ä¸‹è½½å‰ç«¯å€’æ˜¯ä»€ä¹ˆéƒ½æœ‰äº†ï¼Œå°±æ˜¯è§‰ç€å¤ªè‡ƒè‚¿ï¼ŒwebæœåŠ¡å™¨ç”¨çš„å±…ç„¶è¿˜æ˜¯apacheï¼Œå ç”¨å¯æƒ³è€ŒçŸ¥ï¼Œåˆ°åæ¥æ¯æ¬¡é“¾æ¥sshéƒ½è¦æ¥è¿‘åŠåˆ†é’Ÿï¼Œè¿è¡Œä¸€ä¸ªpythonè„šæœ¬æ›´æ˜¯è¦åˆ°ä¸€åˆ†é’Ÿï¼Œé‚£å°±æ˜¯å‡ è¡Œçš„è„šæœ¬å•Šã€‚åæ¥æƒ³nextcloudå…¶å®æ²¡ä»€ä¹ˆç”¨ï¼Œæˆ‘åªè¦èƒ½ä¸‹è½½å’Œå…±äº«æ–‡ä»¶å°±å¯ä»¥äº†ã€‚  </p><span id="more"></span><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;äºæ˜¯å°±æœ‰äº†è¿™ä¸ªæ•™ç¨‹ï¼Œæˆ‘æ‰“ç®—ç”¨lighttpdä½œwebæœåŠ¡å™¨ï¼Œä¸Šé¢æ”¾hexoåšå®¢ï¼ˆæ¯•ç«Ÿæœ‰äº†frpï¼‰å’Œ<a href="http://ariang.mayswind.net/zh_Hans/">aria2cå‰ç«¯</a>ï¼Œé€šè¿‡frpè¿æ¥åˆ°æˆ‘çš„é˜¿é‡Œäº‘ä¸»æœºï¼Œé‚£é‡Œæœ‰å…¬ç½‘IPï¼Œè¿™æ ·ä¸€æ¥æˆ‘å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è®¿é—®æˆ‘çš„æ ‘è“æ´¾å«å®ƒä¸‹ç¾å‰§ï¼ŒçœŸæ˜¯å¾ˆå¹¸ç¦çš„ä¸€ä»¶äº‹ã€‚  </p><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åºŸè¯ä¸å¤šè¯´ï¼Œä¸‹é¢å¼€å§‹æ•™ç¨‹ï¼Œæˆ‘ç”¨çš„ç³»ç»Ÿæ˜¯raspbian-stretch-liteï¼Œæœ€å°‘å ç”¨å˜›ï¼Œæ¡Œé¢ä¹Ÿæ˜¯ä¸éœ€è¦çš„ã€‚  </p><h1 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šsambaæ–‡ä»¶å…±äº«"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šsambaæ–‡ä»¶å…±äº«" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šsambaæ–‡ä»¶å…±äº«"></a><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼šsambaæ–‡ä»¶å…±äº«</strong></h1><ul><li><h2 id="æŒ‚è½½ç¡¬ç›˜"><a href="#æŒ‚è½½ç¡¬ç›˜" class="headerlink" title="æŒ‚è½½ç¡¬ç›˜"></a>æŒ‚è½½ç¡¬ç›˜</h2></li></ul><p>æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ä¼šåˆ—å‡ºæ‰€æœ‰æŒ‚è½½çš„è®¾å¤‡ï¼ˆå‘Šè¯‰æˆ‘ä½ å·²ç»æ’ä¸Šç¡¬ç›˜äº†ï¼‰ç„¶åæ‰¾åˆ°ç¡¬ç›˜çš„æ ‡è¯†ï¼Œä¸€èˆ¬æ˜¯&#x2F;dev&#x2F;sda1ï¼Œç„¶åè®°ä¸‹æ¥<br>æŒ‚è½½ç¡¬ç›˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sda1 /media</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç°æœ‰ç£ç›˜ä¿¡æ¯ï¼Œçœ‹æ˜¯å¦æŒ‚è½½æˆåŠŸ:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -T</span><br></pre></td></tr></table></figure><ul><li><h2 id="æ›´æ¢è½¯ä»¶å®‰è£…æºåˆ°å›½å†…"><a href="#æ›´æ¢è½¯ä»¶å®‰è£…æºåˆ°å›½å†…" class="headerlink" title="æ›´æ¢è½¯ä»¶å®‰è£…æºåˆ°å›½å†…"></a>æ›´æ¢è½¯ä»¶å®‰è£…æºåˆ°å›½å†…</h2></li></ul><p>å°‘æ•°æƒ…å†µåé¢çš„å®‰è£…ä¼šå‡ºç°apt-get installå®‰è£…å¤±è´¥ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æŠŠå®‰è£…æºæ›¿æ¢æˆå›½å†…æºï¼Œé€Ÿåº¦ä¹Ÿä¼šæ›´å¿«  </p><p>å¤‡ä»½åŸåˆ—è¡¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">sudo <span class="built_in">cp</span> /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i <span class="string">&#x27;s#://raspbian.raspberrypi.org#s://mirrors.tuna.tsinghua.edu.cn/raspbian#g&#x27;</span> /etc/apt/sources.list</span><br><span class="line">sudo sed -i <span class="string">&#x27;s#://archive.raspberrypi.org/debian#s://mirrors.tuna.tsinghua.edu.cn/raspberrypi#g&#x27;</span> /etc/apt/sources.list.d/raspi.list</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œæ›´æ–°è®©æ›´æ”¹ç”Ÿæ•ˆ:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><ul><li><h2 id="sambaå®‰è£…åŠé…ç½®"><a href="#sambaå®‰è£…åŠé…ç½®" class="headerlink" title="sambaå®‰è£…åŠé…ç½®"></a>sambaå®‰è£…åŠé…ç½®</h2></li></ul><p>æ ¹æ®éœ€è¦ä¿®æ”¹ä¸‹é¢é…ç½®æ–‡ä»¶<br>[MyNAS]æ˜¯ç”µè„‘ä¸Šå¯ä»¥çœ‹åˆ°çš„åç§°<br>å…±äº«è·¯å¾„æ˜¯æŒ‚è½½ç¡¬ç›˜çš„è·¯å¾„æ‰€ä»¥æˆ‘ç”¨çš„æ˜¯&#x2F;media<br>å…¶ä»–å¯ä»¥ä¸ç”¨ç®¡<br>å…¨éƒ¨å¤åˆ¶åˆ°ç»ˆç«¯å³å¯ï¼š<br>ï¼ˆæˆ‘ç”¨äº†echoå‘½ä»¤æ¥å†™é…ç½®æ–‡ä»¶ï¼Œå½“ç„¶ç”¨nanoã€vimã€viéƒ½æ˜¯å¯ä»¥çš„ï¼Œçœ‹å„ä½å–œæ¬¢ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install samba -y <span class="comment">#å®‰è£…samba</span></span><br><span class="line">sudo <span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">    # åˆ†äº«åç§°</span></span><br><span class="line"><span class="string">    [MyNAS]</span></span><br><span class="line"><span class="string">    # è¯´æ˜ä¿¡æ¯</span></span><br><span class="line"><span class="string">    comment = NAS Storage</span></span><br><span class="line"><span class="string">    # å¯ä»¥è®¿é—®çš„ç”¨æˆ·</span></span><br><span class="line"><span class="string">    valid users = pi,root</span></span><br><span class="line"><span class="string">    # å…±äº«æ–‡ä»¶çš„è·¯å¾„ã€‚</span></span><br><span class="line"><span class="string">    path = /media</span></span><br><span class="line"><span class="string">    # å¯è¢«å…¶ä»–äººçœ‹åˆ°èµ„æºåç§°ï¼ˆéå†…å®¹ï¼‰</span></span><br><span class="line"><span class="string">    browseable = yes</span></span><br><span class="line"><span class="string">    # å¯å†™</span></span><br><span class="line"><span class="string">    writable = yes</span></span><br><span class="line"><span class="string">    # æ–°å»ºæ–‡ä»¶çš„æƒé™ä¸º 664</span></span><br><span class="line"><span class="string">    create mask = 0664</span></span><br><span class="line"><span class="string">    # æ–°å»ºç›®å½•çš„æƒé™ä¸º 775</span></span><br><span class="line"><span class="string">    directory mask = 0775</span></span><br><span class="line"><span class="string">&quot;</span>  &gt;&gt; /etc/samba/smb.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é”™è¯¯ï¼Œæ ¹æ®æç¤ºåšç›¸åº”ä¿®æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">testparm</span><br></pre></td></tr></table></figure><p>æ·»åŠ ç™»é™†è´¦æˆ·å¹¶åˆ›å»ºå¯†ç ï¼Œå¿…é¡»æ˜¯ linux å·²å­˜åœ¨çš„ç”¨æˆ·ï¼Œå¯†ç ä¸ä¸€å®šè¦å’Œç³»ç»Ÿä¸€æ ·ï¼Œåªæ˜¯ç™»å½•sambaç”¨çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo smbpasswd -a pi</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä¸¤æ¬¡å¯†ç   </p><p>é‡è½½ samba æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service samba reload</span><br></pre></td></tr></table></figure><p>è®©sambaå¼€æœºå¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-rc.d samba defaults</span><br></pre></td></tr></table></figure><h1 id="ç¬¬äºŒéƒ¨åˆ†ï¼šaria2ä¸‹è½½å™¨"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šaria2ä¸‹è½½å™¨" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šaria2ä¸‹è½½å™¨"></a><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šaria2ä¸‹è½½å™¨</strong></h1><ul><li><h2 id="aria2é…ç½®åŠå®‰è£…"><a href="#aria2é…ç½®åŠå®‰è£…" class="headerlink" title="aria2é…ç½®åŠå®‰è£…"></a>aria2é…ç½®åŠå®‰è£…</h2></li></ul><p>å®‰è£…aria2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install aria2 -y</span><br></pre></td></tr></table></figure><p>åˆ›å»º session å’Œé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/.aria2</span><br><span class="line"><span class="built_in">touch</span> ~/.aria2/aria2.session</span><br><span class="line"><span class="built_in">touch</span> ~/.aria2/aria2.conf</span><br></pre></td></tr></table></figure><p>å†™å…¥é…ç½®æ–‡ä»¶aria2.conf,æ³¨æ„å¦‚æœç”¨æˆ·åä¸æ˜¯piçš„è¯éœ€è¦æ”¹ä¸‹é¢çš„å¯¹åº”æ–‡ä»¶è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## æ–‡ä»¶ä¿å­˜ç›¸å…³ ##</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># æ–‡ä»¶ä¿å­˜ç›®å½•</span></span><br><span class="line"><span class="string">dir=/media/Download</span></span><br><span class="line"><span class="string"># å¯ç”¨ç£ç›˜ç¼“å­˜, 0ä¸ºç¦ç”¨ç¼“å­˜, éœ€1.16ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:16M</span></span><br><span class="line"><span class="string">disk-cache=32M</span></span><br><span class="line"><span class="string"># æ–­ç‚¹ç»­ä¼ </span></span><br><span class="line"><span class="string">continue=true</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># æ–‡ä»¶é¢„åˆ†é…æ–¹å¼, èƒ½æœ‰æ•ˆé™ä½ç£ç›˜ç¢ç‰‡, é»˜è®¤:prealloc</span></span><br><span class="line"><span class="string"># é¢„åˆ†é…æ‰€éœ€æ—¶é—´: none &lt; falloc ? trunc &lt; prealloc</span></span><br><span class="line"><span class="string"># fallocå’Œtruncåˆ™éœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒ</span></span><br><span class="line"><span class="string"># NTFSå»ºè®®ä½¿ç”¨falloc, EXT3/4å»ºè®®trunc, MAC ä¸‹éœ€è¦æ³¨é‡Šæ­¤é¡¹</span></span><br><span class="line"><span class="string">#file-allocation=falloc</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## ä¸‹è½½è¿æ¥ç›¸å…³ ##</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># æœ€å¤§åŒæ—¶ä¸‹è½½ä»»åŠ¡æ•°, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:5</span></span><br><span class="line"><span class="string">#max-concurrent-downloads=5</span></span><br><span class="line"><span class="string"># åŒä¸€æœåŠ¡å™¨è¿æ¥æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:1</span></span><br><span class="line"><span class="string">max-connection-per-server=15</span></span><br><span class="line"><span class="string"># æ•´ä½“ä¸‹è½½é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0ï¼ˆä¸é™åˆ¶ï¼‰</span></span><br><span class="line"><span class="string">#max-overall-download-limit=0</span></span><br><span class="line"><span class="string"># å•ä¸ªä»»åŠ¡ä¸‹è½½é€Ÿåº¦é™åˆ¶, é»˜è®¤:0ï¼ˆä¸é™åˆ¶ï¼‰</span></span><br><span class="line"><span class="string">#max-download-limit=0</span></span><br><span class="line"><span class="string"># æ•´ä½“ä¸Šä¼ é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0ï¼ˆä¸é™åˆ¶ï¼‰</span></span><br><span class="line"><span class="string">#max-overall-upload-limit=0</span></span><br><span class="line"><span class="string"># å•ä¸ªä»»åŠ¡ä¸Šä¼ é€Ÿåº¦é™åˆ¶, é»˜è®¤:0ï¼ˆä¸é™åˆ¶ï¼‰</span></span><br><span class="line"><span class="string">#max-upload-limit=0</span></span><br><span class="line"><span class="string"># ç¦ç”¨IPv6, é»˜è®¤:false</span></span><br><span class="line"><span class="string">disable-ipv6=true</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, æ·»åŠ æ—¶å¯æŒ‡å®š, å–å€¼èŒƒå›´1M -1024M, é»˜è®¤:20M</span></span><br><span class="line"><span class="string"># å‡å®šsize=10M, æ–‡ä»¶ä¸º20MiB åˆ™ä½¿ç”¨ä¸¤ä¸ªæ¥æºä¸‹è½½; æ–‡ä»¶ä¸º15MiB åˆ™ä½¿ç”¨ä¸€ä¸ªæ¥æºä¸‹è½½</span></span><br><span class="line"><span class="string">min-split-size=10M</span></span><br><span class="line"><span class="string"># å•ä¸ªä»»åŠ¡æœ€å¤§çº¿ç¨‹æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:5</span></span><br><span class="line"><span class="string">split=10</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## è¿›åº¦ä¿å­˜ç›¸å…³ ##</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># ä»ä¼šè¯æ–‡ä»¶ä¸­è¯»å–ä¸‹è½½ä»»åŠ¡</span></span><br><span class="line"><span class="string">input-file=/home/pi/.aria2/aria2.session</span></span><br><span class="line"><span class="string"># åœ¨Aria2é€€å‡ºæ—¶ä¿å­˜é”™è¯¯çš„ã€æœªå®Œæˆçš„ä¸‹è½½ä»»åŠ¡åˆ°ä¼šè¯æ–‡ä»¶</span></span><br><span class="line"><span class="string">save-session=/home/pi/.aria2/aria2.session</span></span><br><span class="line"><span class="string"># å®šæ—¶ä¿å­˜ä¼šè¯, 0ä¸ºé€€å‡ºæ—¶æ‰ä¿å­˜, éœ€1.16.1ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:0</span></span><br><span class="line"><span class="string">save-session-interval=60</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## RPCç›¸å…³è®¾ç½® ##</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># å¯ç”¨RPC, é»˜è®¤:false</span></span><br><span class="line"><span class="string">enable-rpc=true</span></span><br><span class="line"><span class="string"># å…è®¸æ‰€æœ‰æ¥æº, é»˜è®¤:false</span></span><br><span class="line"><span class="string">rpc-allow-origin-all=true</span></span><br><span class="line"><span class="string"># å…è®¸å¤–éƒ¨è®¿é—®, é»˜è®¤:false</span></span><br><span class="line"><span class="string">rpc-listen-all=true</span></span><br><span class="line"><span class="string"># RPCç«¯å£, ä»…å½“é»˜è®¤ç«¯å£è¢«å ç”¨æ—¶ä¿®æ”¹</span></span><br><span class="line"><span class="string"># rpc-listen-port=6800</span></span><br><span class="line"><span class="string"># è®¾ç½®çš„RPCæˆæƒä»¤ç‰Œ, v1.18.4æ–°å¢åŠŸèƒ½, å–ä»£ --rpc-user å’Œ --rpc-passwd é€‰é¡¹</span></span><br><span class="line"><span class="string">#rpc-secret=&lt;TOKEN&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## BT/PTä¸‹è½½ç›¸å…³ ##</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># å½“ä¸‹è½½çš„æ˜¯ä¸€ä¸ªç§å­(ä»¥.torrentç»“å°¾)æ—¶, è‡ªåŠ¨å¼€å§‹BTä»»åŠ¡, é»˜è®¤:true</span></span><br><span class="line"><span class="string">#follow-torrent=true</span></span><br><span class="line"><span class="string"># å®¢æˆ·ç«¯ä¼ªè£…, PTéœ€è¦</span></span><br><span class="line"><span class="string">peer-id-prefix=-TR2770-</span></span><br><span class="line"><span class="string">user-agent=Transmission/2.77</span></span><br><span class="line"><span class="string"># å¼ºåˆ¶ä¿å­˜ä¼šè¯, å³ä½¿ä»»åŠ¡å·²ç»å®Œæˆ, é»˜è®¤:false</span></span><br><span class="line"><span class="string"># è¾ƒæ–°çš„ç‰ˆæœ¬å¼€å¯åä¼šåœ¨ä»»åŠ¡å®Œæˆåä¾ç„¶ä¿ç•™.aria2æ–‡ä»¶</span></span><br><span class="line"><span class="string">#force-save=false</span></span><br><span class="line"><span class="string"># ç»§ç»­ä¹‹å‰çš„BTä»»åŠ¡æ—¶, æ— éœ€å†æ¬¡æ ¡éªŒ, é»˜è®¤:false</span></span><br><span class="line"><span class="string">bt-seed-unverified=true</span></span><br><span class="line"><span class="string"># ä¿å­˜ç£åŠ›é“¾æ¥å…ƒæ•°æ®ä¸ºç§å­æ–‡ä»¶(.torrentæ–‡ä»¶), é»˜è®¤:false</span></span><br><span class="line"><span class="string">bt-save-metadata=true</span></span><br><span class="line"><span class="string">&quot;</span> &gt;&gt; ~/.aria2/aria2.conf</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2c --conf-path=/home/pi/.aria2/aria2.conf -D</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰ä»»ä½•æç¤ºåˆ™è¡¨ç¤ºæˆåŠŸï¼ŒCtrl+Cé€€å‡ºã€‚<br>æ¥ä¸‹æ¥ä½œä¸ºæœåŠ¡æ·»åŠ å¼€æœºè‡ªå¯ï¼Œæ³¨æ„è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">tee</span> /etc/init.d/aria2c &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="comment">### BEGIN INIT INFO</span></span><br><span class="line"><span class="comment"># Provides:          aria2</span></span><br><span class="line"><span class="comment"># Required-Start:    $remote_fs $network</span></span><br><span class="line"><span class="comment"># Required-Stop:     $remote_fs $network</span></span><br><span class="line"><span class="comment"># Default-Start:     2 3 4 5</span></span><br><span class="line"><span class="comment"># Default-Stop:      0 1 6</span></span><br><span class="line"><span class="comment"># Short-Description: Aria2 Downloader</span></span><br><span class="line"><span class="comment">### END INIT INFO</span></span><br><span class="line"><span class="function"><span class="title">do_start</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">echo</span> -n <span class="string">&quot;Starting aria2c&quot;</span></span><br><span class="line">             su pi -c <span class="string">&quot;aria2c --conf-path=/home/pi/.aria2/aria2.conf &amp;&quot;</span></span><br><span class="line"><span class="comment">#è¿™é‡Œçš„è·¯å¾„åªèƒ½ç”¨ç»å¯¹è·¯å¾„æ‰€ä»¥ç”¨æˆ·åä¸æ˜¯piçš„è®°å¾—æ¥è¿™é‡Œä¿®æ”¹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">do_stop</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">     <span class="built_in">echo</span> -n <span class="string">&quot;Shutting down aria2c &quot;</span></span><br><span class="line">        pkill -f aria2c</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">do_restart</span></span>() &#123;</span><br><span class="line">    do_stop</span><br><span class="line">    <span class="built_in">sleep</span> 1</span><br><span class="line">    do_start</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">start)</span><br><span class="line">   do_start</span><br><span class="line">   ;;</span><br><span class="line">stop)</span><br><span class="line">   do_stop</span><br><span class="line">   ;;</span><br><span class="line">status)</span><br><span class="line">  <span class="built_in">exit</span> $?</span><br><span class="line">  ;;</span><br><span class="line">restart)</span><br><span class="line">  do_restart</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;Usage: service aria2c &#123;start|stop|status|restart&#125;&quot;</span> &gt;&amp;2</span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line">   ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">EOF</span><br><span class="line">sudo <span class="built_in">chmod</span> +x /etc/init.d/aria2c</span><br><span class="line">sudo update-rc.d aria2c defaults</span><br><span class="line">sudo service aria2c start</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™aria2å·²ç»æ·»åŠ åˆ°å¼€æœºå¯åŠ¨å¹¶å·²ç»å¯åŠ¨<br>ä»¥åæƒ³è¦ç®¡ç†aria2åªéœ€è¦è¾“å…¥å¯¹åº”å‘½ä»¤å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯åŠ¨aria2æœåŠ¡</span></span><br><span class="line">sudo service aria2c start </span><br><span class="line"><span class="comment">#åœæ­¢aria2æœåŠ¡</span></span><br><span class="line">sudo service aria2c stop </span><br><span class="line"><span class="comment">#æŸ¥çœ‹aria2æœåŠ¡çŠ¶æ€</span></span><br><span class="line">sudo service aria2c status </span><br></pre></td></tr></table></figure><p>åŒæ ·çš„å‘½ä»¤æŠŠaria2cæ›¿æ¢æˆå…¶ä»–åç§°ç”¨æ¥ç®¡ç†sambaå’Œç­‰ä¸‹è¦è£…çš„frpéƒ½æ˜¯å¯ä»¥çš„  </p><blockquote><p>å‚è€ƒï¼š<a href="https://www.jianshu.com/p/03f8022453a5">https://www.jianshu.com/p/03f8022453a5</a></p></blockquote><ul><li><h2 id="ç½‘é¡µå‰ç«¯ï¼ˆlighttpdå’ŒariaNgï¼‰"><a href="#ç½‘é¡µå‰ç«¯ï¼ˆlighttpdå’ŒariaNgï¼‰" class="headerlink" title="ç½‘é¡µå‰ç«¯ï¼ˆlighttpdå’ŒariaNgï¼‰"></a>ç½‘é¡µå‰ç«¯ï¼ˆlighttpdå’Œ<a href="http://ariang.mayswind.net/zh_Hans/">ariaNg</a>ï¼‰</h2></li></ul><p>å®‰è£…lighttpdå¹¶è®¾ä¸ºé»˜è®¤å¯åŠ¨ï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install lighttpd -y</span><br><span class="line">sudo update-rc.d lighttpd defaults</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½lighttpdåé»˜è®¤å·²ç»å¼€å¯ç½‘é¡µæœåŠ¡ï¼Œæ¥ä¸‹æ¥æ”¾aria2å‰ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/html</span><br><span class="line">sudo wget https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip</span><br><span class="line">sudo unzip aria-ng-0.4.0.zip</span><br><span class="line"><span class="comment">#é¡ºä¾¿åˆ é™¤å‹ç¼©åŒ…</span></span><br><span class="line"><span class="built_in">rm</span> aria-ng-0.4.0.zip</span><br></pre></td></tr></table></figure><p>ç°åœ¨ç”¨æµè§ˆå™¨æ‰“å¼€æ ‘è“æ´¾IPï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„å‰ç«¯,ä»¥åå°±ç”¨å®ƒç®¡ç†ä¸‹è½½<br>è‡³æ­¤ï¼Œä¸€ä¸ªå†…ç½‘NASå·²ç»æ­å»ºå®Œæˆï¼Œè½»é‡åŒ–ï¼Œè¶…å°å ç”¨ã€‚<br>å½“ç„¶è¿˜æ²¡å®Œï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯èƒ½ä»å¤–ç½‘è®¿é—®çš„ä¸‹è½½å™¨ã€‚<br></br></p><h1 id="ç¬¬ä¸‰éƒ¨åˆ†ï¼šå†…ç½‘ç©¿é€frp"><a href="#ç¬¬ä¸‰éƒ¨åˆ†ï¼šå†…ç½‘ç©¿é€frp" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†ï¼šå†…ç½‘ç©¿é€frp"></a><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šå†…ç½‘ç©¿é€frp</strong></h1><p>å…³äºfrp</p><p>è‹±æ–‡å…¨ç§°ï¼šfast reverse proxy<br>ä¸­æ–‡å…¨ç§°ï¼šå¿«é€Ÿåå‘ä»£ç†<br>ç®€ç§°ï¼šfrp<br>frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®.</p><p>frp çš„ä½œç”¨<br>åˆ©ç”¨å¤„äºå†…ç½‘æˆ–é˜²ç«å¢™åçš„æœºå™¨ï¼Œå¯¹å¤–ç½‘ç¯å¢ƒæä¾› http æˆ– https æœåŠ¡ã€‚<br>å¯¹äº http, https æœåŠ¡æ”¯æŒåŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸåç»‘å®šï¼Œä½¿å¤šä¸ªåŸŸåå¯ä»¥å…±ç”¨ä¸€ä¸ª80ç«¯å£ã€‚<br>åˆ©ç”¨å¤„äºå†…ç½‘æˆ–é˜²ç«å¢™åçš„æœºå™¨ï¼Œå¯¹å¤–ç½‘ç¯å¢ƒæä¾› tcp å’Œ udp æœåŠ¡ï¼Œä¾‹å¦‚åœ¨å®¶é‡Œé€šè¿‡ ssh è®¿é—®å¤„äºå…¬å¸å†…ç½‘ç¯å¢ƒå†…çš„ä¸»æœºã€‚</p><p>frpä¸ºå…è´¹ä¸”å¼€æºé¡¹ç›®ï¼Œéœ€è¦è‡ªå·±åˆ©ç”¨ä¸€å°æ‹¥æœ‰å…¬ç½‘IPæœºå™¨æ­å»ºæœåŠ¡ç«¯ï¼Œä»¥éƒ¨ç½²å†…ç½‘ç©¿é€é¡¹ç›®ã€‚</p><p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://github.com/fatedier/frp/">https://github.com/fatedier/frp/</a></p><p>ç§‘æ™®å®Œäº†,æ²¡æœ‰å…¬ç½‘IPæœåŠ¡å™¨çš„ç«¥é‹è¿™é‡Œæ¨èä¸€ä¸ªå…è´¹çš„å…¬å…±æœåŠ¡:<a href="https://www.nat.ee/">https://www.nat.ee/</a></p><ul><li><h2 id="frpå®¢æˆ·ç«¯å®‰è£…"><a href="#frpå®¢æˆ·ç«¯å®‰è£…" class="headerlink" title="frpå®¢æˆ·ç«¯å®‰è£…"></a>frpå®¢æˆ·ç«¯å®‰è£…</h2></li></ul><p>å¯ä»¥è‡ªå·±åˆ°<a href="http://github.com/fatedier/frp/releases">releases</a>é¡µé¢æ‰¾æœ€æ–°ç‰ˆé“¾æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">wget http://github.com/fatedier/frp/releases/download/v0.16.0/frp_0.16.0_linux_arm.tar.gz</span><br><span class="line">tar -xvf frp_0.16.0_linux_arm.tar.gz</span><br><span class="line">sudo <span class="built_in">mv</span> frp_0.16.0_linux_arm/ /etc/frp</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure><p>æ ¹æ®nat.eeæä¾›çš„é…ç½®æ–‡ä»¶,è¿™é‡Œæä¾›ä¸€ä¸ªhttpçš„ä¾‹å­<br>æŠŠä¸­æ–‡éƒ½æ¢æ‰,è‡ªå®šä¹‰åŸŸå¤ªç®€å•å¯èƒ½ä¼šå› ä¸ºè¢«å ç”¨æ— æ³•å¯åŠ¨,è®°å¾—æ¢ä¸ªå¤æ‚ç‚¹çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#http-è‡ªå®šä¹‰é…ç½®-ç¤ºä¾‹</span></span><br><span class="line">[common]</span><br><span class="line">server_addr = nat.ee</span><br><span class="line">server_port = 7000</span><br><span class="line">privilege_token = www.nat.ee</span><br><span class="line">user = è‡ªå®šä¹‰ç”¨æˆ·åç§°</span><br><span class="line"></span><br><span class="line">[è‡ªå®šä¹‰æœåŠ¡åç§°]</span><br><span class="line"><span class="built_in">type</span> = http</span><br><span class="line">local_port = 80</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">custom_domains = è‡ªå®šä¹‰åŸŸ.nat.ee</span><br></pre></td></tr></table></figure><p>Ctrl+Oä¿å­˜ï¼ŒCtrl+Xé€€å‡º<br>æµ‹è¯•ä¸€ä¸‹æ˜¯å¦è¿è¡Œæ­£å¸¸:  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/frp/frpc -c /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure><p>å¦‚æœè¾“å‡ºç»“æœå¸¦æœ‰â€start proxy successâ€åˆ™è¡¨ç¤ºè¿æ¥æˆåŠŸ<br>Ctrl+Cå…³é—­<br>æ·»åŠ frpä¸ºæœåŠ¡å¹¶è‡ªåŠ¨å¯åŠ¨:<br>(æˆ‘åœ¨é‡Œé¢åŠ äº†åˆ¤æ–­ç½‘ç»œæ˜¯å¦è¿æ¥çš„è„šæœ¬â€net_tsâ€,ç»ˆäºè§£å†³äº†å¼€æœºå¯åŠ¨æ—¶æ²¡ç½‘ç»œå¯¼è‡´å¯åŠ¨å¤±è´¥çš„é—®é¢˜)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">tee</span> /etc/init.d/frp &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="comment">### BEGIN INIT INFO</span></span><br><span class="line"><span class="comment"># Provides:         frp</span></span><br><span class="line"><span class="comment"># Required-Start:    $network $local_fs $remote_fs $named $portmap $syslog</span></span><br><span class="line"><span class="comment"># Required-Stop::    $network $local_fs $remote_fs</span></span><br><span class="line"><span class="comment"># Default-Start:     2 3 4 5</span></span><br><span class="line"><span class="comment"># Default-Stop:      0 1 6</span></span><br><span class="line"><span class="comment"># Short-Description: Start frp at boot time</span></span><br><span class="line"><span class="comment"># Description:       A porxy clint</span></span><br><span class="line"><span class="comment">### END INIT INFO</span></span><br><span class="line"><span class="function"><span class="title">net_ts</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">#è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="built_in">timeout</span>=5</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ç›®æ ‡ç½‘ç«™</span></span><br><span class="line">    target=baidu.com</span><br><span class="line"></span><br><span class="line">    <span class="comment">#è·å–å“åº”çŠ¶æ€ç </span></span><br><span class="line">    ret_code=`curl -I -s --connect-timeout <span class="variable">$timeout</span> <span class="variable">$target</span> -w %&#123;http_code&#125; | <span class="built_in">tail</span> -n1`</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;x<span class="variable">$ret_code</span>&quot;</span> = <span class="string">&quot;x200&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> ç½‘ç»œç•…é€š</span><br><span class="line">netstate=<span class="string">&#x27;1&#x27;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> ç½‘ç»œä¸ç•…é€š</span><br><span class="line">netstate=<span class="string">&#x27;0&#x27;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">do_start</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;starting frp.&quot;</span></span><br><span class="line">        /etc/frp/frpc -c /etc/frp/frpc.ini &amp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">do_stop</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">      pkill -f /etc/frp/frpc</span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot;stop complete.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">do_restart</span></span>() &#123;</span><br><span class="line">    do_stop</span><br><span class="line">    <span class="built_in">sleep</span> 1</span><br><span class="line">    do_start</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">start)</span><br><span class="line">  net_ts</span><br><span class="line"><span class="comment">#è¿™é‡ŒéªŒè¯ç½‘ç»œæ˜¯å¦è¿é€šï¼Œè¿é€šäº†æ‰å¯åŠ¨frp</span></span><br><span class="line">  <span class="keyword">while</span> [ <span class="variable">$netstate</span> -lt 0 ];</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> è¯·æ£€æŸ¥ç½‘ç»œï¼Œå°†åœ¨5ç§’åé‡è¯•</span><br><span class="line">    <span class="built_in">sleep</span> 5</span><br><span class="line">    net_ts</span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  do_start</span><br><span class="line">   ;;</span><br><span class="line">stop)</span><br><span class="line">   do_stop</span><br><span class="line">   ;;</span><br><span class="line">status)</span><br><span class="line">  <span class="built_in">exit</span> $?</span><br><span class="line">  ;;</span><br><span class="line">restart)</span><br><span class="line">  do_restart</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;Usage:service frp &#123;start|stop|restart|status&#125;&quot;</span> &gt;&amp;2</span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line">   ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">chmod</span> +x /etc/init.d/frp</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo update-rc.d frp defaults</span><br><span class="line">sudo service frp start</span><br></pre></td></tr></table></figure><p>frpæœåŠ¡å·²ç»å¯åŠ¨<br>ç°åœ¨è¯•è¯•èƒ½å¦ä»å¤–ç½‘è®¿é—®<br>ä¸€åˆ‡æ­£å¸¸çš„è¯ä½ å°±å¯ä»¥ä»å¤–ç½‘çœ‹åˆ°åˆšæ‰é‚£ä¸ªæ¼‚äº®çš„å‰ç«¯<br>å¼€å§‹ä½ çš„ä¸‹è½½å§<br>frpè¿˜æœ‰å¾ˆå¤šç©æ³•ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»é¡¹ç›®åœ°å€çœ‹çœ‹ï¼Œæœ‰ä¸­æ–‡è¯´æ˜.  </p><p><strong>ç¬¬ä¸€æ¬¡å†™æ•™ç¨‹,å†™çš„ä¸å¥½çš„åœ°æ–¹è¯·å¤šåŒ…æ¶µ,ä¹‹åæˆ‘è¿˜ä¼šå†™åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…hexoåšå®¢çš„æ•™ç¨‹,è®°å¾—æ¥çœ‹å“¦.</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Systemctl </tag>
            
            <tag> Pi </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
