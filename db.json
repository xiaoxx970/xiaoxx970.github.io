{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/raspi-init.sh","path":"raspi-init.sh","modified":0,"renderable":0},{"_id":"source/uploads/avatar.jpg","path":"uploads/avatar.jpg","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/LICENSE","path":"lib/fancybox/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/README.md","path":"lib/fancybox/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.min.css","path":"lib/fancybox/source/jquery.fancybox.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.min.js","path":"lib/fancybox/source/jquery.fancybox.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"f2c7b75f0f82a87248c756c2a71fabeed3af4c70","modified":1552885358509},{"_id":"source/CNAME","hash":"c3be04a7e84e283558a1b243bb592fb0fbc48ea7","modified":1552714196561},{"_id":"source/raspi-init.sh","hash":"9034455b9c1b6dc583c9d930c46e663fa039f705","modified":1552714196604},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1552714196999},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1552714197030},{"_id":"themes/next/.eslintrc.json","hash":"d3c11de434171d55d70daadd3914bc33544b74b8","modified":1552714197153},{"_id":"themes/next/.gitattributes","hash":"8454b9313cb1a97b63fb87e2d29daee497ce6249","modified":1552714197087},{"_id":"themes/next/.gitignore","hash":"0378adb9c2dc4855b3198184df4863cb30e4059c","modified":1552714197055},{"_id":"themes/next/.stylintrc","hash":"3b7f9785e9ad0dab764e1c535b40df02f4ff5fd6","modified":1552714197088},{"_id":"themes/next/LICENSE.md","hash":"f0190c7d83a98464549a6b3a51bb206148d88e1b","modified":1552714196607},{"_id":"themes/next/README.md","hash":"460ef40953c2eccea4f87bc67043aac2eb87b1a9","modified":1552714197053},{"_id":"themes/next/bower.json","hash":"e053c6e073227b953d37480eb3f9ab77292c5460","modified":1552714196999},{"_id":"themes/next/_config.yml","hash":"0f5ce1dca6f53365acbebdfc35c7f4d5ce306fb7","modified":1552714197057},{"_id":"themes/next/.travis.yml","hash":"fb9ac54e875f6ea16d5c83db497f6bd70ae83198","modified":1552714197152},{"_id":"themes/next/crowdin.yml","hash":"4a53f5985e545c635cb56b2a57ed290cb8cf8942","modified":1552714197031},{"_id":"themes/next/gulpfile.coffee","hash":"67eaf2515100971f6195b60eeebbfe5e8de895ab","modified":1552714196716},{"_id":"themes/next/package.json","hash":"e2bb1bb999c2b1c5b807c40f04682051ba3960b2","modified":1552714197056},{"_id":"source/_drafts/stitp.md","hash":"e2c7cdaaa47e0d2736b4c13f973eb5296834c7e5","modified":1552714196600},{"_id":"source/_posts/.DS_Store","hash":"73e4ca21114239f3a2573cd160c44d107178e131","modified":1552887318990},{"_id":"source/_posts/frp-for-mc.md","hash":"61fe525de497f7cf6eb238124e08854b9273d88a","modified":1552714196571},{"_id":"source/_posts/miui-eu.md","hash":"97ba216edc2271abd08c3d2937109fc7d62101dc","modified":1556030403385},{"_id":"source/_posts/hackintosh-of-yoga710.md","hash":"419abc6c04568ac49ef9e0800fed489c67cc1564","modified":1552889247756},{"_id":"source/_posts/nginx建立TCP代理.md","hash":"71fdec184573b52c2a6038d30580b634b6671cc7","modified":1552826643955},{"_id":"source/_posts/orangepi折腾记录.md","hash":"997543de520f3ff00c6b39e5b3733d0dfdbf9ab0","modified":1552714196569},{"_id":"source/_posts/raspberrypi-how.md","hash":"a2d08029b2b6ca6cf54411139c5873393acd49f5","modified":1552714196567},{"_id":"source/_posts/把时间当作朋友_笔记.md","hash":"532ec03cb7a954cd8a234fa3dba709292a7436c5","modified":1552714196573},{"_id":"source/_posts/关于coding和git的折腾.md","hash":"03af647938c2db725eb5e5c84ed2ee07368a8453","modified":1552714196576},{"_id":"source/about/index.md","hash":"1c951bb6628f71e96dfb916a7e8d8824abaa6a8c","modified":1552714196597},{"_id":"source/tags/index.md","hash":"4f381257662522b235ed1156c13aca0a7d950fee","modified":1552714196604},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"22f2ccc5522563b67c8663849fc1d6cbae93a8ff","modified":1552714197078},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"40b0fd9fdb8586fab98e23f713940e7a2f80e2f9","modified":1552714197085},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"1e212fe229bd659726b4a3bcf4b5b14e0310ba3a","modified":1552714197083},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"36201119490a04107c8179b10202548a9d0e5e60","modified":1552714197082},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1552714197079},{"_id":"themes/next/.github/stale.yml","hash":"dbd5e6bf89b76ad1f2b081578b239c7ae32755af","modified":1552714197081},{"_id":"themes/next/docs/AGPL3.md","hash":"f463f95b169d64983f59fa6f3e4b6760290a0e6b","modified":1552714197016},{"_id":"themes/next/docs/AUTHORS.md","hash":"51a0a13da55ff3d596970b2f9ab4531c6b2211f2","modified":1552714197002},{"_id":"themes/next/docs/DATA-FILES.md","hash":"9a1895c0a0db705c4c48f512e86917f9af1ec3fb","modified":1552714197004},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"1dada3c3404445a00367882b8f97cdf092b7943d","modified":1552714197007},{"_id":"themes/next/docs/INSTALLATION.md","hash":"b74ef6fedf76cdb156e2265759ee0a789ddd49cc","modified":1552714197028},{"_id":"themes/next/docs/LICENSE","hash":"5b702310012d480b40529fd10cf1872f687277a0","modified":1552714197006},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"f2fd611a84dd6f9ed5395b63e187e29e9effbcd3","modified":1552714197027},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"c9f2ed8e15c137b1885d9ca8b7197d9f457971e9","modified":1552714197003},{"_id":"themes/next/docs/MATH.md","hash":"34a46ca9a05b4570903beaadd4807e6759afb52e","modified":1552714197015},{"_id":"themes/next/languages/de.yml","hash":"641e49587d41bb87e4d5932dc3d975754ded7953","modified":1552714197039},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1552714197032},{"_id":"themes/next/languages/en.yml","hash":"d66b8b48840443a4f9c72c7696a21e292f685a47","modified":1552714197042},{"_id":"themes/next/languages/fr.yml","hash":"ebcd1f188af8c3f5ef1f0923e794c839fbfae2d4","modified":1552714197046},{"_id":"themes/next/languages/it.yml","hash":"4e3adeb10c0fa627935d69ae1783ce0894f5dee5","modified":1552714197040},{"_id":"themes/next/languages/ja.yml","hash":"82afb0a5637ad67065fa5b2624fa56c7c240c3c6","modified":1552714197042},{"_id":"themes/next/languages/ko.yml","hash":"33e065ceb21590b8eb32430a69e76c2f057eb758","modified":1552714197035},{"_id":"themes/next/languages/nl.yml","hash":"060efc260c1c529469d739d97dcee79683e8f411","modified":1552714197052},{"_id":"themes/next/languages/pt-BR.yml","hash":"dc09e290e908744ca28e093dbdd859ca2a20290e","modified":1552714197033},{"_id":"themes/next/languages/pt.yml","hash":"53e2a52b9d5dc20c04080acd4f5b954e8699780f","modified":1552714197037},{"_id":"themes/next/languages/ru.yml","hash":"720b92a9ec075b68737d296b1f29ad8e01151c85","modified":1552714197045},{"_id":"themes/next/languages/tr.yml","hash":"6d2f53d3687a7a46c67c78ab47908accd8812add","modified":1552714197049},{"_id":"themes/next/languages/vi.yml","hash":"e2b3b18359ab41d58c64b2002acfedd60a7505a4","modified":1552714197050},{"_id":"themes/next/languages/zh-CN.yml","hash":"069f15da910d6f9756be448167c07ea5aa5dc346","modified":1552714197051},{"_id":"themes/next/languages/zh-HK.yml","hash":"c22113c4a6c748c18093dae56da5a9e8c5b963cd","modified":1552714197044},{"_id":"themes/next/languages/zh-TW.yml","hash":"dbf4dd87716babb2db4f5332fae9ec190a6f636a","modified":1552714197047},{"_id":"themes/next/languages/id.yml","hash":"9709a4dbacc56a1571a96b139b872128d6959e90","modified":1552714197036},{"_id":"themes/next/layout/_layout.swig","hash":"2db9b03efc68be842b8f79fe2f0fd7fb09e8885a","modified":1552714196620},{"_id":"themes/next/layout/archive.swig","hash":"4b53070008775ecfd03953bd1b4adfcb0fabcaac","modified":1552714196651},{"_id":"themes/next/layout/index.swig","hash":"bdcc9f57adef49706b16b107791cacecbc23c1dc","modified":1552714196629},{"_id":"themes/next/layout/category.swig","hash":"f0e3338bfa5efb205d2c28e635e9611f1fff3b55","modified":1552714196619},{"_id":"themes/next/layout/post.swig","hash":"0554f42f90f4a524666c2b520be30b689c1d6a87","modified":1552714196628},{"_id":"themes/next/layout/tag.swig","hash":"7cda2822e50b9fee9848a6b81e6c2d1aca830aeb","modified":1552714196613},{"_id":"themes/next/layout/schedule.swig","hash":"d99b9eff0cff38caf095445f27c08aaf11a5b862","modified":1552714196614},{"_id":"themes/next/scripts/helpers.js","hash":"7849f9b9a86fc82d6e186e32a5e26e1f27c49b47","modified":1552714197075},{"_id":"themes/next/scripts/merge-configs.js","hash":"5f96f63e86825fd7028c2522e4111103e261a758","modified":1552714197061},{"_id":"themes/next/layout/page.swig","hash":"9ddf40303f82e3db76d59dc82b6d4eadfed203c6","modified":1552714196628},{"_id":"themes/next/scripts/merge.js","hash":"39b84b937b2a9608b94e5872349a47200e1800ff","modified":1552714197059},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1552714196610},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1552714196611},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1552714196609},{"_id":"source/uploads/avatar.jpg","hash":"13679f80c715a47dd7b258145007c4088f372d24","modified":1552714196595},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196998},{"_id":"source/_posts/hackintosh-of-yoga710/.DS_Store","hash":"0039f155e1f393841d70055076ae048991d3daee","modified":1552892129685},{"_id":"source/_posts/miui-eu/screen1.jpg","hash":"ff497a290f30acc4669303e682d62ab7e13ba440","modified":1552714196582},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"7b2963daac19b0c14f98ebef375d5fbce8fc3f44","modified":1552714197014},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"a51de08657f5946f4028b11373280ddc04639525","modified":1552714197011},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"1a4e41adcf5831057f3f7b3025ed4a5ef7c442b4","modified":1552714197009},{"_id":"themes/next/docs/ru/README.md","hash":"caaad965f9d54f82382c934f44a507d37a863fa3","modified":1552714197012},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"e771c5b745608c6fb5ae2fa1c06c61b3699627ec","modified":1552714197021},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"9b512cb820627fcc45c9f77c7a122aa99e021bd5","modified":1552714197017},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"baca12cc24be082f1db28c7f283493569666321c","modified":1552714197026},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"67f4a987e7db0ab1ce1ea4c311f2961df07b6681","modified":1552714197020},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"6ea741f380dc3e90661d12db7e115a94b77643a4","modified":1552714197025},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"7214fcd1b5830e62b3ac0836ad2d1b0fa391ae12","modified":1552714197024},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"4d68054b062b3c8404b146a155d9624d2d25dd9b","modified":1552714197022},{"_id":"themes/next/docs/zh-CN/README.md","hash":"0e6652be1b6bca87479f2601ff89105def200b4c","modified":1552714197023},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"2095d1214a4e519a1d31b67b41c89080fa3285d3","modified":1552714197019},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1552714196617},{"_id":"themes/next/layout/_custom/head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1552714196618},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1552714196615},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"27fb1d81151b9b79683e488579df19eee7e654d6","modified":1552714196624},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"f8c7e729ad6e72b4c705a2c5d5041589c2b4cc52","modified":1552714196623},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"f544e21883d249d5a341c684c97bd25831008f07","modified":1552714196626},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"f134aeb8d5bee351e5277edb92ac694af314b75f","modified":1552714196625},{"_id":"themes/next/layout/_partials/footer.swig","hash":"ec37bcdb49b0477edfba5dc8a54ec7e7e5d76239","modified":1552714196641},{"_id":"themes/next/layout/_partials/breadcrumb.swig","hash":"4b48fdbfe3bf41ddeda4ff74c1ff17ab9f15c14e","modified":1552714196642},{"_id":"themes/next/layout/_partials/comments.swig","hash":"412d2a0e18a237e490e1b8bce5547558768b9da3","modified":1552714196640},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"914155d5d758306cff405beefd4a07973fd8fc77","modified":1552714196630},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"206cbd6ac9ca6a219a8516f59beae25b3c770199","modified":1552714196647},{"_id":"themes/next/layout/_third-party/bookmark.swig","hash":"ed62ea83d3f2c9db2ea57bf23a7d765ed82504c2","modified":1552714196669},{"_id":"themes/next/layout/_third-party/github-banner.swig","hash":"736cb278fa09d3b4ed6f305b56353941ea918793","modified":1552714196659},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"53861f78a1fb52e96a43cf6909e1530dcf6cbff8","modified":1552714196661},{"_id":"themes/next/layout/_third-party/pangu.swig","hash":"ccf0035086e14dcefa24c2907301edf4c37d5448","modified":1552714196691},{"_id":"themes/next/layout/_third-party/copy-code.swig","hash":"c62c37474c8de78cf34e54c6219b503ec28d9815","modified":1552714196660},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"554ec568e9d2c71e4a624a8de3cb5929050811d6","modified":1552714196692},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"a174d4a0c9188f9c4a2652f49bfa7a60ad0a83e3","modified":1552714196667},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1552714196659},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"debba9b7110f635204a15df148194d4c2fd2668b","modified":1552714196688},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"8ff97c3f4eb888207bdc50066053c97d890e0202","modified":1552714196715},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"8c56dd26157cbc580ae41d97ac34b90ab48ced3f","modified":1552714196716},{"_id":"themes/next/layout/_macro/post-related.swig","hash":"e8dfb86eb62b9c2bc1435d6d1afa95d3b4c7b931","modified":1552714196711},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56733f92352b891b0bb1baca293f68f6c8928b0b","modified":1552714196713},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"7a9b687087793bf5e218cbc345214f927fa5601a","modified":1552714196710},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"a9519b4f82aa516e516317d0447bf5c5c7ffb544","modified":1552714196712},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"4519ab8e6898f2ee90d05cde060375462b937a7d","modified":1552714197064},{"_id":"themes/next/layout/_macro/post.swig","hash":"00cd242c032341ab0fb5d7f66d4a9aa652eab183","modified":1552714196711},{"_id":"themes/next/scripts/tags/button.js","hash":"510f3711a9c9d3e2a844250647d90e8359e7d130","modified":1552714197070},{"_id":"themes/next/scripts/tags/exturl.js","hash":"83e48148d2f4f8543f6833effa8a26eb0b60f2f0","modified":1552714197074},{"_id":"themes/next/scripts/tags/full-image.js","hash":"ef2c2985a3edb9f69740740c5bc42d4b692c86fd","modified":1552714197070},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"aface11629970a5c4ee38aaa15550d2caee59560","modified":1552714197072},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"ab4a82a7246265717556c7a42f897430340b88cf","modified":1552714197067},{"_id":"themes/next/scripts/tags/label.js","hash":"bb502616bfabe85de5de903074ec6afe627f8413","modified":1552714197073},{"_id":"themes/next/scripts/tags/note.js","hash":"bd3310a5890bded1bda9ba3ad6f98ee44ecb101a","modified":1552714197068},{"_id":"themes/next/scripts/tags/tabs.js","hash":"2d257e26718d4011509fd6f530d2ea37e50e3e66","modified":1552714197065},{"_id":"themes/next/source/css/main.styl","hash":"2a62e2a11e9cdcc69e538d856d6f9ce228a07c93","modified":1552714196774},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1552714196830},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1552714196839},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1552714196826},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1552714196821},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1552714196836},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1552714196825},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1552714196837},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1552714196819},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1552714196824},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1552714196829},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1552714196818},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1552714196827},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1552714196817},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1552714196831},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1552714196834},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1552714196823},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1552714196833},{"_id":"themes/next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1552714196840},{"_id":"source/_posts/miui-eu/git-clone.jpg","hash":"32eb237145b0d94bc6053087327e18695f8c24df","modified":1552714196578},{"_id":"source/_posts/miui-eu/bat-run.jpg","hash":"0fd156c96292397f056ad15b803cd2b8884ac003","modified":1552714196585},{"_id":"source/_posts/miui-eu/mipay-extract.jpg","hash":"0a5ef7f9583ee2f6c925a4750794c5d3f3860aae","modified":1552714196581},{"_id":"source/_posts/miui-eu/screen.png","hash":"f17cc0b7b24014b02f12815c61261d1f64e831e8","modified":1552714196592},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196623},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196622},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196812},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196815},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196811},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196770},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552714196773},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"c381f638315a007b1baf5fea879161001fe50cd0","modified":1552714196622},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"580e9d9c4d8783ee6200d845ae16c98979bf1ea3","modified":1552714196627},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"c381f638315a007b1baf5fea879161001fe50cd0","modified":1552714196622},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1552714196637},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"09109a5c5a301e7cc5e3c7aec32b0164739fc7d4","modified":1552714196639},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"0b8349710caf9691741a457aa746add35245048e","modified":1552714196638},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"19050627bc23b0b2c2e65e7248c0f88468eb8ea5","modified":1552714196646},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"c909f6e96373c151dea325bcddfdd8c9522421b6","modified":1552714196645},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"f3ae3168801304af3d80ec3b84264e1d4201cb89","modified":1552714196644},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"3f11ae8e9084f39628cd2006931d39a2069b9dd6","modified":1552714196643},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"d9e2d9282f9be6e04eae105964abb81e512bffed","modified":1552714196649},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1552714196650},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1552714196649},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1552714196631},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1552714196632},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"b2f0d247b213e4cf8de47af6a304d98070cc7256","modified":1552714196635},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"4c501ea0b9c494181eb3c607c5526a5754e7fbd8","modified":1552714196657},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"f6454c452b2e90a8c760321bce7e3dc6119b71fa","modified":1552714196632},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"2440f1e66cb8e39cc2bacfd783fb6fe904a628e9","modified":1552714196654},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"292cdd1059b76d3d10486b71c99d9afb3e59ea44","modified":1552714196653},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"34cc66d4dbada2d561ba6f70fd9a75207c5adbd4","modified":1552714196656},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"c49a3b10b2f2f64a7ac41fa3d436fd2c8d31cca8","modified":1552714196658},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"d05e70a416963023ee1978e4168d58bcfd956ed3","modified":1552714196655},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"c0c2fd87e71f0beb542aa50c0bc875da5aa5c44b","modified":1552714196671},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"860de4ce6fccc516d2f779a4b600a4214d8c18e2","modified":1552714196670},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"30e9e55d9af2ced6e6b156a042026a8b480f0ab0","modified":1552714196673},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1552714196699},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"ff947f3561b229bc528cb1837d4ca19612219411","modified":1552714196704},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1552714196709},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"1ce5fa218a44cf6e620583e9013e0b674dd6a989","modified":1552714196698},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"7d94845f96197d9d84a405fa5d4ede75fb81b225","modified":1552714196702},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"cfc932c5db04fef64cc56d3ba0b8ddf3a15a63bd","modified":1552714196697},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"45f3f629c2aacc381095750e1c8649041a71a84b","modified":1552714196700},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"bd8382d4f12df207ed52f75f6e5fb06527970167","modified":1552714196708},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1552714196703},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"5a8027328f060f965b3014060bebec1d7cf149c1","modified":1552714196707},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"f9a1647a8f1866deeb94052d1f87a5df99cb1e70","modified":1552714196695},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"753d262911c27baf663fcaf199267133528656af","modified":1552714196705},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"8ab040fccba41675bc835973515530af8a51f8bd","modified":1552714196706},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"34599633658f3b0ffb487728b7766e1c7b551f5a","modified":1552714196677},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"71c897f9b107dd0de1b7f649633cf583c206a9db","modified":1552714196681},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1552714196679},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1552714196690},{"_id":"themes/next/layout/_macro/menu/menu-badge.swig","hash":"4eb8e222dc337211efb0d3bbdb5e29af3e6ecdb8","modified":1552714196715},{"_id":"themes/next/layout/_macro/menu/menu-item.swig","hash":"aab518204d3125e948796a9ba6b56b09cade2d92","modified":1552714196714},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"07f7da320689f828f6e36a6123807964a45157a0","modified":1552714196812},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"d19b630fa97d0b813d56c692a3575a7dddfaa259","modified":1552714196813},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"8aa98ae349908736ba43196c42498fd5bdeb780a","modified":1552714196814},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"5c7c71fd04c7b0562574888f96fa011d16a3775f","modified":1552714196718},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"8d6cf29f63c90364f4d3c336f7c9bb794b4c46cc","modified":1552714196770},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"a25408534f8fe6e321db4bbf9dd03335d648fe17","modified":1552714196771},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"72927abd51d3a607a6ba32cf882390792b34e834","modified":1552714196773},{"_id":"themes/next/source/js/src/affix.js","hash":"ad343aa406fd8181b5f310434817ce98fc2219e3","modified":1552714196856},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"1512c751d219577d338ac0780fb2bbd9075d5298","modified":1552714196848},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"84906eeae57bd06744dd20160b93eacf658f97e2","modified":1552714196850},{"_id":"themes/next/source/js/src/motion.js","hash":"4c7f94e499743f4cc958f6cd1260a93d765d3051","modified":1552714196853},{"_id":"themes/next/source/js/src/exturl.js","hash":"c48aa4b3c0e578a807fd3661e6cd4f3890777437","modified":1552714196854},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"68d3690152c89e7adb08bb35ec28dbda2bd93686","modified":1552714196845},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"c4867626afab749404daf321367f9b6b8e223f69","modified":1552714196847},{"_id":"themes/next/source/js/src/utils.js","hash":"52e1b1884bb87d29433608fc80467f785f61933a","modified":1552714196852},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"9c0e38750e26eb9e83e2b5ab9e069b66f0965ce4","modified":1552714196880},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"672d3b5767e0eacd83bb41b188c913f2cf754793","modified":1552714196881},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"c7e2a588b679d46379124141bb2f30bc2f3210e2","modified":1552714196844},{"_id":"themes/next/source/lib/fancybox/LICENSE","hash":"7713a1753ce88f2c7e6b054ecc8e4c786df76300","modified":1552714196858},{"_id":"themes/next/source/js/src/post-details.js","hash":"7d309b771e86c7e22ce11cc25625481ef7d5985c","modified":1552714196849},{"_id":"themes/next/source/lib/fancybox/README.md","hash":"10e4cb3bb98f6b9806bedbb8dbbc00151bad4c70","modified":1552714196879},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1552714196983},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1552714196975},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1552714196981},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1552714196984},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1552714196980},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1552714196959},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1552714196966},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1552714196965},{"_id":"themes/next/source/css/_variables/base.styl","hash":"e27a1034b0cd9821bab094565e9aa9bb80c6fa3e","modified":1552714196772},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1552714196951},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"2530de0f3125a912756f6c0e9090cd012134a4c5","modified":1552714196685},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"6e076b5e183eedf425a445e99851f938789c3194","modified":1552714196683},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"fbb6be577529c750ef7c872fe7abdc7ab0faf0f8","modified":1552714196770},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"7ad4081466b397e2a6204141bb7768b7c01bd93c","modified":1552714196723},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"237d185ac62ec9877e300947fa0109c44fb8db19","modified":1552714196754},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"1fd0650a8e5bff2c7146c810b04b3b88ee1f670e","modified":1552714196745},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"8b32928686c327151e13d3ab100157f9a03cd59f","modified":1552714196745},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1552714196747},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"4f2801fc4cf3f31bf2069f41db8c6ce0e3da9e39","modified":1552714196746},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1552714196753},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"e81b78ecbbf4b709583f393e2b0e8a4f74bacc28","modified":1552714196719},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1552714196720},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"1da5c800d025345f212a3bf1be035060f4e5e6ed","modified":1552714196719},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a17e2b871a335f290afb392a08f94fd35f59c715","modified":1552714196721},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"60179df0e5c9f7c2e9fda046040536c5d8b02f65","modified":1552714196720},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1552714196779},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"ab775f23ad475efb25376b5aad752ae8b56cfd8c","modified":1552714196721},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1552714196786},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1552714196781},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"3cc7646583218d16925ced7b70865e63a901d4a7","modified":1552714196786},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"b26f8a3394d8357a5bfd24d9f8bf62d7b4063ebb","modified":1552714196780},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"8e67eea73e9346f51ef26ecb35f67a1f5f672dcd","modified":1552714196788},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"bce344d3a665b4c55230d2a91eac2ad16d6f32fd","modified":1552714196794},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"ccf5a4761cb0ce451b5e994cfabf8769248a45c1","modified":1552714196791},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"cc961108b12ab97d9216606ceb1cd1cd31ab20f0","modified":1552714196797},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1552714196790},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"df16dc995eb9ad498df2edcfc3e20528fc9aa133","modified":1552714196796},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"be72740313a9a0477b8a22f62e4c8ffa6d23a2e5","modified":1552714196793},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"a558803ca81cceae2bdc22c18ef638fcc023681b","modified":1552714196792},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"d0e9065b0dbbc01811259f0597d1790268b4881b","modified":1552714196802},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1552714196807},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"f3aa863adf972569b72f2df6bc6a914e7daace99","modified":1552714196810},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1552714196809},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1552714196808},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"fa6c00fdaf8f0ca3b690a5a556671745fb67e2c9","modified":1552714196804},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"2ccb9bdc309b7c1ef183a3dbb0a4621bec54a328","modified":1552714196801},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"a6821fddf4199f6f39fd37028f5677583d46c34b","modified":1552714196843},{"_id":"themes/next/source/lib/fancybox/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1552714196926},{"_id":"themes/next/source/lib/fancybox/.git/config","hash":"6d27bad8831d14b10d7b775812c49acbe18b2af4","modified":1552714196883},{"_id":"themes/next/source/lib/fancybox/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1552714196914},{"_id":"themes/next/source/lib/fancybox/.git/index","hash":"151cc820c05fc06cd3f50f7a9fb9e99e8675c500","modified":1552714196948},{"_id":"themes/next/source/lib/fancybox/.git/packed-refs","hash":"a1338c173c56e17c1fb2c7a539ccd3a7eb0da164","modified":1552714196949},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"f7b9796b5b50c2c267eae284fefb6456ba83d656","modified":1552714196872},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.min.css","hash":"84adea69673c392c1d34a5a316e8e5960aa348b5","modified":1552714196871},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.min.js","hash":"b9a1185936351c902a3dfa179a3fde1d81d0ae68","modified":1552714196875},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1552714196972},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1552714196971},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1552714196976},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1552714196979},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1552714196978},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1552714196968},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1552714196994},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1552714196987},{"_id":"themes/next/source/css/_common/components/header/github-banner.styl","hash":"3f3d2a43d1a326bad25b633c8ec9ddd87867224c","modified":1552714196766},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"34f5ac3c1ed2dd31e9297cc4c0733e71bc2e252f","modified":1552714196768},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1552714196768},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"1a0d059799a298fe17c49a44298d32cebde93785","modified":1552714196767},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1552714196767},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"b6f3a06a94a6ee5470c956663164d58eda818a64","modified":1552714196763},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"630be616447a982413030e561bbd3a80ac14b120","modified":1552714196764},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1552714196765},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1552714196764},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"ad4cae23c8e383f4fabc9a2a95bca6055020d22e","modified":1552714196763},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1552714196762},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1552714196761},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"fa57ec9a6f1943c0558856dfba2d6b8faca0cd4d","modified":1552714196724},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"00a504620c454287111dc0ace64c989e1ff97f54","modified":1552714196728},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"8dd9a1c6f4f6baa00c2cf01837e7617120cf9660","modified":1552714196726},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1552714196727},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1552714196730},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"11c22f0fb3f6beb13e5a425ec064a4ff974c13b7","modified":1552714196725},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"9e05a2232faabb41bcebb51d545d897a76f077da","modified":1552714196729},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"a1521d48bb06d8d703753f52a198baa197af7da2","modified":1552714196731},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"94d76e6da600a36d80e2470326ebb6b3be447ccb","modified":1552714196729},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1552714196752},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1552714196727},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"2d58ad90f148e845bc7023751a7a13260600f8d6","modified":1552714196748},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1552714196751},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"2ab1322fe52ab5aafd49e68f5bd890e8380ee927","modified":1552714196750},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"b7076e58d647265ee0ad2b461fe8ce72c9373bc5","modified":1552714196751},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"9a409b798decdefdaf7a23f0b11004a8c27e82f3","modified":1552714196752},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"154a87a32d2fead480d5e909c37f6c476671c5e6","modified":1552714196748},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"f1640253cbbf71d0c04c34c25bd61045894f98bc","modified":1552714196749},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"f4d8144c22544bdb89787c14ab9d39578dae4b7c","modified":1552714196759},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"874278147115601d2abf15987f5f7a84ada1ac6b","modified":1552714196754},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"a6e7d698702c2e383dde3fde2abde27951679084","modified":1552714196755},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"10599e16414a8b7a76c4e79e6617b5fe3d4d1adf","modified":1552714196760},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"16087276945fa038f199692e3eabb1c52b8ea633","modified":1552714196759},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"acfdd76b1c90d2e384affb3d0006a39b524609d2","modified":1552714196756},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"28825ae15fa20ae3942cdaa7bcc1f3523ce59acc","modified":1552714196760},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"62fbbd32cf5a99ae550c45c763a2c4813a138d01","modified":1552714196738},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"c31fbaec7e6373ecfb8588500b972d451695a6ad","modified":1552714196756},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"875cbe88d5c7f6248990e2beb97c9828920e7e24","modified":1552714196741},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"caf263d1928496688c0e1419801eafd7e6919ce5","modified":1552714196739},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1552714196740},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"317c9ceda655e9dc373ce8e7b71d20b794fce9a4","modified":1552714196742},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"330c8884efb5612e7eb03986d87d29e8b0651974","modified":1552714196734},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1552714196735},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"27deb3d3a243d30022055dac7dad851024099a8b","modified":1552714196734},{"_id":"themes/next/source/css/_common/components/post/post-reading_progress.styl","hash":"82bc7fa5d38d98e98cc25f9a73189024fda25e63","modified":1552714196738},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"ff50a32ae6fea5fcdf2939dc9b01e1eb76cc73f0","modified":1552714196732},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"b2495ae5e04dcca610aacadc47881d9e716cd440","modified":1552714196733},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1552714196736},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"5e6318eea2dfe7d804af9a0b74a0f882a2dac5e0","modified":1552714196735},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1552714196737},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"5c3141d58970a0614896b6a62fd7a8a8caf4e401","modified":1552714196741},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"81b8d74f417feda024bcdd8020a5623af6dc075a","modified":1552714196733},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1552714196744},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"5a3b94bf978a9259d0a3a66bdfa8d7aa336a7934","modified":1552714196743},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"7fe4d4d656e86276c17cb4e48a560cb6a4def703","modified":1552714196744},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7dd247c8869fdefb5a007045d00f3ef8ceecf300","modified":1552714196731},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1552714196779},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1552714196805},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1552714196800},{"_id":"themes/next/source/lib/fancybox/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1552714196937},{"_id":"themes/next/source/lib/fancybox/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1552714196928},{"_id":"themes/next/source/lib/fancybox/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1552714196934},{"_id":"themes/next/source/lib/fancybox/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1552714196939},{"_id":"themes/next/source/lib/fancybox/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1552714196931},{"_id":"themes/next/source/lib/fancybox/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1552714196939},{"_id":"themes/next/source/lib/fancybox/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1552714196930},{"_id":"themes/next/source/lib/fancybox/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1552714196933},{"_id":"themes/next/source/lib/fancybox/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1552714196935},{"_id":"themes/next/source/lib/fancybox/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1552714196936},{"_id":"themes/next/source/lib/fancybox/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1552714196941},{"_id":"themes/next/source/lib/fancybox/.git/logs/HEAD","hash":"7c0815f710c5bc9a001c49e11cac4538a78377b4","modified":1552714196918},{"_id":"themes/next/source/lib/fancybox/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1552714196915},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"e72794707ef26fbdf5995532d91d95766173ecd4","modified":1552714196860},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1552714196996},{"_id":"themes/next/source/lib/fancybox/.git/objects/36/9bab09306448a2970d378b59bb21c059edad63","hash":"877e0c15623d0d6ff8f09bb627fc60a489f3c105","modified":1552714196901},{"_id":"themes/next/source/lib/fancybox/.git/objects/54/0a7b36ee26decfc3f0f34bf73bc85c48899128","hash":"2e5447a9dd879d71368e9dddd34d93849d00b934","modified":1552714196904},{"_id":"themes/next/source/lib/fancybox/.git/objects/7b/15d3cb03fda86241f8b2b335f04e9b9de0e1c4","hash":"d1fe3bd82c90f7d93874798a8ee8ebf1391d7207","modified":1552714196896},{"_id":"themes/next/source/lib/fancybox/.git/objects/00/c03f6be011e8878608eec12f68caf42b73f38e","hash":"8516bd35bc8f9223e13de5877778c8d14d49d6db","modified":1552714196900},{"_id":"themes/next/source/lib/fancybox/.git/objects/19/3567a3107003507fafacd255c349857e417926","hash":"ef5eab75e8c6998cb223edb4eb8a26c4cfc9415c","modified":1552714196897},{"_id":"themes/next/source/lib/fancybox/.git/objects/78/068b93f813cecbbd50c8247de547035009d512","hash":"4bc2bee779bd7e3cca13ee34801cf1e12585e5ae","modified":1552714196912},{"_id":"themes/next/source/lib/fancybox/.git/objects/92/4369c371444afb18fb86309229f5b4c24c6cf4","hash":"9eb6fa8ff9081e6650f6bee350d21567df105737","modified":1552714196886},{"_id":"themes/next/source/lib/fancybox/.git/objects/89/9d7a75b543fbed2a785f67d995bc77e06eb2e9","hash":"5651e2b80703225f642625c0fb2646543096d2cf","modified":1552714196894},{"_id":"themes/next/source/lib/fancybox/.git/objects/94/a9ed024d3859793618152ea559a168bbcbb5e2","hash":"1c2d080a86f03eb960e112a94910a5115addf57a","modified":1552714196888},{"_id":"themes/next/source/lib/fancybox/.git/objects/aa/654e17af8c354994f706c4e33bba6b5b70caeb","hash":"22b1bdf0b0974bf5e9022953ac26066056c235ff","modified":1552714196906},{"_id":"themes/next/source/lib/fancybox/.git/objects/bd/e1f741357b44b49290d43fdd193125202fef81","hash":"9beefc75cc0c37d04e98dd13b51ad85df40e77b9","modified":1552714196891},{"_id":"themes/next/source/lib/fancybox/.git/objects/f6/bb280a0b2c68256a8e906b35c6976c80c1b3be","hash":"5daaee11fc384fbe0f02c7123036c954ee9a73fd","modified":1552714196910},{"_id":"themes/next/source/lib/fancybox/.git/objects/ac/97c2cc9f61c52753abe4174a4a74b2064e5af0","hash":"272e74036b0612de83d9d0aa9604d3edf888b249","modified":1552714196890},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"e72794707ef26fbdf5995532d91d95766173ecd4","modified":1552714196877},{"_id":"themes/next/source/lib/fancybox/.git/objects/c2/fc5def1b6c38369e5e8b849adb956bd79b549e","hash":"27f03b9616e615b2724bac0fa4507d152697f3f1","modified":1552714196908},{"_id":"themes/next/source/lib/fancybox/.git/refs/heads/master","hash":"01fe0b1cf911f9e2e30415be1c967b1eaae2ee38","modified":1552714196944},{"_id":"themes/next/source/lib/fancybox/.git/logs/refs/heads/master","hash":"7c0815f710c5bc9a001c49e11cac4538a78377b4","modified":1552714196922},{"_id":"themes/next/source/lib/fancybox/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1552714196947},{"_id":"themes/next/source/lib/fancybox/.git/logs/refs/remotes/origin/HEAD","hash":"7c0815f710c5bc9a001c49e11cac4538a78377b4","modified":1552714196925},{"_id":"source/_posts/hackintosh-of-yoga710/error1.jpg","hash":"48898986ca54d3febb5f35aef9e8ffdcaac4fda7","modified":1552882670000},{"_id":"source/_posts/hackintosh-of-yoga710/CLOVER.zip","hash":"75f9f1e8ff977b9109aa8eb4053be9ffb295df3b","modified":1552885398000},{"_id":"public/about/index.html","hash":"f95d5ecb07726a8781377c52c42df56365b0abf5","modified":1556029677525},{"_id":"public/tags/index.html","hash":"7d58cef495ef5d0a5121302e20133ff96883a9b1","modified":1556029677525},{"_id":"public/archives/2018/03/index.html","hash":"0ca119800fb6b7bffecd9140b0ae34a6a551c410","modified":1556029677525},{"_id":"public/archives/2018/10/index.html","hash":"d080d3b92cd53b70f023917206402e89134d86dc","modified":1556029677525},{"_id":"public/archives/2018/11/index.html","hash":"4d22ce51b04ac750d59dd75d45d8234e67e04608","modified":1556029677525},{"_id":"public/archives/2018/12/index.html","hash":"1e4343da9bca8dc084cfb7d66c12c51b480dc259","modified":1556029677526},{"_id":"public/archives/2019/index.html","hash":"bcfe3776a50793d7fffcaabb698aef18e492521b","modified":1556029677526},{"_id":"public/archives/2019/03/index.html","hash":"befe19a7043ad9fd9a8297e27cb3f6f1324b255e","modified":1556029677526},{"_id":"public/tags/云服务/index.html","hash":"14aa13f5a9c268be7547117493d0d37b8d4db96c","modified":1556029677526},{"_id":"public/tags/云服务器/index.html","hash":"fd625a8d7ea73c425d2d24ac332b938fae67cbc4","modified":1556029677526},{"_id":"public/tags/各种Pi/index.html","hash":"a300e71984d6a70a7d1f9dd8af8129351fb04931","modified":1556029677526},{"_id":"public/tags/笔记/index.html","hash":"725ad79b5893bf3b6ba9fb40159073b5e9898063","modified":1556029677526},{"_id":"public/tags/MIUI/index.html","hash":"7a9018d767fe857995fff61c3e86b6e4534f677c","modified":1556029677526},{"_id":"public/miui-eu/index.html","hash":"815e2061b1ec70638006554e2b9b54347de3befa","modified":1556030453986},{"_id":"public/hackintosh-of-yoga710/index.html","hash":"bc42c9bb65c0a2ea182d66bb12882f885e6bd1f7","modified":1556029677526},{"_id":"public/frp-for-mc/index.html","hash":"bc8aebf247f8d590ff7d9b90c1af0acfe514ffcf","modified":1556029677526},{"_id":"public/nginx建立TCP代理/index.html","hash":"5b83b0d5e39fee5d1d1969a38919d8ef09f73f05","modified":1556029677526},{"_id":"public/关于coding和git的折腾/index.html","hash":"0de8c937d9c3c23ada47f49f358daf6c6b927441","modified":1556029677526},{"_id":"public/orangepi折腾记录/index.html","hash":"05c4cd6605cc2141917051a2acf86bb5c9acc8e2","modified":1556029677526},{"_id":"public/把时间当作朋友_笔记/index.html","hash":"7dc4ac08a561adcc3115c6aebb31037fd0d75240","modified":1556029677527},{"_id":"public/raspberrypi-how/index.html","hash":"b332463f9eb9fa48017d49e568815d856c7752ea","modified":1556029677527},{"_id":"public/archives/index.html","hash":"7066ca17749463c08787ffcc7f7ca7ee79aca9ac","modified":1556029677527},{"_id":"public/archives/2018/index.html","hash":"183be0190aff8894c6feb6d5aa538703ff11dc2c","modified":1556029677527},{"_id":"public/index.html","hash":"cde053c0ea47fa4bd6cab53ad47607d8efe9d6b3","modified":1556030453986},{"_id":"public/CNAME","hash":"c3be04a7e84e283558a1b243bb592fb0fbc48ea7","modified":1556029677539},{"_id":"public/raspi-init.sh","hash":"9034455b9c1b6dc583c9d930c46e663fa039f705","modified":1556029677539},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1556029677539},{"_id":"public/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1556029677539},{"_id":"public/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1556029677539},{"_id":"public/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1556029677539},{"_id":"public/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1556029677539},{"_id":"public/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1556029677540},{"_id":"public/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1556029677540},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1556029677540},{"_id":"public/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1556029677540},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1556029677540},{"_id":"public/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1556029677540},{"_id":"public/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1556029677540},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1556029677540},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1556029677540},{"_id":"public/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1556029677540},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1556029677540},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1556029677540},{"_id":"public/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1556029677540},{"_id":"public/lib/fancybox/LICENSE","hash":"7713a1753ce88f2c7e6b054ecc8e4c786df76300","modified":1556029677540},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1556029677540},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1556029677541},{"_id":"public/miui-eu/screen1.jpg","hash":"ff497a290f30acc4669303e682d62ab7e13ba440","modified":1556029677541},{"_id":"public/uploads/avatar.jpg","hash":"13679f80c715a47dd7b258145007c4088f372d24","modified":1556029678541},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1556029678543},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1556029678544},{"_id":"public/miui-eu/bat-run.jpg","hash":"0fd156c96292397f056ad15b803cd2b8884ac003","modified":1556029678545},{"_id":"public/miui-eu/git-clone.jpg","hash":"32eb237145b0d94bc6053087327e18695f8c24df","modified":1556029678545},{"_id":"public/miui-eu/mipay-extract.jpg","hash":"0a5ef7f9583ee2f6c925a4750794c5d3f3860aae","modified":1556029678545},{"_id":"public/miui-eu/screen.png","hash":"f17cc0b7b24014b02f12815c61261d1f64e831e8","modified":1556029678545},{"_id":"public/js/src/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1556029678556},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1556029678557},{"_id":"public/js/src/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1556029678587},{"_id":"public/js/src/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1556029678592},{"_id":"public/js/src/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1556029678593},{"_id":"public/js/src/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1556029678593},{"_id":"public/js/src/bootstrap.js","hash":"1c41508b83cb0c4512e64b4d63afa1be954ce8ef","modified":1556029678593},{"_id":"public/js/src/post-details.js","hash":"0dde5e6d4547587662a3256317a9d5d1db507692","modified":1556029678593},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1556029678606},{"_id":"public/js/src/schemes/pisces.js","hash":"89267bd16ecbedd1958af7f0fb3f4f654d24fffa","modified":1556029678609},{"_id":"public/lib/fancybox/README.html","hash":"acfa25ca9b6457a4a70a4b35cf72c9dafc33584e","modified":1556029678616},{"_id":"public/css/main.css","hash":"a03e23025b0053a4125a5f9ebd55a9f930666605","modified":1556029678616},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1556029678616},{"_id":"public/js/src/motion.js","hash":"b45d2c0d48f2c8e6a0621b8063845f76b89476cc","modified":1556029678669},{"_id":"public/js/src/utils.js","hash":"66f2ac658d6110f70a86f784d0c5d891a97c14bd","modified":1556029678669},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1556029678669},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1556029678669},{"_id":"public/lib/fancybox/source/jquery.fancybox.min.css","hash":"84adea69673c392c1d34a5a316e8e5960aa348b5","modified":1556029678670},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1556029678670},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"a5913612c237bb7443c6006a386edd775201d423","modified":1556029678836},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1556029678921},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1556029678941},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1556029678941},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1556029678942},{"_id":"public/lib/fancybox/source/jquery.fancybox.min.js","hash":"b85b75426ff7569d54a1f69689895315e80ed85d","modified":1556029678958},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1556029679005},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"fec45d19179030b8f43ebd0eabc5467892c14136","modified":1556029679036},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"fec45d19179030b8f43ebd0eabc5467892c14136","modified":1556029679036},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1556029679085},{"_id":"public/hackintosh-of-yoga710/error1.jpg","hash":"48898986ca54d3febb5f35aef9e8ffdcaac4fda7","modified":1556029679283},{"_id":"public/hackintosh-of-yoga710/CLOVER.zip","hash":"75f9f1e8ff977b9109aa8eb4053be9ffb295df3b","modified":1556029679311}],"Category":[],"Data":[],"Page":[{"title":"关于卢俊鹏","date":"2018-10-19T07:02:51.000Z","comments":0,"_content":"普通大学生\n喜欢航拍，还喜欢钢琴，学一个技能最重要的其实不是坚持而是兴趣啊","source":"about/index.md","raw":"---\ntitle: 关于卢俊鹏\ndate: 2018-10-19 15:02:51\ncomments: false\n---\n普通大学生\n喜欢航拍，还喜欢钢琴，学一个技能最重要的其实不是坚持而是兴趣啊","updated":"2019-03-16T05:29:56.597Z","path":"about/index.html","layout":"page","_id":"cjutvw4y40001kj3qec9l7027","content":"<p>普通大学生<br>喜欢航拍，还喜欢钢琴，学一个技能最重要的其实不是坚持而是兴趣啊</p>\n","site":{"data":{}},"excerpt":"","more":"<p>普通大学生<br>喜欢航拍，还喜欢钢琴，学一个技能最重要的其实不是坚持而是兴趣啊</p>\n"},{"title":"标签","date":"2018-10-17T13:46:11.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2018-10-17 21:46:11\ntype: \"tags\"\ncomments: false\n---\n","updated":"2019-03-16T05:29:56.604Z","path":"tags/index.html","layout":"page","_id":"cjutvw4y80003kj3qxqwsy9rx","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"项目结构","date":"2018-11-29T05:35:52.000Z","_content":"Laravel 的 `Hash` 类提供了安全的 Bcrypt 哈希演算法：\n对密码加密\n```php\n$password = Hash::make('secret');\n```\n验证密码\n```php\nif (Hash::check('secret', $hashedPassword))\n{\n    // The passwords match...\n}\n```\n确认密码是否需要重新加密\n```php\nif (Hash::needsRehash($hashed))\n{\n    $hashed = Hash::make('secret');\n}\n```\n使用 Auth::attempt 方法来验证用户成功登录之前的信息确认：\n```php\nif (Auth::attempt(array('email' => $email, 'password' => $password)))\n{\n    return Redirect::intended('dashboard');\n}\n```\n判定一个用户是否已经登入，使用 check 这个方法：\n```php\nif (Auth::check())\n{\n    // The user is logged in...\n}\n```\n\n`app` 目录里面包含了 `views`（视图）,  `controllers`（控制器）, 还有 `models`（模组） 等目录，其中`http/routes.php`这个文件起到了中枢引导的作用，所有域名后的路径都交由这个文件跳转到对应的控制器类\n\n控制页面样式的`style.css`位于`\\public\\theme\\default\\pc\\css`中\n\n控制主页内容的文件`index.blade.php`位于`\\resources\\views\\theme\\default\\pc\\`中，当然，基于手机我们还用了另外的内容和样式以适应小屏幕显示信息。\n\n\n后台：`admin panel` \nor:\n编辑活动说明用的编辑器：\n`edui-editor`（富文本编辑器）\n所有日期选择的部分我们使用了\n`ivu-date-picker`，一个非常美观的日期选择组件","source":"_drafts/stitp.md","raw":"---\ntitle: 项目结构\ndate: 2018-11-29 13:35:52\ntags:\n---\nLaravel 的 `Hash` 类提供了安全的 Bcrypt 哈希演算法：\n对密码加密\n```php\n$password = Hash::make('secret');\n```\n验证密码\n```php\nif (Hash::check('secret', $hashedPassword))\n{\n    // The passwords match...\n}\n```\n确认密码是否需要重新加密\n```php\nif (Hash::needsRehash($hashed))\n{\n    $hashed = Hash::make('secret');\n}\n```\n使用 Auth::attempt 方法来验证用户成功登录之前的信息确认：\n```php\nif (Auth::attempt(array('email' => $email, 'password' => $password)))\n{\n    return Redirect::intended('dashboard');\n}\n```\n判定一个用户是否已经登入，使用 check 这个方法：\n```php\nif (Auth::check())\n{\n    // The user is logged in...\n}\n```\n\n`app` 目录里面包含了 `views`（视图）,  `controllers`（控制器）, 还有 `models`（模组） 等目录，其中`http/routes.php`这个文件起到了中枢引导的作用，所有域名后的路径都交由这个文件跳转到对应的控制器类\n\n控制页面样式的`style.css`位于`\\public\\theme\\default\\pc\\css`中\n\n控制主页内容的文件`index.blade.php`位于`\\resources\\views\\theme\\default\\pc\\`中，当然，基于手机我们还用了另外的内容和样式以适应小屏幕显示信息。\n\n\n后台：`admin panel` \nor:\n编辑活动说明用的编辑器：\n`edui-editor`（富文本编辑器）\n所有日期选择的部分我们使用了\n`ivu-date-picker`，一个非常美观的日期选择组件","slug":"stitp","published":0,"updated":"2019-03-16T05:29:56.600Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4xu0000kj3qjx6jmct0","content":"<p>Laravel 的 <code>Hash</code> 类提供了安全的 Bcrypt 哈希演算法：<br>对密码加密<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$password = Hash::make(<span class=\"string\">'secret'</span>);</span><br></pre></td></tr></table></figure></p>\n<p>验证密码<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Hash::check(<span class=\"string\">'secret'</span>, $hashedPassword))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// The passwords match...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>确认密码是否需要重新加密<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Hash::needsRehash($hashed))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    $hashed = Hash::make(<span class=\"string\">'secret'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>使用 Auth::attempt 方法来验证用户成功登录之前的信息确认：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Auth::attempt(<span class=\"keyword\">array</span>(<span class=\"string\">'email'</span> =&gt; $email, <span class=\"string\">'password'</span> =&gt; $password)))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Redirect::intended(<span class=\"string\">'dashboard'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>判定一个用户是否已经登入，使用 check 这个方法：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Auth::check())</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// The user is logged in...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>app</code> 目录里面包含了 <code>views</code>（视图）,  <code>controllers</code>（控制器）, 还有 <code>models</code>（模组） 等目录，其中<code>http/routes.php</code>这个文件起到了中枢引导的作用，所有域名后的路径都交由这个文件跳转到对应的控制器类</p>\n<p>控制页面样式的<code>style.css</code>位于<code>\\public\\theme\\default\\pc\\css</code>中</p>\n<p>控制主页内容的文件<code>index.blade.php</code>位于<code>\\resources\\views\\theme\\default\\pc\\</code>中，当然，基于手机我们还用了另外的内容和样式以适应小屏幕显示信息。</p>\n<p>后台：<code>admin panel</code><br>or:<br>编辑活动说明用的编辑器：<br><code>edui-editor</code>（富文本编辑器）<br>所有日期选择的部分我们使用了<br><code>ivu-date-picker</code>，一个非常美观的日期选择组件</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Laravel 的 <code>Hash</code> 类提供了安全的 Bcrypt 哈希演算法：<br>对密码加密<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$password = Hash::make(<span class=\"string\">'secret'</span>);</span><br></pre></td></tr></table></figure></p>\n<p>验证密码<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Hash::check(<span class=\"string\">'secret'</span>, $hashedPassword))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// The passwords match...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>确认密码是否需要重新加密<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Hash::needsRehash($hashed))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    $hashed = Hash::make(<span class=\"string\">'secret'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>使用 Auth::attempt 方法来验证用户成功登录之前的信息确认：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Auth::attempt(<span class=\"keyword\">array</span>(<span class=\"string\">'email'</span> =&gt; $email, <span class=\"string\">'password'</span> =&gt; $password)))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Redirect::intended(<span class=\"string\">'dashboard'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>判定一个用户是否已经登入，使用 check 这个方法：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (Auth::check())</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// The user is logged in...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>app</code> 目录里面包含了 <code>views</code>（视图）,  <code>controllers</code>（控制器）, 还有 <code>models</code>（模组） 等目录，其中<code>http/routes.php</code>这个文件起到了中枢引导的作用，所有域名后的路径都交由这个文件跳转到对应的控制器类</p>\n<p>控制页面样式的<code>style.css</code>位于<code>\\public\\theme\\default\\pc\\css</code>中</p>\n<p>控制主页内容的文件<code>index.blade.php</code>位于<code>\\resources\\views\\theme\\default\\pc\\</code>中，当然，基于手机我们还用了另外的内容和样式以适应小屏幕显示信息。</p>\n<p>后台：<code>admin panel</code><br>or:<br>编辑活动说明用的编辑器：<br><code>edui-editor</code>（富文本编辑器）<br>所有日期选择的部分我们使用了<br><code>ivu-date-picker</code>，一个非常美观的日期选择组件</p>\n"},{"title":"Minecraft海外服务器加速后续：用frp更高效地转发流量（也适用于其他游戏的加速）","date":"2018-11-30T07:51:42.000Z","_content":">前情提要：之前用Nginx反向代理的功能来加速Minecraft，真的是太不稳定！了！\n经常出现玩着玩着掉线了，去看Minecraft服务器没有任何毛病，看用来加速的阿里云服务器，也没有任何异常，但是直连Minecraft服务器是可以的，所以问题绝壁出在加速服务器上\n重启Nginx，连不上，重启服务器，还是连不上，最后过了几分钟，自己连上了。很任性有没有，如此的情况出了几次实在是忍受不了了，于是在想别的办法，想到一个叫frp的软件，之前用过来做内网穿透，同样也是转发流量的道理嘛，就两边装了试试发现，是真的好用啊，甚至感觉延迟更低了，也没有掉线过\n\n安装过程来介绍一下\n<!---more--->\n其实也没什么新的东西，就是分别在服务器和加速服务器安装frp，然后配置运行就可以了\n\n# 在Minecraft服务器上安装和配置frp客户端(frpc)\n\n- 下载并解压frp\n  \n    可以去[release页面](\nhttps://github.com/fatedier/frp/releases/latest)找到最新版的下载链接然后替换下面的链接\n\n    ```bash\n    cd ~\n    wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz\n    tar -xvf frp.tar.gz\n    ```\n- 到frp目录下,复制文件到系统里（以管理员身份运行）\n    ```bash\n    cd frp\n    cp frpc /usr/local/bin/frpc\n    mkdir /etc/frp\n    cp frpc.ini /etc/frp/frpc.ini\n    ```\n- 编写frpc的配置文件：`frpc.ini`\n    ```bash\n    nano /etc/frp/frpc.ini\n    # 内容如下\n    [common]\n    server_addr = 加速服务器的IP或域名\n    server_port = 7000\n    login_fail_exit\t= false  #0.11新功能：登录远程服务器失败不退出，30s自动重试\n    #protocol = kcp\n\n    [mc]\n    type = tcp\n    local_ip = 127.0.0.1\n    local_port = 25565\n    remote_port = 25565\n\n    [mc-udp]\n    type = udp\n    local_ip = 127.0.0.1\n    local_port = 25565\n    remote_port = 25565\n    ```\n    我也不知道开启udp的必要性，但是经过实测只开tcp并登陆不进游戏\n\n- 编写 frp service 文件，把frpc加入系统服务，这样方便管理\n    ```bash\n    nano /usr/lib/systemd/system/frpc.service\n    # 内容如下\n    [Unit]\n    Description=frpc\n    After=network.target\n\n    [Service]\n    TimeoutStartSec=30\n    ExecStart=/usr/local/bin/frpc -c /etc/frp/frpc.ini\n    ExecStop=/bin/kill $MAINPID\n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n- 设置文件权限，启动 frp 并设置开机启动\n    ```bash\n    chmod 754 /usr/lib/systemd/system/frpc.service\n    systemctl enable frpc\n    ```\n\n    好了frp客户端的操作先到这里，等下装好frp服务端并运行后再<a id=\"back\" />回来这里，开启客户端：\n    ```bash\n    systemctl start frpc\n    systemctl status frpc\n    ```\n\n# 在加速服务器上安装frp服务端\n\n- 还是一样，先下载frp，再解压\n    ```bash\n    cd ~\n    wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz\n    tar -xvf frp.tar.gz\n    ```\n- 到frp目录下,复制文件到系统里（这次是frps了）\n    ```bash\n    cd frp\n    cp frps /usr/local/bin/frps\n    mkdir /etc/frp\n    cp frps.ini /etc/frp/frps.ini\n    ```\n- 编写frps的配置文件：`frps.ini`\n    ```bash\n    nano /etc/frp/frps.ini\n    # 内容如下\n    [common]\n    bind_port = 7000\n    ```\n    就是这么简单，记得去防火墙允许7000端口\n- 加入系统服务\n    ```bash\n    nano /usr/lib/systemd/system/frps.service\n    # 内容如下\n    [Unit]\n    Description=frps\n    After=network.target\n\n    [Service]\n    TimeoutStartSec=30\n    ExecStart=/usr/local/bin/frps -c /etc/frp/frps.ini\n    ExecStop=/bin/kill $MAINPID\n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n    保存退出，设置权限，开机启动\n    ```bash\n    chmod 754 /usr/lib/systemd/system/frps.service\n    systemctl enable frps\n    systemctl start frps\n    systemctl status frps\n    ```\n    现在可以[回去](#back)启动客户端了\n<br />\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;完成了~最后一句话是显示服务运行状态的,当里面显示绿色的`active`就表示程序正常运行了\n客户端那边也是，如果出问题了显示红色的`dead`，那么认真看看系统日志,是不是配置文件不对什么的，然后再`systemctl restart frpc`(s),看`status`，多错几次还是就OK了。\n\n如果你照着我的教程做了，在任何一步出了问题都欢迎在评论里告诉我，看到了一定回复。\n>ftp项目地址：https://github.com/fatedier/frp\n它能做的不止转发端口流量这么简单，如果你愿意，看看它的中文文档，会有很多收获的","source":"_posts/frp-for-mc.md","raw":"---\ntitle: Minecraft海外服务器加速后续：用frp更高效地转发流量（也适用于其他游戏的加速）\ndate: 2018-11-30 15:51:42\ntags: 云服务\n---\n>前情提要：之前用Nginx反向代理的功能来加速Minecraft，真的是太不稳定！了！\n经常出现玩着玩着掉线了，去看Minecraft服务器没有任何毛病，看用来加速的阿里云服务器，也没有任何异常，但是直连Minecraft服务器是可以的，所以问题绝壁出在加速服务器上\n重启Nginx，连不上，重启服务器，还是连不上，最后过了几分钟，自己连上了。很任性有没有，如此的情况出了几次实在是忍受不了了，于是在想别的办法，想到一个叫frp的软件，之前用过来做内网穿透，同样也是转发流量的道理嘛，就两边装了试试发现，是真的好用啊，甚至感觉延迟更低了，也没有掉线过\n\n安装过程来介绍一下\n<!---more--->\n其实也没什么新的东西，就是分别在服务器和加速服务器安装frp，然后配置运行就可以了\n\n# 在Minecraft服务器上安装和配置frp客户端(frpc)\n\n- 下载并解压frp\n  \n    可以去[release页面](\nhttps://github.com/fatedier/frp/releases/latest)找到最新版的下载链接然后替换下面的链接\n\n    ```bash\n    cd ~\n    wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz\n    tar -xvf frp.tar.gz\n    ```\n- 到frp目录下,复制文件到系统里（以管理员身份运行）\n    ```bash\n    cd frp\n    cp frpc /usr/local/bin/frpc\n    mkdir /etc/frp\n    cp frpc.ini /etc/frp/frpc.ini\n    ```\n- 编写frpc的配置文件：`frpc.ini`\n    ```bash\n    nano /etc/frp/frpc.ini\n    # 内容如下\n    [common]\n    server_addr = 加速服务器的IP或域名\n    server_port = 7000\n    login_fail_exit\t= false  #0.11新功能：登录远程服务器失败不退出，30s自动重试\n    #protocol = kcp\n\n    [mc]\n    type = tcp\n    local_ip = 127.0.0.1\n    local_port = 25565\n    remote_port = 25565\n\n    [mc-udp]\n    type = udp\n    local_ip = 127.0.0.1\n    local_port = 25565\n    remote_port = 25565\n    ```\n    我也不知道开启udp的必要性，但是经过实测只开tcp并登陆不进游戏\n\n- 编写 frp service 文件，把frpc加入系统服务，这样方便管理\n    ```bash\n    nano /usr/lib/systemd/system/frpc.service\n    # 内容如下\n    [Unit]\n    Description=frpc\n    After=network.target\n\n    [Service]\n    TimeoutStartSec=30\n    ExecStart=/usr/local/bin/frpc -c /etc/frp/frpc.ini\n    ExecStop=/bin/kill $MAINPID\n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n- 设置文件权限，启动 frp 并设置开机启动\n    ```bash\n    chmod 754 /usr/lib/systemd/system/frpc.service\n    systemctl enable frpc\n    ```\n\n    好了frp客户端的操作先到这里，等下装好frp服务端并运行后再<a id=\"back\" />回来这里，开启客户端：\n    ```bash\n    systemctl start frpc\n    systemctl status frpc\n    ```\n\n# 在加速服务器上安装frp服务端\n\n- 还是一样，先下载frp，再解压\n    ```bash\n    cd ~\n    wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz\n    tar -xvf frp.tar.gz\n    ```\n- 到frp目录下,复制文件到系统里（这次是frps了）\n    ```bash\n    cd frp\n    cp frps /usr/local/bin/frps\n    mkdir /etc/frp\n    cp frps.ini /etc/frp/frps.ini\n    ```\n- 编写frps的配置文件：`frps.ini`\n    ```bash\n    nano /etc/frp/frps.ini\n    # 内容如下\n    [common]\n    bind_port = 7000\n    ```\n    就是这么简单，记得去防火墙允许7000端口\n- 加入系统服务\n    ```bash\n    nano /usr/lib/systemd/system/frps.service\n    # 内容如下\n    [Unit]\n    Description=frps\n    After=network.target\n\n    [Service]\n    TimeoutStartSec=30\n    ExecStart=/usr/local/bin/frps -c /etc/frp/frps.ini\n    ExecStop=/bin/kill $MAINPID\n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n    保存退出，设置权限，开机启动\n    ```bash\n    chmod 754 /usr/lib/systemd/system/frps.service\n    systemctl enable frps\n    systemctl start frps\n    systemctl status frps\n    ```\n    现在可以[回去](#back)启动客户端了\n<br />\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;完成了~最后一句话是显示服务运行状态的,当里面显示绿色的`active`就表示程序正常运行了\n客户端那边也是，如果出问题了显示红色的`dead`，那么认真看看系统日志,是不是配置文件不对什么的，然后再`systemctl restart frpc`(s),看`status`，多错几次还是就OK了。\n\n如果你照着我的教程做了，在任何一步出了问题都欢迎在评论里告诉我，看到了一定回复。\n>ftp项目地址：https://github.com/fatedier/frp\n它能做的不止转发端口流量这么简单，如果你愿意，看看它的中文文档，会有很多收获的","slug":"frp-for-mc","published":1,"updated":"2019-03-16T05:29:56.571Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4y50002kj3quc2e4ags","content":"<blockquote>\n<p>前情提要：之前用Nginx反向代理的功能来加速Minecraft，真的是太不稳定！了！<br>经常出现玩着玩着掉线了，去看Minecraft服务器没有任何毛病，看用来加速的阿里云服务器，也没有任何异常，但是直连Minecraft服务器是可以的，所以问题绝壁出在加速服务器上<br>重启Nginx，连不上，重启服务器，还是连不上，最后过了几分钟，自己连上了。很任性有没有，如此的情况出了几次实在是忍受不了了，于是在想别的办法，想到一个叫frp的软件，之前用过来做内网穿透，同样也是转发流量的道理嘛，就两边装了试试发现，是真的好用啊，甚至感觉延迟更低了，也没有掉线过</p>\n</blockquote>\n<p>安装过程来介绍一下<br><a id=\"more\"></a><br>其实也没什么新的东西，就是分别在服务器和加速服务器安装frp，然后配置运行就可以了</p>\n<h1 id=\"在Minecraft服务器上安装和配置frp客户端-frpc\"><a href=\"#在Minecraft服务器上安装和配置frp客户端-frpc\" class=\"headerlink\" title=\"在Minecraft服务器上安装和配置frp客户端(frpc)\"></a>在Minecraft服务器上安装和配置frp客户端(frpc)</h1><ul>\n<li><p>下载并解压frp</p>\n<p>  可以去<a href=\"https://github.com/fatedier/frp/releases/latest\" target=\"_blank\" rel=\"noopener\">release页面</a>找到最新版的下载链接然后替换下面的链接</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz</span><br><span class=\"line\">tar -xvf frp.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>到frp目录下,复制文件到系统里（以管理员身份运行）</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> frp</span><br><span class=\"line\">cp frpc /usr/<span class=\"built_in\">local</span>/bin/frpc</span><br><span class=\"line\">mkdir /etc/frp</span><br><span class=\"line\">cp frpc.ini /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>编写frpc的配置文件：<code>frpc.ini</code></p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/frp/frpc.ini</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = 加速服务器的IP或域名</span><br><span class=\"line\">server_port = 7000</span><br><span class=\"line\">login_fail_exit\t= <span class=\"literal\">false</span>  <span class=\"comment\">#0.11新功能：登录远程服务器失败不退出，30s自动重试</span></span><br><span class=\"line\"><span class=\"comment\">#protocol = kcp</span></span><br><span class=\"line\"></span><br><span class=\"line\">[mc]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 25565</span><br><span class=\"line\">remote_port = 25565</span><br><span class=\"line\"></span><br><span class=\"line\">[mc-udp]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = udp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 25565</span><br><span class=\"line\">remote_port = 25565</span><br></pre></td></tr></table></figure>\n<p>  我也不知道开启udp的必要性，但是经过实测只开tcp并登陆不进游戏</p>\n</li>\n<li><p>编写 frp service 文件，把frpc加入系统服务，这样方便管理</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /usr/lib/systemd/system/frpc.service</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=frpc</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">TimeoutStartSec=30</span><br><span class=\"line\">ExecStart=/usr/<span class=\"built_in\">local</span>/bin/frpc -c /etc/frp/frpc.ini</span><br><span class=\"line\">ExecStop=/bin/<span class=\"built_in\">kill</span> <span class=\"variable\">$MAINPID</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>设置文件权限，启动 frp 并设置开机启动</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 754 /usr/lib/systemd/system/frpc.service</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> frpc</span><br></pre></td></tr></table></figure>\n<p>  好了frp客户端的操作先到这里，等下装好frp服务端并运行后再<a id=\"back\">回来这里，开启客户端：</a></p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start frpc</span><br><span class=\"line\">systemctl status frpc</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h1 id=\"在加速服务器上安装frp服务端\"><a href=\"#在加速服务器上安装frp服务端\" class=\"headerlink\" title=\"在加速服务器上安装frp服务端\"></a>在加速服务器上安装frp服务端</h1><ul>\n<li><p>还是一样，先下载frp，再解压</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz</span><br><span class=\"line\">tar -xvf frp.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>到frp目录下,复制文件到系统里（这次是frps了）</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> frp</span><br><span class=\"line\">cp frps /usr/<span class=\"built_in\">local</span>/bin/frps</span><br><span class=\"line\">mkdir /etc/frp</span><br><span class=\"line\">cp frps.ini /etc/frp/frps.ini</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>编写frps的配置文件：<code>frps.ini</code></p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/frp/frps.ini</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7000</span><br></pre></td></tr></table></figure>\n<p>  就是这么简单，记得去防火墙允许7000端口</p>\n</li>\n<li><p>加入系统服务</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /usr/lib/systemd/system/frps.service</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=frps</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">TimeoutStartSec=30</span><br><span class=\"line\">ExecStart=/usr/<span class=\"built_in\">local</span>/bin/frps -c /etc/frp/frps.ini</span><br><span class=\"line\">ExecStop=/bin/<span class=\"built_in\">kill</span> <span class=\"variable\">$MAINPID</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<p>  保存退出，设置权限，开机启动</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 754 /usr/lib/systemd/system/frps.service</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> frps</span><br><span class=\"line\">systemctl start frps</span><br><span class=\"line\">systemctl status frps</span><br></pre></td></tr></table></figure>\n<p>  现在可以<a href=\"#back\">回去</a>启动客户端了<br><br></p>\n</li>\n</ul>\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;完成了~最后一句话是显示服务运行状态的,当里面显示绿色的<code>active</code>就表示程序正常运行了<br>客户端那边也是，如果出问题了显示红色的<code>dead</code>，那么认真看看系统日志,是不是配置文件不对什么的，然后再<code>systemctl restart frpc</code>(s),看<code>status</code>，多错几次还是就OK了。</p>\n<p>如果你照着我的教程做了，在任何一步出了问题都欢迎在评论里告诉我，看到了一定回复。</p>\n<blockquote>\n<p>ftp项目地址：<a href=\"https://github.com/fatedier/frp\" target=\"_blank\" rel=\"noopener\">https://github.com/fatedier/frp</a><br>它能做的不止转发端口流量这么简单，如果你愿意，看看它的中文文档，会有很多收获的</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>前情提要：之前用Nginx反向代理的功能来加速Minecraft，真的是太不稳定！了！<br>经常出现玩着玩着掉线了，去看Minecraft服务器没有任何毛病，看用来加速的阿里云服务器，也没有任何异常，但是直连Minecraft服务器是可以的，所以问题绝壁出在加速服务器上<br>重启Nginx，连不上，重启服务器，还是连不上，最后过了几分钟，自己连上了。很任性有没有，如此的情况出了几次实在是忍受不了了，于是在想别的办法，想到一个叫frp的软件，之前用过来做内网穿透，同样也是转发流量的道理嘛，就两边装了试试发现，是真的好用啊，甚至感觉延迟更低了，也没有掉线过</p>\n</blockquote>\n<p>安装过程来介绍一下<br>","more":"<br>其实也没什么新的东西，就是分别在服务器和加速服务器安装frp，然后配置运行就可以了</p>\n<h1 id=\"在Minecraft服务器上安装和配置frp客户端-frpc\"><a href=\"#在Minecraft服务器上安装和配置frp客户端-frpc\" class=\"headerlink\" title=\"在Minecraft服务器上安装和配置frp客户端(frpc)\"></a>在Minecraft服务器上安装和配置frp客户端(frpc)</h1><ul>\n<li><p>下载并解压frp</p>\n<p>  可以去<a href=\"https://github.com/fatedier/frp/releases/latest\" target=\"_blank\" rel=\"noopener\">release页面</a>找到最新版的下载链接然后替换下面的链接</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz</span><br><span class=\"line\">tar -xvf frp.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>到frp目录下,复制文件到系统里（以管理员身份运行）</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> frp</span><br><span class=\"line\">cp frpc /usr/<span class=\"built_in\">local</span>/bin/frpc</span><br><span class=\"line\">mkdir /etc/frp</span><br><span class=\"line\">cp frpc.ini /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>编写frpc的配置文件：<code>frpc.ini</code></p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/frp/frpc.ini</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = 加速服务器的IP或域名</span><br><span class=\"line\">server_port = 7000</span><br><span class=\"line\">login_fail_exit\t= <span class=\"literal\">false</span>  <span class=\"comment\">#0.11新功能：登录远程服务器失败不退出，30s自动重试</span></span><br><span class=\"line\"><span class=\"comment\">#protocol = kcp</span></span><br><span class=\"line\"></span><br><span class=\"line\">[mc]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 25565</span><br><span class=\"line\">remote_port = 25565</span><br><span class=\"line\"></span><br><span class=\"line\">[mc-udp]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = udp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 25565</span><br><span class=\"line\">remote_port = 25565</span><br></pre></td></tr></table></figure>\n<p>  我也不知道开启udp的必要性，但是经过实测只开tcp并登陆不进游戏</p>\n</li>\n<li><p>编写 frp service 文件，把frpc加入系统服务，这样方便管理</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /usr/lib/systemd/system/frpc.service</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=frpc</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">TimeoutStartSec=30</span><br><span class=\"line\">ExecStart=/usr/<span class=\"built_in\">local</span>/bin/frpc -c /etc/frp/frpc.ini</span><br><span class=\"line\">ExecStop=/bin/<span class=\"built_in\">kill</span> <span class=\"variable\">$MAINPID</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>设置文件权限，启动 frp 并设置开机启动</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 754 /usr/lib/systemd/system/frpc.service</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> frpc</span><br></pre></td></tr></table></figure>\n<p>  好了frp客户端的操作先到这里，等下装好frp服务端并运行后再<a id=\"back\">回来这里，开启客户端：</a></p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start frpc</span><br><span class=\"line\">systemctl status frpc</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h1 id=\"在加速服务器上安装frp服务端\"><a href=\"#在加速服务器上安装frp服务端\" class=\"headerlink\" title=\"在加速服务器上安装frp服务端\"></a>在加速服务器上安装frp服务端</h1><ul>\n<li><p>还是一样，先下载frp，再解压</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz -O frp.tar.gz</span><br><span class=\"line\">tar -xvf frp.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>到frp目录下,复制文件到系统里（这次是frps了）</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> frp</span><br><span class=\"line\">cp frps /usr/<span class=\"built_in\">local</span>/bin/frps</span><br><span class=\"line\">mkdir /etc/frp</span><br><span class=\"line\">cp frps.ini /etc/frp/frps.ini</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>编写frps的配置文件：<code>frps.ini</code></p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/frp/frps.ini</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7000</span><br></pre></td></tr></table></figure>\n<p>  就是这么简单，记得去防火墙允许7000端口</p>\n</li>\n<li><p>加入系统服务</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /usr/lib/systemd/system/frps.service</span><br><span class=\"line\"><span class=\"comment\"># 内容如下</span></span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=frps</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">TimeoutStartSec=30</span><br><span class=\"line\">ExecStart=/usr/<span class=\"built_in\">local</span>/bin/frps -c /etc/frp/frps.ini</span><br><span class=\"line\">ExecStop=/bin/<span class=\"built_in\">kill</span> <span class=\"variable\">$MAINPID</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<p>  保存退出，设置权限，开机启动</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 754 /usr/lib/systemd/system/frps.service</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> frps</span><br><span class=\"line\">systemctl start frps</span><br><span class=\"line\">systemctl status frps</span><br></pre></td></tr></table></figure>\n<p>  现在可以<a href=\"#back\">回去</a>启动客户端了<br><br></p>\n</li>\n</ul>\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;完成了~最后一句话是显示服务运行状态的,当里面显示绿色的<code>active</code>就表示程序正常运行了<br>客户端那边也是，如果出问题了显示红色的<code>dead</code>，那么认真看看系统日志,是不是配置文件不对什么的，然后再<code>systemctl restart frpc</code>(s),看<code>status</code>，多错几次还是就OK了。</p>\n<p>如果你照着我的教程做了，在任何一步出了问题都欢迎在评论里告诉我，看到了一定回复。</p>\n<blockquote>\n<p>ftp项目地址：<a href=\"https://github.com/fatedier/frp\" target=\"_blank\" rel=\"noopener\">https://github.com/fatedier/frp</a><br>它能做的不止转发端口流量这么简单，如果你愿意，看看它的中文文档，会有很多收获的</p>\n</blockquote>"},{"title":"MacOS Mojave Hackintosh for Lenovo Yoga710 [clover]","date":"2019-03-02T13:09:51.000Z","_content":"I've been attempt making my laptop work with mojave for like one month, and bought a DW1820 wireless card to fix network problem.  Also there's a lot of problem like brightness, bluetooth, app store, etc. It's all work now.\n<!--more-->\nThe most tricky part is to drive DW1820(What? I bought it for hackintosh!), I do found kext driver for my card from RehabMan, but seems not work at all. Every time I boot up I see this![](error1.jpg)\nMaybe something wrong with Bluetooth since it's connected via USB. But I fixed it by just delete `BrcmPatchRAM2.kext` and `BrcmFirmwareData.kext`, and add the address of bluetooth's USB port to `FakePCIID.kext`, it workd fine then. no  need of other kext driver.\n\nHere's my hardware:\n> Processor: Intel Core i5-7200U\n> Graphics: Intel HD Graphics 620, NVDIA Geforce 940MX\n> Memory: 4096 MB, 2133 MHz, DDR4, 1/1 slots occupied, Single-Channel\n> Display: 14 inch 16:9, 1920 x 1080 pixel 157 PPI, Multitouch\n> Mainboard: Intel Kaby Lake-U Premium PCH\n\nWhat works well:\n> Graphics, Brightness(and save brightness)\n> Keyboard & Trackpad\n> Audio\n> Battery\n> Airprot\n> Bluetooth\n> HDMI output with audio\n> Headphone jack include microphone\n\nWhat is not working:\n> NVDIA Geforce 940MX\n> Touch screen\n> Sleep function(just about work, it wake immediately after sleep)\n> SD card reader\n\nSomething you need attention:\n> brightness can be adjust at setting, you can add a key map yourself.\n> You can enable HIDPI https://github.com/xzhih/one-key-hidpi\n\nI'm jus put the clover file of myself, hope there's help for you. As for installing detals, it's alot outside.\n\nDownload link: [clover file of yoga 710](CLOVER.zip)","source":"_posts/hackintosh-of-yoga710.md","raw":"---\ntitle: MacOS Mojave Hackintosh for Lenovo Yoga710 [clover]\ndate: 2019-03-02 21:09:51\ntags:\n---\nI've been attempt making my laptop work with mojave for like one month, and bought a DW1820 wireless card to fix network problem.  Also there's a lot of problem like brightness, bluetooth, app store, etc. It's all work now.\n<!--more-->\nThe most tricky part is to drive DW1820(What? I bought it for hackintosh!), I do found kext driver for my card from RehabMan, but seems not work at all. Every time I boot up I see this![](error1.jpg)\nMaybe something wrong with Bluetooth since it's connected via USB. But I fixed it by just delete `BrcmPatchRAM2.kext` and `BrcmFirmwareData.kext`, and add the address of bluetooth's USB port to `FakePCIID.kext`, it workd fine then. no  need of other kext driver.\n\nHere's my hardware:\n> Processor: Intel Core i5-7200U\n> Graphics: Intel HD Graphics 620, NVDIA Geforce 940MX\n> Memory: 4096 MB, 2133 MHz, DDR4, 1/1 slots occupied, Single-Channel\n> Display: 14 inch 16:9, 1920 x 1080 pixel 157 PPI, Multitouch\n> Mainboard: Intel Kaby Lake-U Premium PCH\n\nWhat works well:\n> Graphics, Brightness(and save brightness)\n> Keyboard & Trackpad\n> Audio\n> Battery\n> Airprot\n> Bluetooth\n> HDMI output with audio\n> Headphone jack include microphone\n\nWhat is not working:\n> NVDIA Geforce 940MX\n> Touch screen\n> Sleep function(just about work, it wake immediately after sleep)\n> SD card reader\n\nSomething you need attention:\n> brightness can be adjust at setting, you can add a key map yourself.\n> You can enable HIDPI https://github.com/xzhih/one-key-hidpi\n\nI'm jus put the clover file of myself, hope there's help for you. As for installing detals, it's alot outside.\n\nDownload link: [clover file of yoga 710](CLOVER.zip)","slug":"hackintosh-of-yoga710","published":1,"updated":"2019-03-18T06:07:27.756Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4y90004kj3qq34hwyc5","content":"<p>I’ve been attempt making my laptop work with mojave for like one month, and bought a DW1820 wireless card to fix network problem.  Also there’s a lot of problem like brightness, bluetooth, app store, etc. It’s all work now.<br><a id=\"more\"></a><br>The most tricky part is to drive DW1820(What? I bought it for hackintosh!), I do found kext driver for my card from RehabMan, but seems not work at all. Every time I boot up I see this<img src=\"error1.jpg\" alt><br>Maybe something wrong with Bluetooth since it’s connected via USB. But I fixed it by just delete <code>BrcmPatchRAM2.kext</code> and <code>BrcmFirmwareData.kext</code>, and add the address of bluetooth’s USB port to <code>FakePCIID.kext</code>, it workd fine then. no  need of other kext driver.</p>\n<p>Here’s my hardware:</p>\n<blockquote>\n<p>Processor: Intel Core i5-7200U<br>Graphics: Intel HD Graphics 620, NVDIA Geforce 940MX<br>Memory: 4096 MB, 2133 MHz, DDR4, 1/1 slots occupied, Single-Channel<br>Display: 14 inch 16:9, 1920 x 1080 pixel 157 PPI, Multitouch<br>Mainboard: Intel Kaby Lake-U Premium PCH</p>\n</blockquote>\n<p>What works well:</p>\n<blockquote>\n<p>Graphics, Brightness(and save brightness)<br>Keyboard &amp; Trackpad<br>Audio<br>Battery<br>Airprot<br>Bluetooth<br>HDMI output with audio<br>Headphone jack include microphone</p>\n</blockquote>\n<p>What is not working:</p>\n<blockquote>\n<p>NVDIA Geforce 940MX<br>Touch screen<br>Sleep function(just about work, it wake immediately after sleep)<br>SD card reader</p>\n</blockquote>\n<p>Something you need attention:</p>\n<blockquote>\n<p>brightness can be adjust at setting, you can add a key map yourself.<br>You can enable HIDPI <a href=\"https://github.com/xzhih/one-key-hidpi\" target=\"_blank\" rel=\"noopener\">https://github.com/xzhih/one-key-hidpi</a></p>\n</blockquote>\n<p>I’m jus put the clover file of myself, hope there’s help for you. As for installing detals, it’s alot outside.</p>\n<p>Download link: <a href=\"CLOVER.zip\">clover file of yoga 710</a></p>\n","site":{"data":{}},"excerpt":"<p>I’ve been attempt making my laptop work with mojave for like one month, and bought a DW1820 wireless card to fix network problem.  Also there’s a lot of problem like brightness, bluetooth, app store, etc. It’s all work now.<br>","more":"<br>The most tricky part is to drive DW1820(What? I bought it for hackintosh!), I do found kext driver for my card from RehabMan, but seems not work at all. Every time I boot up I see this<img src=\"error1.jpg\" alt><br>Maybe something wrong with Bluetooth since it’s connected via USB. But I fixed it by just delete <code>BrcmPatchRAM2.kext</code> and <code>BrcmFirmwareData.kext</code>, and add the address of bluetooth’s USB port to <code>FakePCIID.kext</code>, it workd fine then. no  need of other kext driver.</p>\n<p>Here’s my hardware:</p>\n<blockquote>\n<p>Processor: Intel Core i5-7200U<br>Graphics: Intel HD Graphics 620, NVDIA Geforce 940MX<br>Memory: 4096 MB, 2133 MHz, DDR4, 1/1 slots occupied, Single-Channel<br>Display: 14 inch 16:9, 1920 x 1080 pixel 157 PPI, Multitouch<br>Mainboard: Intel Kaby Lake-U Premium PCH</p>\n</blockquote>\n<p>What works well:</p>\n<blockquote>\n<p>Graphics, Brightness(and save brightness)<br>Keyboard &amp; Trackpad<br>Audio<br>Battery<br>Airprot<br>Bluetooth<br>HDMI output with audio<br>Headphone jack include microphone</p>\n</blockquote>\n<p>What is not working:</p>\n<blockquote>\n<p>NVDIA Geforce 940MX<br>Touch screen<br>Sleep function(just about work, it wake immediately after sleep)<br>SD card reader</p>\n</blockquote>\n<p>Something you need attention:</p>\n<blockquote>\n<p>brightness can be adjust at setting, you can add a key map yourself.<br>You can enable HIDPI <a href=\"https://github.com/xzhih/one-key-hidpi\" target=\"_blank\" rel=\"noopener\">https://github.com/xzhih/one-key-hidpi</a></p>\n</blockquote>\n<p>I’m jus put the clover file of myself, hope there’s help for you. As for installing detals, it’s alot outside.</p>\n<p>Download link: <a href=\"CLOVER.zip\">clover file of yoga 710</a></p>"},{"title":"通过Nginx转发Minecraft服务器流量达到加速的目的(Nginx转发TCP)","date":"2018-10-21T08:25:01.000Z","_content":"阿里云学生机10块一个月挺便宜了，就是内存2G对于一个Minecraft服务器来说有点小\n而我还有个谷歌云服务器在台湾，配置不错内存也够，问题就是网络延迟太大\n把Minecraft服务器运行在那里实际玩下来发现延迟不能忍受\n从我的电脑Ping台湾服务器有250ms，Ping阿里云20ms，阿里云Ping台湾服务器，50ms\n用小学老师教我的加法一算发现，50+20小于250啊\n于是就有了标题这个想法\n<!--more-->\n对于流量转发除了SS和Frp其他我还真不知道（**去看我的[frp教程](/frp-for-mc/)吧，真的，Nginx反向代理太难用了**）\n\n网上查了可以用firewalld做端口转发，我试了把tcp和udp的25565端口都转发到台湾服务器\n没用，可能是原理不对\n\n再一查看到Nginx反向代理可以做这种事情\n大概就是编辑站点配置文件，在server{}里面加上\n\n```nginx\n    listen 25565;\n    location / {\n      # 代理的地址\n      proxy_pass http://35.xx.xx.23:25565;\n    }\n```\n\n我确实这样做了因为前面不加`http://`配置文件不让过，结果一试当然没有用\n\n# 正确的方法在这里\n\n后来找到了Nginx转发tcp的文章，总算是找对方向了\n我的Nginx版本1.14，默认是支持TCP流量转发的，只需要在**Nginx的**配置文件(Nginx.conf)里面加如下面几行就可以：\n\n```nginx\nstream {\n    server {\n        listen 25565;\n        proxy_pass 35.xx.xx.23:25565;\n    }\n}\n```\n\n加在events后面\n\n是的，就是这么简单，这篇文章能教你的已经结束了\n\n而我自己的折腾还在后面，因为我没有把前面listen 25565的站点删掉，没删掉！！\n导致我不管怎么改Nginx的配置都是说连不上\n折腾了一晚上+一小个下午共计两个小时，的人生\n终于在今天也就是写这篇文章前发现了，把那个站点删掉，终于是能连上了\n感动得我\n掀了桌子\n昔日的卡顿\n完全没了影子\n那么以后\n终于能和小伙伴愉快的玩mc了\n开心","source":"_posts/nginx建立TCP代理.md","raw":"---\ntitle: 通过Nginx转发Minecraft服务器流量达到加速的目的(Nginx转发TCP)\ndate: 2018-10-21 16:25:01\ntags: 云服务器\n---\n阿里云学生机10块一个月挺便宜了，就是内存2G对于一个Minecraft服务器来说有点小\n而我还有个谷歌云服务器在台湾，配置不错内存也够，问题就是网络延迟太大\n把Minecraft服务器运行在那里实际玩下来发现延迟不能忍受\n从我的电脑Ping台湾服务器有250ms，Ping阿里云20ms，阿里云Ping台湾服务器，50ms\n用小学老师教我的加法一算发现，50+20小于250啊\n于是就有了标题这个想法\n<!--more-->\n对于流量转发除了SS和Frp其他我还真不知道（**去看我的[frp教程](/frp-for-mc/)吧，真的，Nginx反向代理太难用了**）\n\n网上查了可以用firewalld做端口转发，我试了把tcp和udp的25565端口都转发到台湾服务器\n没用，可能是原理不对\n\n再一查看到Nginx反向代理可以做这种事情\n大概就是编辑站点配置文件，在server{}里面加上\n\n```nginx\n    listen 25565;\n    location / {\n      # 代理的地址\n      proxy_pass http://35.xx.xx.23:25565;\n    }\n```\n\n我确实这样做了因为前面不加`http://`配置文件不让过，结果一试当然没有用\n\n# 正确的方法在这里\n\n后来找到了Nginx转发tcp的文章，总算是找对方向了\n我的Nginx版本1.14，默认是支持TCP流量转发的，只需要在**Nginx的**配置文件(Nginx.conf)里面加如下面几行就可以：\n\n```nginx\nstream {\n    server {\n        listen 25565;\n        proxy_pass 35.xx.xx.23:25565;\n    }\n}\n```\n\n加在events后面\n\n是的，就是这么简单，这篇文章能教你的已经结束了\n\n而我自己的折腾还在后面，因为我没有把前面listen 25565的站点删掉，没删掉！！\n导致我不管怎么改Nginx的配置都是说连不上\n折腾了一晚上+一小个下午共计两个小时，的人生\n终于在今天也就是写这篇文章前发现了，把那个站点删掉，终于是能连上了\n感动得我\n掀了桌子\n昔日的卡顿\n完全没了影子\n那么以后\n终于能和小伙伴愉快的玩mc了\n开心","slug":"nginx建立TCP代理","published":1,"updated":"2019-03-17T12:44:03.955Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4yf0006kj3qd7v8gef4","content":"<p>阿里云学生机10块一个月挺便宜了，就是内存2G对于一个Minecraft服务器来说有点小<br>而我还有个谷歌云服务器在台湾，配置不错内存也够，问题就是网络延迟太大<br>把Minecraft服务器运行在那里实际玩下来发现延迟不能忍受<br>从我的电脑Ping台湾服务器有250ms，Ping阿里云20ms，阿里云Ping台湾服务器，50ms<br>用小学老师教我的加法一算发现，50+20小于250啊<br>于是就有了标题这个想法<br><a id=\"more\"></a><br>对于流量转发除了SS和Frp其他我还真不知道（<strong>去看我的<a href=\"/frp-for-mc/\">frp教程</a>吧，真的，Nginx反向代理太难用了</strong>）</p>\n<p>网上查了可以用firewalld做端口转发，我试了把tcp和udp的25565端口都转发到台湾服务器<br>没用，可能是原理不对</p>\n<p>再一查看到Nginx反向代理可以做这种事情<br>大概就是编辑站点配置文件，在server{}里面加上</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">listen</span> <span class=\"number\">25565</span>;</span><br><span class=\"line\"><span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">  <span class=\"comment\"># 代理的地址</span></span><br><span class=\"line\">  <span class=\"attribute\">proxy_pass</span> http://35.xx.xx.23:25565;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>我确实这样做了因为前面不加<code>http://</code>配置文件不让过，结果一试当然没有用</p>\n<h1 id=\"正确的方法在这里\"><a href=\"#正确的方法在这里\" class=\"headerlink\" title=\"正确的方法在这里\"></a>正确的方法在这里</h1><p>后来找到了Nginx转发tcp的文章，总算是找对方向了<br>我的Nginx版本1.14，默认是支持TCP流量转发的，只需要在<strong>Nginx的</strong>配置文件(Nginx.conf)里面加如下面几行就可以：</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">stream</span> &#123;</span><br><span class=\"line\">    <span class=\"section\">server</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">listen</span> <span class=\"number\">25565</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_pass</span> <span class=\"number\">35</span>.xx.xx.<span class=\"number\">23</span>:<span class=\"number\">25565</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>加在events后面</p>\n<p>是的，就是这么简单，这篇文章能教你的已经结束了</p>\n<p>而我自己的折腾还在后面，因为我没有把前面listen 25565的站点删掉，没删掉！！<br>导致我不管怎么改Nginx的配置都是说连不上<br>折腾了一晚上+一小个下午共计两个小时，的人生<br>终于在今天也就是写这篇文章前发现了，把那个站点删掉，终于是能连上了<br>感动得我<br>掀了桌子<br>昔日的卡顿<br>完全没了影子<br>那么以后<br>终于能和小伙伴愉快的玩mc了<br>开心</p>\n","site":{"data":{}},"excerpt":"<p>阿里云学生机10块一个月挺便宜了，就是内存2G对于一个Minecraft服务器来说有点小<br>而我还有个谷歌云服务器在台湾，配置不错内存也够，问题就是网络延迟太大<br>把Minecraft服务器运行在那里实际玩下来发现延迟不能忍受<br>从我的电脑Ping台湾服务器有250ms，Ping阿里云20ms，阿里云Ping台湾服务器，50ms<br>用小学老师教我的加法一算发现，50+20小于250啊<br>于是就有了标题这个想法<br>","more":"<br>对于流量转发除了SS和Frp其他我还真不知道（<strong>去看我的<a href=\"/frp-for-mc/\">frp教程</a>吧，真的，Nginx反向代理太难用了</strong>）</p>\n<p>网上查了可以用firewalld做端口转发，我试了把tcp和udp的25565端口都转发到台湾服务器<br>没用，可能是原理不对</p>\n<p>再一查看到Nginx反向代理可以做这种事情<br>大概就是编辑站点配置文件，在server{}里面加上</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">listen</span> <span class=\"number\">25565</span>;</span><br><span class=\"line\"><span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">  <span class=\"comment\"># 代理的地址</span></span><br><span class=\"line\">  <span class=\"attribute\">proxy_pass</span> http://35.xx.xx.23:25565;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>我确实这样做了因为前面不加<code>http://</code>配置文件不让过，结果一试当然没有用</p>\n<h1 id=\"正确的方法在这里\"><a href=\"#正确的方法在这里\" class=\"headerlink\" title=\"正确的方法在这里\"></a>正确的方法在这里</h1><p>后来找到了Nginx转发tcp的文章，总算是找对方向了<br>我的Nginx版本1.14，默认是支持TCP流量转发的，只需要在<strong>Nginx的</strong>配置文件(Nginx.conf)里面加如下面几行就可以：</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">stream</span> &#123;</span><br><span class=\"line\">    <span class=\"section\">server</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">listen</span> <span class=\"number\">25565</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_pass</span> <span class=\"number\">35</span>.xx.xx.<span class=\"number\">23</span>:<span class=\"number\">25565</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>加在events后面</p>\n<p>是的，就是这么简单，这篇文章能教你的已经结束了</p>\n<p>而我自己的折腾还在后面，因为我没有把前面listen 25565的站点删掉，没删掉！！<br>导致我不管怎么改Nginx的配置都是说连不上<br>折腾了一晚上+一小个下午共计两个小时，的人生<br>终于在今天也就是写这篇文章前发现了，把那个站点删掉，终于是能连上了<br>感动得我<br>掀了桌子<br>昔日的卡顿<br>完全没了影子<br>那么以后<br>终于能和小伙伴愉快的玩mc了<br>开心</p>"},{"title":"装了armbian的Orange pi折腾记录(外接HDMI屏幕分辨率调节及屏幕旋转)","date":"2018-10-08T15:26:00.000Z","_content":"\n* ### Armbian orange pi 调节分辨率\n\n    ```bash\n    h3disp -m 1080p60 -c 1\n    ```\n\n* ### 动态开启/关闭HDMI输出\n    ```bash\n    sudo su\n    cd /sys/kernel/debug/dispdbg/\n    echo \"switch\" > command\n    echo \"disp\" > name\n    echo \"0 10\" > param\n    echo \"1\" > start\n    ```\n    把parm部分的0改成4就是打开HDMI输出，第二个数字10代表输出分辨率为1080p60，换成5则代表720p60。\n<!--more-->\n    全部模式列表：\n    ```bash\n    0 480i\n    1 576i\n    2 480p\n    3 576p\n    4 720p 50Hz\n    5 720p 60Hz\n    6 1080i 50 Hz\n    7 1080i 60 Hz\n    8 1080p 24 Hz\n    9 1080p 50 Hz\n    10 1080p 60 Hz\n    ```\n    各种详细设置:[Fine-Tuning](https://docs.armbian.com/User-Guide_Fine-Tuning/)\n\n* ### 屏幕旋转\n    编辑配置文件：\n    ```bash\n    sudo nano /etc/X11/xorg.conf.d/01-armbian-defaults.conf\n    ```\n    在末尾加入下面的代码:\n    ```bash\n    # Append\n    Section \"Device\"\n    Identifier \"default\"\n    Driver \"fbdev\"\n    Option \"Rotate\" \"CCW\"\n    EndSection\n    ```\n    保存后重启，重启后屏幕就旋转成竖的了。 你可以通过改变``CCW``到``CW``来改变旋转方向。\n___\n\n* ### python log用法\n    ```py\n    import logging\n    logging.basicConfig(filename='/root/screen.log', level=logging.INFO, format='%(asctime)s %(message)s', datefmt='[%Y-%m-%d %I:%M:%S %p]')\n    logging.info('hi')\n    ```\n    输出(文件：screen.log)：\n    ``[2018-10-08 09:36:36 PM] hi``\n    其他用法还有：\n    ```py\n    logging.debug(\"debug\") \n    logging.info(\"info\") \n    logging.warning(\"warning\") \n    logging.error(\"error\")\n    logging.critical(\"critical\")\n    ```\n    参照：https://docs.python.org/2/howto/logging.html\n\n    进程管理工具Supervisor:[管理Python](https://www.restran.net/2015/10/04/supervisord-tutorial/)\n\n> 习得以上知识所用的时间：230分钟","source":"_posts/orangepi折腾记录.md","raw":"---\ntitle: 装了armbian的Orange pi折腾记录(外接HDMI屏幕分辨率调节及屏幕旋转)\ndate: 2018-10-8 23:26:00\ntags: 各种Pi\n---\n\n* ### Armbian orange pi 调节分辨率\n\n    ```bash\n    h3disp -m 1080p60 -c 1\n    ```\n\n* ### 动态开启/关闭HDMI输出\n    ```bash\n    sudo su\n    cd /sys/kernel/debug/dispdbg/\n    echo \"switch\" > command\n    echo \"disp\" > name\n    echo \"0 10\" > param\n    echo \"1\" > start\n    ```\n    把parm部分的0改成4就是打开HDMI输出，第二个数字10代表输出分辨率为1080p60，换成5则代表720p60。\n<!--more-->\n    全部模式列表：\n    ```bash\n    0 480i\n    1 576i\n    2 480p\n    3 576p\n    4 720p 50Hz\n    5 720p 60Hz\n    6 1080i 50 Hz\n    7 1080i 60 Hz\n    8 1080p 24 Hz\n    9 1080p 50 Hz\n    10 1080p 60 Hz\n    ```\n    各种详细设置:[Fine-Tuning](https://docs.armbian.com/User-Guide_Fine-Tuning/)\n\n* ### 屏幕旋转\n    编辑配置文件：\n    ```bash\n    sudo nano /etc/X11/xorg.conf.d/01-armbian-defaults.conf\n    ```\n    在末尾加入下面的代码:\n    ```bash\n    # Append\n    Section \"Device\"\n    Identifier \"default\"\n    Driver \"fbdev\"\n    Option \"Rotate\" \"CCW\"\n    EndSection\n    ```\n    保存后重启，重启后屏幕就旋转成竖的了。 你可以通过改变``CCW``到``CW``来改变旋转方向。\n___\n\n* ### python log用法\n    ```py\n    import logging\n    logging.basicConfig(filename='/root/screen.log', level=logging.INFO, format='%(asctime)s %(message)s', datefmt='[%Y-%m-%d %I:%M:%S %p]')\n    logging.info('hi')\n    ```\n    输出(文件：screen.log)：\n    ``[2018-10-08 09:36:36 PM] hi``\n    其他用法还有：\n    ```py\n    logging.debug(\"debug\") \n    logging.info(\"info\") \n    logging.warning(\"warning\") \n    logging.error(\"error\")\n    logging.critical(\"critical\")\n    ```\n    参照：https://docs.python.org/2/howto/logging.html\n\n    进程管理工具Supervisor:[管理Python](https://www.restran.net/2015/10/04/supervisord-tutorial/)\n\n> 习得以上知识所用的时间：230分钟","slug":"orangepi折腾记录","published":1,"updated":"2019-03-16T05:29:56.569Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4yg0007kj3q203v5elj","content":"<ul>\n<li><h3 id=\"Armbian-orange-pi-调节分辨率\"><a href=\"#Armbian-orange-pi-调节分辨率\" class=\"headerlink\" title=\"Armbian orange pi 调节分辨率\"></a>Armbian orange pi 调节分辨率</h3>  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">h3disp -m 1080p60 -c 1</span><br></pre></td></tr></table></figure>\n</li>\n<li><h3 id=\"动态开启-关闭HDMI输出\"><a href=\"#动态开启-关闭HDMI输出\" class=\"headerlink\" title=\"动态开启/关闭HDMI输出\"></a>动态开启/关闭HDMI输出</h3>  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo su</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /sys/kernel/debug/dispdbg/</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"switch\"</span> &gt; <span class=\"built_in\">command</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"disp\"</span> &gt; name</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"0 10\"</span> &gt; param</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"1\"</span> &gt; start</span><br></pre></td></tr></table></figure>\n<p>  把parm部分的0改成4就是打开HDMI输出，第二个数字10代表输出分辨率为1080p60，换成5则代表720p60。</p>\n<a id=\"more\"></a>\n<p>  全部模式列表：</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0 480i</span><br><span class=\"line\">1 576i</span><br><span class=\"line\">2 480p</span><br><span class=\"line\">3 576p</span><br><span class=\"line\">4 720p 50Hz</span><br><span class=\"line\">5 720p 60Hz</span><br><span class=\"line\">6 1080i 50 Hz</span><br><span class=\"line\">7 1080i 60 Hz</span><br><span class=\"line\">8 1080p 24 Hz</span><br><span class=\"line\">9 1080p 50 Hz</span><br><span class=\"line\">10 1080p 60 Hz</span><br></pre></td></tr></table></figure>\n<p>  各种详细设置:<a href=\"https://docs.armbian.com/User-Guide_Fine-Tuning/\" target=\"_blank\" rel=\"noopener\">Fine-Tuning</a></p>\n</li>\n<li><h3 id=\"屏幕旋转\"><a href=\"#屏幕旋转\" class=\"headerlink\" title=\"屏幕旋转\"></a>屏幕旋转</h3><p>  编辑配置文件：</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo nano /etc/X11/xorg.conf.d/01-armbian-defaults.conf</span><br></pre></td></tr></table></figure>\n<p>  在末尾加入下面的代码:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Append</span></span><br><span class=\"line\">Section <span class=\"string\">\"Device\"</span></span><br><span class=\"line\">Identifier <span class=\"string\">\"default\"</span></span><br><span class=\"line\">Driver <span class=\"string\">\"fbdev\"</span></span><br><span class=\"line\">Option <span class=\"string\">\"Rotate\"</span> <span class=\"string\">\"CCW\"</span></span><br><span class=\"line\">EndSection</span><br></pre></td></tr></table></figure>\n<p>  保存后重启，重启后屏幕就旋转成竖的了。 你可以通过改变<code>CCW</code>到<code>CW</code>来改变旋转方向。</p>\n</li>\n</ul>\n<hr>\n<ul>\n<li><h3 id=\"python-log用法\"><a href=\"#python-log用法\" class=\"headerlink\" title=\"python log用法\"></a>python log用法</h3>  <figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\">logging.basicConfig(filename=<span class=\"string\">'/root/screen.log'</span>, level=logging.INFO, format=<span class=\"string\">'%(asctime)s %(message)s'</span>, datefmt=<span class=\"string\">'[%Y-%m-%d %I:%M:%S %p]'</span>)</span><br><span class=\"line\">logging.info(<span class=\"string\">'hi'</span>)</span><br></pre></td></tr></table></figure>\n<p>  输出(文件：screen.log)：<br>  <code>[2018-10-08 09:36:36 PM] hi</code><br>  其他用法还有：</p>\n  <figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">logging.debug(<span class=\"string\">\"debug\"</span>) </span><br><span class=\"line\">logging.info(<span class=\"string\">\"info\"</span>) </span><br><span class=\"line\">logging.warning(<span class=\"string\">\"warning\"</span>) </span><br><span class=\"line\">logging.error(<span class=\"string\">\"error\"</span>)</span><br><span class=\"line\">logging.critical(<span class=\"string\">\"critical\"</span>)</span><br></pre></td></tr></table></figure>\n<p>  参照：<a href=\"https://docs.python.org/2/howto/logging.html\" target=\"_blank\" rel=\"noopener\">https://docs.python.org/2/howto/logging.html</a></p>\n<p>  进程管理工具Supervisor:<a href=\"https://www.restran.net/2015/10/04/supervisord-tutorial/\" target=\"_blank\" rel=\"noopener\">管理Python</a></p>\n</li>\n</ul>\n<blockquote>\n<p>习得以上知识所用的时间：230分钟</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<ul>\n<li><h3 id=\"Armbian-orange-pi-调节分辨率\"><a href=\"#Armbian-orange-pi-调节分辨率\" class=\"headerlink\" title=\"Armbian orange pi 调节分辨率\"></a>Armbian orange pi 调节分辨率</h3>  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">h3disp -m 1080p60 -c 1</span><br></pre></td></tr></table></figure>\n</li>\n<li><h3 id=\"动态开启-关闭HDMI输出\"><a href=\"#动态开启-关闭HDMI输出\" class=\"headerlink\" title=\"动态开启/关闭HDMI输出\"></a>动态开启/关闭HDMI输出</h3>  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo su</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /sys/kernel/debug/dispdbg/</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"switch\"</span> &gt; <span class=\"built_in\">command</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"disp\"</span> &gt; name</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"0 10\"</span> &gt; param</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"1\"</span> &gt; start</span><br></pre></td></tr></table></figure>\n<p>  把parm部分的0改成4就是打开HDMI输出，第二个数字10代表输出分辨率为1080p60，换成5则代表720p60。</p>","more":"<p>  全部模式列表：</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0 480i</span><br><span class=\"line\">1 576i</span><br><span class=\"line\">2 480p</span><br><span class=\"line\">3 576p</span><br><span class=\"line\">4 720p 50Hz</span><br><span class=\"line\">5 720p 60Hz</span><br><span class=\"line\">6 1080i 50 Hz</span><br><span class=\"line\">7 1080i 60 Hz</span><br><span class=\"line\">8 1080p 24 Hz</span><br><span class=\"line\">9 1080p 50 Hz</span><br><span class=\"line\">10 1080p 60 Hz</span><br></pre></td></tr></table></figure>\n<p>  各种详细设置:<a href=\"https://docs.armbian.com/User-Guide_Fine-Tuning/\" target=\"_blank\" rel=\"noopener\">Fine-Tuning</a></p>\n</li>\n<li><h3 id=\"屏幕旋转\"><a href=\"#屏幕旋转\" class=\"headerlink\" title=\"屏幕旋转\"></a>屏幕旋转</h3><p>  编辑配置文件：</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo nano /etc/X11/xorg.conf.d/01-armbian-defaults.conf</span><br></pre></td></tr></table></figure>\n<p>  在末尾加入下面的代码:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Append</span></span><br><span class=\"line\">Section <span class=\"string\">\"Device\"</span></span><br><span class=\"line\">Identifier <span class=\"string\">\"default\"</span></span><br><span class=\"line\">Driver <span class=\"string\">\"fbdev\"</span></span><br><span class=\"line\">Option <span class=\"string\">\"Rotate\"</span> <span class=\"string\">\"CCW\"</span></span><br><span class=\"line\">EndSection</span><br></pre></td></tr></table></figure>\n<p>  保存后重启，重启后屏幕就旋转成竖的了。 你可以通过改变<code>CCW</code>到<code>CW</code>来改变旋转方向。</p>\n</li>\n</ul>\n<hr>\n<ul>\n<li><h3 id=\"python-log用法\"><a href=\"#python-log用法\" class=\"headerlink\" title=\"python log用法\"></a>python log用法</h3>  <figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\">logging.basicConfig(filename=<span class=\"string\">'/root/screen.log'</span>, level=logging.INFO, format=<span class=\"string\">'%(asctime)s %(message)s'</span>, datefmt=<span class=\"string\">'[%Y-%m-%d %I:%M:%S %p]'</span>)</span><br><span class=\"line\">logging.info(<span class=\"string\">'hi'</span>)</span><br></pre></td></tr></table></figure>\n<p>  输出(文件：screen.log)：<br>  <code>[2018-10-08 09:36:36 PM] hi</code><br>  其他用法还有：</p>\n  <figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">logging.debug(<span class=\"string\">\"debug\"</span>) </span><br><span class=\"line\">logging.info(<span class=\"string\">\"info\"</span>) </span><br><span class=\"line\">logging.warning(<span class=\"string\">\"warning\"</span>) </span><br><span class=\"line\">logging.error(<span class=\"string\">\"error\"</span>)</span><br><span class=\"line\">logging.critical(<span class=\"string\">\"critical\"</span>)</span><br></pre></td></tr></table></figure>\n<p>  参照：<a href=\"https://docs.python.org/2/howto/logging.html\" target=\"_blank\" rel=\"noopener\">https://docs.python.org/2/howto/logging.html</a></p>\n<p>  进程管理工具Supervisor:<a href=\"https://www.restran.net/2015/10/04/supervisord-tutorial/\" target=\"_blank\" rel=\"noopener\">管理Python</a></p>\n</li>\n</ul>\n<blockquote>\n<p>习得以上知识所用的时间：230分钟</p>\n</blockquote>"},{"title":"把时间当作朋友_笔记","date":"2018-10-08T03:26:00.000Z","_content":"* 我有没有什么觉得自己“现在学也来不及了”的技能？\n* 浮躁的根源：不懂“有些阶段就是无法跨越”这个道理。告诉自己：我有不足，我需要时间，我没办法一蹴而就。\n  “我要”的欲望可以用”我有“的东西来满足，即便“我有“的暂时不够，我也能借助已经拥有的努力和勤奋（亦或投机），只要假以时日，定能如愿以偿。一旦得偿所愿，不仅”我有“的更多，”我要“的也更容易获得，如此形成良性循环。\n  摆脱生活死循环：给我什么我就用好什么，积累到一定程度再去换能换的东西。<!--more-->\n  在想到”我要什么“的时候马上提醒自己，接下来要花一些时间去思考”我有什么“。后者会在转瞬间让我”脚踏实地“。\n* 完美永不存在，未知永远存在，为了进步，必须忍受一定的未知。\n  初学概念：看不懂证明，暂时不去问为什么.我们只能尝试着适应”在未知中不断前行“。\n  一个有效的策略：**记录下来**暂时不能解决的问题，继续前行并不是忽略这些问题。你一直在前行，你一直在积累，你一直在成长。所以，到有了答案那一刻，你不再是当初无能为力的你，你已经重生。\n  尽快接受现实，包括：*速成绝无可能、只有付出才有收获、完美永不存在、未知永远存在、现状无法马上摆脱*，~~不仅要接受，还要牢记；不仅要牢记，还要坚信。~~而后才能找对目标。\n  * 真正能够做对、做好的人不会在乎他人的嘲弄和打击，自己也不会这样对别人\n  * ”最后期限”不是固定在将来的某个点，而是朝着你加速扑来，唯一的策略依然是：现在就开始\n* 记录下来那些目前无法理解的、支持的、反对的、无所谓的论点，对无法理解的，写下自己当时的疑惑，对支持的，记录几个理由或实例，对反对的，同样记录几个理由或实例，对那些无所谓的，也要记录原因。————避免成为“选择性输入”的受害者。\n* 在被环境塑造的同时，我们也在塑造环境。\n* “恐惧情绪”————喜悦会使人停下行动去享受，而恐惧恰恰相反，会引发一个人马上采取行动去避免危险。事实上这种出于恐惧的决策几乎总是事与愿违。\n* 积极心理学？NO，应该 \n  > 哪一个更合理、更现实就接受哪一个\n\n  而不是\n  > 哪一个更积极就接受哪一个\n\n  因为后者只是自我欺骗而已。积极的并不总是好的。\n* ``强``与`弱`才是自然界中真正存在的本质，`善`与`恶`往往只是弱者一厢情愿的定义\n\n","source":"_posts/把时间当作朋友_笔记.md","raw":"---\ntitle: 把时间当作朋友_笔记\ndate: 2018-10-8 11:26:00\ntags: 笔记\n---\n* 我有没有什么觉得自己“现在学也来不及了”的技能？\n* 浮躁的根源：不懂“有些阶段就是无法跨越”这个道理。告诉自己：我有不足，我需要时间，我没办法一蹴而就。\n  “我要”的欲望可以用”我有“的东西来满足，即便“我有“的暂时不够，我也能借助已经拥有的努力和勤奋（亦或投机），只要假以时日，定能如愿以偿。一旦得偿所愿，不仅”我有“的更多，”我要“的也更容易获得，如此形成良性循环。\n  摆脱生活死循环：给我什么我就用好什么，积累到一定程度再去换能换的东西。<!--more-->\n  在想到”我要什么“的时候马上提醒自己，接下来要花一些时间去思考”我有什么“。后者会在转瞬间让我”脚踏实地“。\n* 完美永不存在，未知永远存在，为了进步，必须忍受一定的未知。\n  初学概念：看不懂证明，暂时不去问为什么.我们只能尝试着适应”在未知中不断前行“。\n  一个有效的策略：**记录下来**暂时不能解决的问题，继续前行并不是忽略这些问题。你一直在前行，你一直在积累，你一直在成长。所以，到有了答案那一刻，你不再是当初无能为力的你，你已经重生。\n  尽快接受现实，包括：*速成绝无可能、只有付出才有收获、完美永不存在、未知永远存在、现状无法马上摆脱*，~~不仅要接受，还要牢记；不仅要牢记，还要坚信。~~而后才能找对目标。\n  * 真正能够做对、做好的人不会在乎他人的嘲弄和打击，自己也不会这样对别人\n  * ”最后期限”不是固定在将来的某个点，而是朝着你加速扑来，唯一的策略依然是：现在就开始\n* 记录下来那些目前无法理解的、支持的、反对的、无所谓的论点，对无法理解的，写下自己当时的疑惑，对支持的，记录几个理由或实例，对反对的，同样记录几个理由或实例，对那些无所谓的，也要记录原因。————避免成为“选择性输入”的受害者。\n* 在被环境塑造的同时，我们也在塑造环境。\n* “恐惧情绪”————喜悦会使人停下行动去享受，而恐惧恰恰相反，会引发一个人马上采取行动去避免危险。事实上这种出于恐惧的决策几乎总是事与愿违。\n* 积极心理学？NO，应该 \n  > 哪一个更合理、更现实就接受哪一个\n\n  而不是\n  > 哪一个更积极就接受哪一个\n\n  因为后者只是自我欺骗而已。积极的并不总是好的。\n* ``强``与`弱`才是自然界中真正存在的本质，`善`与`恶`往往只是弱者一厢情愿的定义\n\n","slug":"把时间当作朋友_笔记","published":1,"updated":"2019-03-16T05:29:56.573Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4yi0008kj3qz5t2f7ko","content":"<ul>\n<li>我有没有什么觉得自己“现在学也来不及了”的技能？</li>\n<li>浮躁的根源：不懂“有些阶段就是无法跨越”这个道理。告诉自己：我有不足，我需要时间，我没办法一蹴而就。<br>“我要”的欲望可以用”我有“的东西来满足，即便“我有“的暂时不够，我也能借助已经拥有的努力和勤奋（亦或投机），只要假以时日，定能如愿以偿。一旦得偿所愿，不仅”我有“的更多，”我要“的也更容易获得，如此形成良性循环。<br>摆脱生活死循环：给我什么我就用好什么，积累到一定程度再去换能换的东西。<a id=\"more\"></a><br>在想到”我要什么“的时候马上提醒自己，接下来要花一些时间去思考”我有什么“。后者会在转瞬间让我”脚踏实地“。</li>\n<li>完美永不存在，未知永远存在，为了进步，必须忍受一定的未知。<br>初学概念：看不懂证明，暂时不去问为什么.我们只能尝试着适应”在未知中不断前行“。<br>一个有效的策略：<strong>记录下来</strong>暂时不能解决的问题，继续前行并不是忽略这些问题。你一直在前行，你一直在积累，你一直在成长。所以，到有了答案那一刻，你不再是当初无能为力的你，你已经重生。<br>尽快接受现实，包括：<em>速成绝无可能、只有付出才有收获、完美永不存在、未知永远存在、现状无法马上摆脱</em>，<del>不仅要接受，还要牢记；不仅要牢记，还要坚信。</del>而后才能找对目标。<ul>\n<li>真正能够做对、做好的人不会在乎他人的嘲弄和打击，自己也不会这样对别人</li>\n<li>”最后期限”不是固定在将来的某个点，而是朝着你加速扑来，唯一的策略依然是：现在就开始</li>\n</ul>\n</li>\n<li>记录下来那些目前无法理解的、支持的、反对的、无所谓的论点，对无法理解的，写下自己当时的疑惑，对支持的，记录几个理由或实例，对反对的，同样记录几个理由或实例，对那些无所谓的，也要记录原因。————避免成为“选择性输入”的受害者。</li>\n<li>在被环境塑造的同时，我们也在塑造环境。</li>\n<li>“恐惧情绪”————喜悦会使人停下行动去享受，而恐惧恰恰相反，会引发一个人马上采取行动去避免危险。事实上这种出于恐惧的决策几乎总是事与愿违。</li>\n<li><p>积极心理学？NO，应该 </p>\n<blockquote>\n<p>哪一个更合理、更现实就接受哪一个</p>\n</blockquote>\n<p>而不是</p>\n<blockquote>\n<p>哪一个更积极就接受哪一个</p>\n</blockquote>\n<p>因为后者只是自我欺骗而已。积极的并不总是好的。</p>\n</li>\n<li><code>强</code>与<code>弱</code>才是自然界中真正存在的本质，<code>善</code>与<code>恶</code>往往只是弱者一厢情愿的定义</li>\n</ul>\n","site":{"data":{}},"excerpt":"<ul>\n<li>我有没有什么觉得自己“现在学也来不及了”的技能？</li>\n<li>浮躁的根源：不懂“有些阶段就是无法跨越”这个道理。告诉自己：我有不足，我需要时间，我没办法一蹴而就。<br>“我要”的欲望可以用”我有“的东西来满足，即便“我有“的暂时不够，我也能借助已经拥有的努力和勤奋（亦或投机），只要假以时日，定能如愿以偿。一旦得偿所愿，不仅”我有“的更多，”我要“的也更容易获得，如此形成良性循环。<br>摆脱生活死循环：给我什么我就用好什么，积累到一定程度再去换能换的东西。","more":"<br>在想到”我要什么“的时候马上提醒自己，接下来要花一些时间去思考”我有什么“。后者会在转瞬间让我”脚踏实地“。</li>\n<li>完美永不存在，未知永远存在，为了进步，必须忍受一定的未知。<br>初学概念：看不懂证明，暂时不去问为什么.我们只能尝试着适应”在未知中不断前行“。<br>一个有效的策略：<strong>记录下来</strong>暂时不能解决的问题，继续前行并不是忽略这些问题。你一直在前行，你一直在积累，你一直在成长。所以，到有了答案那一刻，你不再是当初无能为力的你，你已经重生。<br>尽快接受现实，包括：<em>速成绝无可能、只有付出才有收获、完美永不存在、未知永远存在、现状无法马上摆脱</em>，<del>不仅要接受，还要牢记；不仅要牢记，还要坚信。</del>而后才能找对目标。<ul>\n<li>真正能够做对、做好的人不会在乎他人的嘲弄和打击，自己也不会这样对别人</li>\n<li>”最后期限”不是固定在将来的某个点，而是朝着你加速扑来，唯一的策略依然是：现在就开始</li>\n</ul>\n</li>\n<li>记录下来那些目前无法理解的、支持的、反对的、无所谓的论点，对无法理解的，写下自己当时的疑惑，对支持的，记录几个理由或实例，对反对的，同样记录几个理由或实例，对那些无所谓的，也要记录原因。————避免成为“选择性输入”的受害者。</li>\n<li>在被环境塑造的同时，我们也在塑造环境。</li>\n<li>“恐惧情绪”————喜悦会使人停下行动去享受，而恐惧恰恰相反，会引发一个人马上采取行动去避免危险。事实上这种出于恐惧的决策几乎总是事与愿违。</li>\n<li><p>积极心理学？NO，应该 </p>\n<blockquote>\n<p>哪一个更合理、更现实就接受哪一个</p>\n</blockquote>\n<p>而不是</p>\n<blockquote>\n<p>哪一个更积极就接受哪一个</p>\n</blockquote>\n<p>因为后者只是自我欺骗而已。积极的并不总是好的。</p>\n</li>\n<li><code>强</code>与<code>弱</code>才是自然界中真正存在的本质，<code>善</code>与<code>恶</code>往往只是弱者一厢情愿的定义</li>\n</ul>"},{"title":"Coding绑定ssh并部署hexo","date":"2018-10-18T12:51:09.000Z","_content":"通过ssh连接git需要配置公钥，先在本地生成公钥\n\n```bash\nssh-keygen -t rsa -C \"your_email@example.com\"\n```\n\n生成在目录`~/.ssh`下面，`.ssh/id_rsa.pub`就是公钥，绑定coding的时候在设置里点添加公钥，然后复制`.pub`文件里的内容过去，<!--more-->保存后还需要认证一下：\n\n```bash\nssh -T git@git.coding.NET\n```\n\n按照提示输`yes`\ncoding会提示绑定成功\n\n```powershell\nPS D:\\Onedrive\\文档\\hexo> ssh -T git@git.coding.NET\nThe authenticity of host 'git.coding.net (118.25.***.124)' can't be established.\nRSA key fingerprint is SHA256:jok3FH7q5LJ6qvE7iPNehBgXRw51ErE77S0Dn+Vg/Ik.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'git.coding.net,118.25.***.124' (RSA) to the list of known hosts.\nCoding 提示: Hello xiaoxx97, You've connected to Coding.net via SSH. This is a personal key.\nxiaoxx97，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥\n```\n\n以及，如果你的项目的名称不是`你的用户名.coding.me`，虽然也可以开启静态页面，但是图片的路径会出错，导致所有图片显示不出来，要解决这个问题，绑定一个域名就好了。\n\n关于hexo的配置文件的deploy部分\n```yml\ndeploy:\n  type: git\n  repo:\n    coding: git@git.coding.net:你的用户名/项目名.git,master\n```\n`.git`后面`,master`要记得加\n还有现在coding好像在改版，项目页面复制下来的git链接域名是`git.dev.tencent.com`，而根据我现在的实践操作发现如果我不把域名换成`git.coding.net`的话是没法部署成功的，失败原因是`Host key verification failed.`\n\n如果没装过deployer要先装不然会deploy失败\n\n```bash\nnpm install hexo-deployer-git --save\n```","source":"_posts/关于coding和git的折腾.md","raw":"---\ntitle: Coding绑定ssh并部署hexo\ndate: 2018-10-18 20:51:09\ntags: 云服务器\n---\n通过ssh连接git需要配置公钥，先在本地生成公钥\n\n```bash\nssh-keygen -t rsa -C \"your_email@example.com\"\n```\n\n生成在目录`~/.ssh`下面，`.ssh/id_rsa.pub`就是公钥，绑定coding的时候在设置里点添加公钥，然后复制`.pub`文件里的内容过去，<!--more-->保存后还需要认证一下：\n\n```bash\nssh -T git@git.coding.NET\n```\n\n按照提示输`yes`\ncoding会提示绑定成功\n\n```powershell\nPS D:\\Onedrive\\文档\\hexo> ssh -T git@git.coding.NET\nThe authenticity of host 'git.coding.net (118.25.***.124)' can't be established.\nRSA key fingerprint is SHA256:jok3FH7q5LJ6qvE7iPNehBgXRw51ErE77S0Dn+Vg/Ik.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'git.coding.net,118.25.***.124' (RSA) to the list of known hosts.\nCoding 提示: Hello xiaoxx97, You've connected to Coding.net via SSH. This is a personal key.\nxiaoxx97，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥\n```\n\n以及，如果你的项目的名称不是`你的用户名.coding.me`，虽然也可以开启静态页面，但是图片的路径会出错，导致所有图片显示不出来，要解决这个问题，绑定一个域名就好了。\n\n关于hexo的配置文件的deploy部分\n```yml\ndeploy:\n  type: git\n  repo:\n    coding: git@git.coding.net:你的用户名/项目名.git,master\n```\n`.git`后面`,master`要记得加\n还有现在coding好像在改版，项目页面复制下来的git链接域名是`git.dev.tencent.com`，而根据我现在的实践操作发现如果我不把域名换成`git.coding.net`的话是没法部署成功的，失败原因是`Host key verification failed.`\n\n如果没装过deployer要先装不然会deploy失败\n\n```bash\nnpm install hexo-deployer-git --save\n```","slug":"关于coding和git的折腾","published":1,"updated":"2019-03-16T05:29:56.576Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw4yl000bkj3qqzzcy3oy","content":"<p>通过ssh连接git需要配置公钥，先在本地生成公钥</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">\"your_email@example.com\"</span></span><br></pre></td></tr></table></figure>\n<p>生成在目录<code>~/.ssh</code>下面，<code>.ssh/id_rsa.pub</code>就是公钥，绑定coding的时候在设置里点添加公钥，然后复制<code>.pub</code>文件里的内容过去，<a id=\"more\"></a>保存后还需要认证一下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -T git@git.coding.NET</span><br></pre></td></tr></table></figure>\n<p>按照提示输<code>yes</code><br>coding会提示绑定成功</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS D:\\Onedrive\\文档\\hexo&gt; ssh -T git@git.coding.NET</span><br><span class=\"line\">The authenticity of host <span class=\"string\">'git.coding.net (118.25.***.124)'</span> can<span class=\"string\">'t be established.</span></span><br><span class=\"line\"><span class=\"string\">RSA key fingerprint is SHA256:jok3FH7q5LJ6qvE7iPNehBgXRw51ErE77S0Dn+Vg/Ik.</span></span><br><span class=\"line\"><span class=\"string\">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class=\"line\"><span class=\"string\">Warning: Permanently added '</span>git.coding.net,<span class=\"number\">118.25</span>.***.<span class=\"number\">124</span><span class=\"string\">' (RSA) to the list of known hosts.</span></span><br><span class=\"line\"><span class=\"string\">Coding 提示: Hello xiaoxx97, You'</span>ve connected to Coding.net via SSH. This is a personal key.</span><br><span class=\"line\">xiaoxx97，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥</span><br></pre></td></tr></table></figure>\n<p>以及，如果你的项目的名称不是<code>你的用户名.coding.me</code>，虽然也可以开启静态页面，但是图片的路径会出错，导致所有图片显示不出来，要解决这个问题，绑定一个域名就好了。</p>\n<p>关于hexo的配置文件的deploy部分<br><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  type:</span> <span class=\"string\">git</span></span><br><span class=\"line\"><span class=\"attr\">  repo:</span></span><br><span class=\"line\"><span class=\"attr\">    coding:</span> <span class=\"string\">git@git.coding.net:你的用户名/项目名.git,master</span></span><br></pre></td></tr></table></figure></p>\n<p><code>.git</code>后面<code>,master</code>要记得加<br>还有现在coding好像在改版，项目页面复制下来的git链接域名是<code>git.dev.tencent.com</code>，而根据我现在的实践操作发现如果我不把域名换成<code>git.coding.net</code>的话是没法部署成功的，失败原因是<code>Host key verification failed.</code></p>\n<p>如果没装过deployer要先装不然会deploy失败</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>通过ssh连接git需要配置公钥，先在本地生成公钥</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">\"your_email@example.com\"</span></span><br></pre></td></tr></table></figure>\n<p>生成在目录<code>~/.ssh</code>下面，<code>.ssh/id_rsa.pub</code>就是公钥，绑定coding的时候在设置里点添加公钥，然后复制<code>.pub</code>文件里的内容过去，","more":"保存后还需要认证一下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -T git@git.coding.NET</span><br></pre></td></tr></table></figure>\n<p>按照提示输<code>yes</code><br>coding会提示绑定成功</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS D:\\Onedrive\\文档\\hexo&gt; ssh -T git@git.coding.NET</span><br><span class=\"line\">The authenticity of host <span class=\"string\">'git.coding.net (118.25.***.124)'</span> can<span class=\"string\">'t be established.</span></span><br><span class=\"line\"><span class=\"string\">RSA key fingerprint is SHA256:jok3FH7q5LJ6qvE7iPNehBgXRw51ErE77S0Dn+Vg/Ik.</span></span><br><span class=\"line\"><span class=\"string\">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class=\"line\"><span class=\"string\">Warning: Permanently added '</span>git.coding.net,<span class=\"number\">118.25</span>.***.<span class=\"number\">124</span><span class=\"string\">' (RSA) to the list of known hosts.</span></span><br><span class=\"line\"><span class=\"string\">Coding 提示: Hello xiaoxx97, You'</span>ve connected to Coding.net via SSH. This is a personal key.</span><br><span class=\"line\">xiaoxx97，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥</span><br></pre></td></tr></table></figure>\n<p>以及，如果你的项目的名称不是<code>你的用户名.coding.me</code>，虽然也可以开启静态页面，但是图片的路径会出错，导致所有图片显示不出来，要解决这个问题，绑定一个域名就好了。</p>\n<p>关于hexo的配置文件的deploy部分<br><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  type:</span> <span class=\"string\">git</span></span><br><span class=\"line\"><span class=\"attr\">  repo:</span></span><br><span class=\"line\"><span class=\"attr\">    coding:</span> <span class=\"string\">git@git.coding.net:你的用户名/项目名.git,master</span></span><br></pre></td></tr></table></figure></p>\n<p><code>.git</code>后面<code>,master</code>要记得加<br>还有现在coding好像在改版，项目页面复制下来的git链接域名是<code>git.dev.tencent.com</code>，而根据我现在的实践操作发现如果我不把域名换成<code>git.coding.net</code>的话是没法部署成功的，失败原因是<code>Host key verification failed.</code></p>\n<p>如果没装过deployer要先装不然会deploy失败</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>"},{"title":"小米6刷入miui欧洲版以及安装小米钱包、应用商店APP,开启全盘加密","date":"2018-12-18T08:03:00.000Z","_content":"> [miui.eu](miui.eu)，一个真正没有广告的系统，比国际版还要纯净\n\n我一开始照着知乎[这个教程](https://www.zhihu.com/question/50231539)刷的，刷了后死活开不了机，也就是卡在了MI界面，后来在miui欧洲论坛找到了[这个](https://xiaomi.eu/community/threads/bootloop-problem-while-flashing-eu-stable.46593/)答案，完全符合我的情况，不能直接从国内版刷成欧洲版，要先刷个国际版，在国际版的基础上才能刷欧洲版。\n\n> miui欧洲版自带人脸解锁，抬起亮屏，还有谷歌的Smart Lock，挺有意思。\n\n<!--more-->\n首先要说的是，要折腾，先备份。\n如果你用了谷歌验证器，可以象我一样换成Authy，通过手机登录，不用担心换手机找不回来\n微信可以通过Windows端备份聊天记录\n相册短信便签什么的就交给小米云，差不多就这些\n\n其次要说的是，等下用到的所有提取出来的刷机包，在每一次更新系统后都会失效，你可以选择再次刷入。\n特别地，关于支付安全，eu固件默认关闭了全盘强制加密（FBE）功能，这跟国内固件不一样，最直接的影响就是进入恢复模式不用解密，数据暴露在捡到你手机的人面前，所以我是选择刷入了开启加密的补丁包，同样的每一次更新系统就必须在更新后重新刷入`force-fbe`包，否则无法开机。\n\n下面从第一步，你还是个国内miui系统开始\n\n1. 解锁bootloader\n    http://www.miui.com/unlock/index.html\n\n2. 刷入国际版ROM\n你没有看错，欧洲版和国内版系统分区不一样（我猜的），直接卡刷欧洲版我试过没法开机（可能还是因为FBE的缘故？），反正为了保证成功就先刷国际版ROM，顺便把系统和数据也清了\n   - 去下载线刷包：[线刷包地址](http://en.miui.com/download.html)\n   - 手机音量下+电源键开机，进入Fastboot模式\n   - 下载小米的[通用刷机工具](http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip)\n   - 按照教程一步一步往下做\n   - **注意**软件打开右下角不要选`全部删除并lock`，选择`全部删除`就可以了\n   - 线刷具体教程：http://www.miui.com/shuaji-393.html\n\n3. 不用开机，继续刷入twrp\n怎么做到的呢，就是线刷软件提示刷入成功，手机重启的时候，还是按住音量下+电源键开机，进入Fastboot模式，通过ADB(刚才下载的通用刷机工具里有)终端命令来刷入。\n如果还是不小心开机了没关系，等下刷系统的时候在twrp里面双清一下就可以了。\n   - [twrp官方下载](https://twrp.me/Devices/)\n    选择你的机型对应下载下来\n   - 打开adb终端\n    adb终端的位置在`\\MiFlash2018-5-28-0\\Source\\ThirdParty\\Google\\Android`里面，进入到`Android`文件夹，鼠标在空白的地方按住Shift以后右键，选择在此处打开cmd/power shell窗口，就可以使用adb了。\n   - 终端输入命令\n      ```bash\n      fastboot flash recovery twrp.img\n      fastboot boot twrp.img\n      ```\n      `twrp.img`是替换成你的twrp包的路径和名称。\n   - 第二条命令执行完后手机就会自己重启到twrp界面，可以设置成中文。\n1. 进入twrp，刷eu固件\n   - 去下载miui欧洲版：[miui欧洲版发布页面](https://xiaomi.eu/community/link-forums/roms-download.73/)\n   - 格式化data分区\n    如果你想开启全盘默认加密，那就要在刷入下面的包之前先格式化data分区\n   - 连接电脑，把eu固件拷入sdcard目录\n     手机在twrp界面，电脑上应该能看到手机，不能的话在手机点挂载，然后点开启MTP\n   - **注意：** 如果你选择开启全盘加密，那么先去做第五步，把你要刷的包都刷入了再开机\n   - 从手机上点刷机，选择刷机包，完成，开机。\n\n   到这里已经完成miui欧洲版刷机了，选择语言，连WiFi，登账号\n   ![](screen1.jpg)这是开机后的桌面\n   miui欧洲版阉割了很多比如小米钱包，里面的卡模拟的功能我用得到，包括公交卡什么的，所以接下来折腾如何装回这个应用\n\n2. 提取Mipay安装包以及本土化修复包\n    > 要从中国版固件的system.img里面提取软件包，还要通过Root权限把软件包写入System分区，这里有一个教程：[MIUI国际版mi pay解决方案](https://www.yipkwong.com/2018/06/06/167/)，里面叙述了详细经过，但是我没用这个方法，虽然尝试过但是卡在了挂载镜像那一步。\n\n   我从另一个地方找到了方便的方法：[Mi Pay Extractor](https://github.com/linusyang92/mipay-extract)，是一个提取脚本，可以自动提取出卡刷包中的MiPay软件和日历、天气等。\n   - ~~直接git clone到本地~~下载zip包\n   \n      windows用户不要git clone到本地，去直接下载zip文件来避免等下会出现的换行符问题：[repo的下载链接](https://github.com/linusyang92/mipay-extract/archive/master.zip)\n\n      linux用户无妨\n      ```bash\n      https://github.com/linusyang92/mipay-extract.git\n      ```\n   ![目录截图](git-clone.jpg)\n   - 下载国内的miui最新卡刷包，放入同一目录\n   - miui欧洲版卡刷包，也放在同一目录\n   - 运行`extract.bat`，如果出现下面这样的错误：\n   ```bash\n   extract.sh: line 2: $'\\r': command not found\n   extract.sh: line 3: cd: $'.\\r': No such file or directory\n   extract.sh: line 4: $'\\r': command not found\n   extract.sh: line 6: $'\\r': command not found\n   extract.sh: line 18: $'\\r': command not found\n   extract.sh: line 19: syntax error near unexpected token `$'{\\r''\n   'xtract.sh: line 19: `exists() {\n   请按任意键继续. . .\n   ```\n    那就是因为`extract.sh`文件用的换行符不对，把原来的换行符`CRLF`改成`LF`后保存就可以正常运行了\n    Windows下双击`extract.bat`就可以开始提取，会要几分钟时间。\n    ![bat-run](bat-run.jpg)这样就说明提取成功，现在目录下会有`mipay-MIxxx.zip`,这就是一个卡刷包，通过twrp可以直接刷入\n    <a id=\"five\"/>\n     - 运行`cleaner-fix.bat`\n    生成修复日历和天气的刷机包，具体说就是让日历显示农历，天气app换回国内的。这个命令同时还会生成开启默认加密的刷机包。\n     - 对于想在负一屏还能用微信支付宝扫码快捷键的，以及查快递，`extract.bat --appvault`可以生成这样的修复包，也就是替换成跟国内一样的信息助手\n  \n   Finally，我们有了四个准备卡刷的包：\n   ![目录截图2](mipay-extract.jpg)全扔进手机，一个一个刷就是了\n   然而，你可能遇到跟我一样的错误：一个叫255的错误，简单来说就是以上这四个包，没一个能刷成功的，网上搜255错误，原因很多，没有一个能解决我的问题的，于是我慢慢想起了前面提到的`CRLF`，说不定又是这个东西在捣鬼。打开zip包，第一个文件夹`META-INF`一路点进去，最后看到了一个叫做`update-binary`的文件，这个文件类似于脚本，在刷机的时候执行的，和其他能刷成功的一对比发现确实是因为用了`CRLF`换行符导致错误的。用VScode打开转换成`LF`后保存，更新压缩包，这次就没有任何毛病了,在twrp下开启MTP把刷机包存到手机，可以全部成功刷入。\n   > 在[release页面](https://github.com/linusyang92/mipay-extract/releases)有他提取好的卡刷包，虽然是Mix2的但是发现也适用于我的小米6，如果你是米6或mix2不想折腾也可以用作者提取好的\n\n   下面是安装小米应用商店，装了就可以用它来更新小米钱包，而不用每次想更新都去下载线刷包。\n   下载地址：https://xiaomi-market.cn.uptodown.com/android\n   不知道为什么这个网站是被墙了的，开全局去下\n   然后就可以安装了，一切都非常完美，可以一键装应用和更新\n\n最后，终于写完了这个教程，自我感觉是很详细了，希望可以帮到跟我一样在折腾miui的人。我刷这个系统的初衷是国内版变得越来越难用，最主要的表现是经常熄屏自己莫名震动，还经常自己亮屏，打开了看也没有什么通知，后来上网一搜发现我不是一个人，这是小米系统本身的问题，那些震动是真的有通知不过之前被我从通知栏禁止了，可能禁止的层面不对，等通知到达了震动了系统才把通知删掉，这不是折磨人么。我就找能不能刷类似CM的原版安卓，然后就在知乎上看到了miui欧洲版，感觉对安卓的底层不会改太多，就折腾用欧洲版来了。现在用了两个星期，确实好用，字体不好看还换了个字体，外观上和国内版差别也不大。就是每次升级系统不是很方便就是了，之后会想办法用持续集成完成自动的提取。\n\n\n> 2019-4-23更新：总结一下用miui-eu时更新系统步骤\n\n   1. 下载eu包：`https://netix.dl.sourceforge.net/project/xiaomi-eu-multilang-miui-roms/xiaomi.eu/MIUI-WEEKLY-RELEASES/9.4.11/xiaomi.eu_multi_MI6_9.4.11_v10-8.0.zip`\n\n   2. 下载国内相同版本包：`http://bigota.d.miui.com/9.4.11/miui_MI6_9.4.11_692ddc81ce_8.0.zip`\n\n   3. 在`mipay-extract`文件夹中执行以下命令\n      ```\n      ./cleaner-fix.bat\n      ./extract.bat --appvault\n      ```\n\n   4. 生成的4个包加上下载下来的eu包拷贝进手机，重启进入twrp选择刷机包刷机\n\n      可以批量选择刷机包，顺序是eu包在最前面，其他的在后面刷。\n","source":"_posts/miui-eu.md","raw":"title: 小米6刷入miui欧洲版以及安装小米钱包、应用商店APP,开启全盘加密\ntags:\n  - MIUI\ndate: 2018-12-18 16:03:00\n---\n> [miui.eu](miui.eu)，一个真正没有广告的系统，比国际版还要纯净\n\n我一开始照着知乎[这个教程](https://www.zhihu.com/question/50231539)刷的，刷了后死活开不了机，也就是卡在了MI界面，后来在miui欧洲论坛找到了[这个](https://xiaomi.eu/community/threads/bootloop-problem-while-flashing-eu-stable.46593/)答案，完全符合我的情况，不能直接从国内版刷成欧洲版，要先刷个国际版，在国际版的基础上才能刷欧洲版。\n\n> miui欧洲版自带人脸解锁，抬起亮屏，还有谷歌的Smart Lock，挺有意思。\n\n<!--more-->\n首先要说的是，要折腾，先备份。\n如果你用了谷歌验证器，可以象我一样换成Authy，通过手机登录，不用担心换手机找不回来\n微信可以通过Windows端备份聊天记录\n相册短信便签什么的就交给小米云，差不多就这些\n\n其次要说的是，等下用到的所有提取出来的刷机包，在每一次更新系统后都会失效，你可以选择再次刷入。\n特别地，关于支付安全，eu固件默认关闭了全盘强制加密（FBE）功能，这跟国内固件不一样，最直接的影响就是进入恢复模式不用解密，数据暴露在捡到你手机的人面前，所以我是选择刷入了开启加密的补丁包，同样的每一次更新系统就必须在更新后重新刷入`force-fbe`包，否则无法开机。\n\n下面从第一步，你还是个国内miui系统开始\n\n1. 解锁bootloader\n    http://www.miui.com/unlock/index.html\n\n2. 刷入国际版ROM\n你没有看错，欧洲版和国内版系统分区不一样（我猜的），直接卡刷欧洲版我试过没法开机（可能还是因为FBE的缘故？），反正为了保证成功就先刷国际版ROM，顺便把系统和数据也清了\n   - 去下载线刷包：[线刷包地址](http://en.miui.com/download.html)\n   - 手机音量下+电源键开机，进入Fastboot模式\n   - 下载小米的[通用刷机工具](http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip)\n   - 按照教程一步一步往下做\n   - **注意**软件打开右下角不要选`全部删除并lock`，选择`全部删除`就可以了\n   - 线刷具体教程：http://www.miui.com/shuaji-393.html\n\n3. 不用开机，继续刷入twrp\n怎么做到的呢，就是线刷软件提示刷入成功，手机重启的时候，还是按住音量下+电源键开机，进入Fastboot模式，通过ADB(刚才下载的通用刷机工具里有)终端命令来刷入。\n如果还是不小心开机了没关系，等下刷系统的时候在twrp里面双清一下就可以了。\n   - [twrp官方下载](https://twrp.me/Devices/)\n    选择你的机型对应下载下来\n   - 打开adb终端\n    adb终端的位置在`\\MiFlash2018-5-28-0\\Source\\ThirdParty\\Google\\Android`里面，进入到`Android`文件夹，鼠标在空白的地方按住Shift以后右键，选择在此处打开cmd/power shell窗口，就可以使用adb了。\n   - 终端输入命令\n      ```bash\n      fastboot flash recovery twrp.img\n      fastboot boot twrp.img\n      ```\n      `twrp.img`是替换成你的twrp包的路径和名称。\n   - 第二条命令执行完后手机就会自己重启到twrp界面，可以设置成中文。\n1. 进入twrp，刷eu固件\n   - 去下载miui欧洲版：[miui欧洲版发布页面](https://xiaomi.eu/community/link-forums/roms-download.73/)\n   - 格式化data分区\n    如果你想开启全盘默认加密，那就要在刷入下面的包之前先格式化data分区\n   - 连接电脑，把eu固件拷入sdcard目录\n     手机在twrp界面，电脑上应该能看到手机，不能的话在手机点挂载，然后点开启MTP\n   - **注意：** 如果你选择开启全盘加密，那么先去做第五步，把你要刷的包都刷入了再开机\n   - 从手机上点刷机，选择刷机包，完成，开机。\n\n   到这里已经完成miui欧洲版刷机了，选择语言，连WiFi，登账号\n   ![](screen1.jpg)这是开机后的桌面\n   miui欧洲版阉割了很多比如小米钱包，里面的卡模拟的功能我用得到，包括公交卡什么的，所以接下来折腾如何装回这个应用\n\n2. 提取Mipay安装包以及本土化修复包\n    > 要从中国版固件的system.img里面提取软件包，还要通过Root权限把软件包写入System分区，这里有一个教程：[MIUI国际版mi pay解决方案](https://www.yipkwong.com/2018/06/06/167/)，里面叙述了详细经过，但是我没用这个方法，虽然尝试过但是卡在了挂载镜像那一步。\n\n   我从另一个地方找到了方便的方法：[Mi Pay Extractor](https://github.com/linusyang92/mipay-extract)，是一个提取脚本，可以自动提取出卡刷包中的MiPay软件和日历、天气等。\n   - ~~直接git clone到本地~~下载zip包\n   \n      windows用户不要git clone到本地，去直接下载zip文件来避免等下会出现的换行符问题：[repo的下载链接](https://github.com/linusyang92/mipay-extract/archive/master.zip)\n\n      linux用户无妨\n      ```bash\n      https://github.com/linusyang92/mipay-extract.git\n      ```\n   ![目录截图](git-clone.jpg)\n   - 下载国内的miui最新卡刷包，放入同一目录\n   - miui欧洲版卡刷包，也放在同一目录\n   - 运行`extract.bat`，如果出现下面这样的错误：\n   ```bash\n   extract.sh: line 2: $'\\r': command not found\n   extract.sh: line 3: cd: $'.\\r': No such file or directory\n   extract.sh: line 4: $'\\r': command not found\n   extract.sh: line 6: $'\\r': command not found\n   extract.sh: line 18: $'\\r': command not found\n   extract.sh: line 19: syntax error near unexpected token `$'{\\r''\n   'xtract.sh: line 19: `exists() {\n   请按任意键继续. . .\n   ```\n    那就是因为`extract.sh`文件用的换行符不对，把原来的换行符`CRLF`改成`LF`后保存就可以正常运行了\n    Windows下双击`extract.bat`就可以开始提取，会要几分钟时间。\n    ![bat-run](bat-run.jpg)这样就说明提取成功，现在目录下会有`mipay-MIxxx.zip`,这就是一个卡刷包，通过twrp可以直接刷入\n    <a id=\"five\"/>\n     - 运行`cleaner-fix.bat`\n    生成修复日历和天气的刷机包，具体说就是让日历显示农历，天气app换回国内的。这个命令同时还会生成开启默认加密的刷机包。\n     - 对于想在负一屏还能用微信支付宝扫码快捷键的，以及查快递，`extract.bat --appvault`可以生成这样的修复包，也就是替换成跟国内一样的信息助手\n  \n   Finally，我们有了四个准备卡刷的包：\n   ![目录截图2](mipay-extract.jpg)全扔进手机，一个一个刷就是了\n   然而，你可能遇到跟我一样的错误：一个叫255的错误，简单来说就是以上这四个包，没一个能刷成功的，网上搜255错误，原因很多，没有一个能解决我的问题的，于是我慢慢想起了前面提到的`CRLF`，说不定又是这个东西在捣鬼。打开zip包，第一个文件夹`META-INF`一路点进去，最后看到了一个叫做`update-binary`的文件，这个文件类似于脚本，在刷机的时候执行的，和其他能刷成功的一对比发现确实是因为用了`CRLF`换行符导致错误的。用VScode打开转换成`LF`后保存，更新压缩包，这次就没有任何毛病了,在twrp下开启MTP把刷机包存到手机，可以全部成功刷入。\n   > 在[release页面](https://github.com/linusyang92/mipay-extract/releases)有他提取好的卡刷包，虽然是Mix2的但是发现也适用于我的小米6，如果你是米6或mix2不想折腾也可以用作者提取好的\n\n   下面是安装小米应用商店，装了就可以用它来更新小米钱包，而不用每次想更新都去下载线刷包。\n   下载地址：https://xiaomi-market.cn.uptodown.com/android\n   不知道为什么这个网站是被墙了的，开全局去下\n   然后就可以安装了，一切都非常完美，可以一键装应用和更新\n\n最后，终于写完了这个教程，自我感觉是很详细了，希望可以帮到跟我一样在折腾miui的人。我刷这个系统的初衷是国内版变得越来越难用，最主要的表现是经常熄屏自己莫名震动，还经常自己亮屏，打开了看也没有什么通知，后来上网一搜发现我不是一个人，这是小米系统本身的问题，那些震动是真的有通知不过之前被我从通知栏禁止了，可能禁止的层面不对，等通知到达了震动了系统才把通知删掉，这不是折磨人么。我就找能不能刷类似CM的原版安卓，然后就在知乎上看到了miui欧洲版，感觉对安卓的底层不会改太多，就折腾用欧洲版来了。现在用了两个星期，确实好用，字体不好看还换了个字体，外观上和国内版差别也不大。就是每次升级系统不是很方便就是了，之后会想办法用持续集成完成自动的提取。\n\n\n> 2019-4-23更新：总结一下用miui-eu时更新系统步骤\n\n   1. 下载eu包：`https://netix.dl.sourceforge.net/project/xiaomi-eu-multilang-miui-roms/xiaomi.eu/MIUI-WEEKLY-RELEASES/9.4.11/xiaomi.eu_multi_MI6_9.4.11_v10-8.0.zip`\n\n   2. 下载国内相同版本包：`http://bigota.d.miui.com/9.4.11/miui_MI6_9.4.11_692ddc81ce_8.0.zip`\n\n   3. 在`mipay-extract`文件夹中执行以下命令\n      ```\n      ./cleaner-fix.bat\n      ./extract.bat --appvault\n      ```\n\n   4. 生成的4个包加上下载下来的eu包拷贝进手机，重启进入twrp选择刷机包刷机\n\n      可以批量选择刷机包，顺序是eu包在最前面，其他的在后面刷。\n","slug":"miui-eu","published":1,"updated":"2019-04-23T14:40:03.385Z","_id":"cjutvw57c000ikj3qqhly6y6i","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p><a href=\"miui.eu\">miui.eu</a>，一个真正没有广告的系统，比国际版还要纯净</p>\n</blockquote>\n<p>我一开始照着知乎<a href=\"https://www.zhihu.com/question/50231539\" target=\"_blank\" rel=\"noopener\">这个教程</a>刷的，刷了后死活开不了机，也就是卡在了MI界面，后来在miui欧洲论坛找到了<a href=\"https://xiaomi.eu/community/threads/bootloop-problem-while-flashing-eu-stable.46593/\" target=\"_blank\" rel=\"noopener\">这个</a>答案，完全符合我的情况，不能直接从国内版刷成欧洲版，要先刷个国际版，在国际版的基础上才能刷欧洲版。</p>\n<blockquote>\n<p>miui欧洲版自带人脸解锁，抬起亮屏，还有谷歌的Smart Lock，挺有意思。</p>\n</blockquote>\n<a id=\"more\"></a>\n<p>首先要说的是，要折腾，先备份。<br>如果你用了谷歌验证器，可以象我一样换成Authy，通过手机登录，不用担心换手机找不回来<br>微信可以通过Windows端备份聊天记录<br>相册短信便签什么的就交给小米云，差不多就这些</p>\n<p>其次要说的是，等下用到的所有提取出来的刷机包，在每一次更新系统后都会失效，你可以选择再次刷入。<br>特别地，关于支付安全，eu固件默认关闭了全盘强制加密（FBE）功能，这跟国内固件不一样，最直接的影响就是进入恢复模式不用解密，数据暴露在捡到你手机的人面前，所以我是选择刷入了开启加密的补丁包，同样的每一次更新系统就必须在更新后重新刷入<code>force-fbe</code>包，否则无法开机。</p>\n<p>下面从第一步，你还是个国内miui系统开始</p>\n<ol>\n<li><p>解锁bootloader<br> <a href=\"http://www.miui.com/unlock/index.html\" target=\"_blank\" rel=\"noopener\">http://www.miui.com/unlock/index.html</a></p>\n</li>\n<li><p>刷入国际版ROM<br>你没有看错，欧洲版和国内版系统分区不一样（我猜的），直接卡刷欧洲版我试过没法开机（可能还是因为FBE的缘故？），反正为了保证成功就先刷国际版ROM，顺便把系统和数据也清了</p>\n<ul>\n<li>去下载线刷包：<a href=\"http://en.miui.com/download.html\" target=\"_blank\" rel=\"noopener\">线刷包地址</a></li>\n<li>手机音量下+电源键开机，进入Fastboot模式</li>\n<li>下载小米的<a href=\"http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip\" target=\"_blank\" rel=\"noopener\">通用刷机工具</a></li>\n<li>按照教程一步一步往下做</li>\n<li><strong>注意</strong>软件打开右下角不要选<code>全部删除并lock</code>，选择<code>全部删除</code>就可以了</li>\n<li>线刷具体教程：<a href=\"http://www.miui.com/shuaji-393.html\" target=\"_blank\" rel=\"noopener\">http://www.miui.com/shuaji-393.html</a></li>\n</ul>\n</li>\n<li><p>不用开机，继续刷入twrp<br>怎么做到的呢，就是线刷软件提示刷入成功，手机重启的时候，还是按住音量下+电源键开机，进入Fastboot模式，通过ADB(刚才下载的通用刷机工具里有)终端命令来刷入。<br>如果还是不小心开机了没关系，等下刷系统的时候在twrp里面双清一下就可以了。</p>\n<ul>\n<li><a href=\"https://twrp.me/Devices/\" target=\"_blank\" rel=\"noopener\">twrp官方下载</a><br>选择你的机型对应下载下来</li>\n<li>打开adb终端<br>adb终端的位置在<code>\\MiFlash2018-5-28-0\\Source\\ThirdParty\\Google\\Android</code>里面，进入到<code>Android</code>文件夹，鼠标在空白的地方按住Shift以后右键，选择在此处打开cmd/power shell窗口，就可以使用adb了。</li>\n<li><p>终端输入命令</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fastboot flash recovery twrp.img</span><br><span class=\"line\">fastboot boot twrp.img</span><br></pre></td></tr></table></figure>\n<p> <code>twrp.img</code>是替换成你的twrp包的路径和名称。</p>\n</li>\n<li>第二条命令执行完后手机就会自己重启到twrp界面，可以设置成中文。</li>\n</ul>\n</li>\n<li><p>进入twrp，刷eu固件</p>\n<ul>\n<li>去下载miui欧洲版：<a href=\"https://xiaomi.eu/community/link-forums/roms-download.73/\" target=\"_blank\" rel=\"noopener\">miui欧洲版发布页面</a></li>\n<li>格式化data分区<br>如果你想开启全盘默认加密，那就要在刷入下面的包之前先格式化data分区</li>\n<li>连接电脑，把eu固件拷入sdcard目录<br>手机在twrp界面，电脑上应该能看到手机，不能的话在手机点挂载，然后点开启MTP</li>\n<li><strong>注意：</strong> 如果你选择开启全盘加密，那么先去做第五步，把你要刷的包都刷入了再开机</li>\n<li>从手机上点刷机，选择刷机包，完成，开机。</li>\n</ul>\n<p>到这里已经完成miui欧洲版刷机了，选择语言，连WiFi，登账号<br><img src=\"screen1.jpg\" alt>这是开机后的桌面<br>miui欧洲版阉割了很多比如小米钱包，里面的卡模拟的功能我用得到，包括公交卡什么的，所以接下来折腾如何装回这个应用</p>\n</li>\n<li><p>提取Mipay安装包以及本土化修复包</p>\n<blockquote>\n<p>要从中国版固件的system.img里面提取软件包，还要通过Root权限把软件包写入System分区，这里有一个教程：<a href=\"https://www.yipkwong.com/2018/06/06/167/\" target=\"_blank\" rel=\"noopener\">MIUI国际版mi pay解决方案</a>，里面叙述了详细经过，但是我没用这个方法，虽然尝试过但是卡在了挂载镜像那一步。</p>\n</blockquote>\n<p>我从另一个地方找到了方便的方法：<a href=\"https://github.com/linusyang92/mipay-extract\" target=\"_blank\" rel=\"noopener\">Mi Pay Extractor</a>，是一个提取脚本，可以自动提取出卡刷包中的MiPay软件和日历、天气等。</p>\n<ul>\n<li><p><del>直接git clone到本地</del>下载zip包</p>\n<p> windows用户不要git clone到本地，去直接下载zip文件来避免等下会出现的换行符问题：<a href=\"https://github.com/linusyang92/mipay-extract/archive/master.zip\" target=\"_blank\" rel=\"noopener\">repo的下载链接</a></p>\n<p> linux用户无妨</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/linusyang92/mipay-extract.git</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><img src=\"git-clone.jpg\" alt=\"目录截图\"></p>\n<ul>\n<li>下载国内的miui最新卡刷包，放入同一目录</li>\n<li>miui欧洲版卡刷包，也放在同一目录</li>\n<li><p>运行<code>extract.bat</code>，如果出现下面这样的错误：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">extract.sh: line 2: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 3: <span class=\"built_in\">cd</span>: $<span class=\"string\">'.\\r'</span>: No such file or directory</span><br><span class=\"line\">extract.sh: line 4: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 6: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 18: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 19: syntax error near unexpected token `$<span class=\"string\">'&#123;\\r'</span><span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">'</span>xtract.sh: line 19: `<span class=\"function\"><span class=\"title\">exists</span></span>() &#123;</span><br><span class=\"line\">请按任意键继续. . .</span><br></pre></td></tr></table></figure>\n<p>那就是因为<code>extract.sh</code>文件用的换行符不对，把原来的换行符<code>CRLF</code>改成<code>LF</code>后保存就可以正常运行了<br>Windows下双击<code>extract.bat</code>就可以开始提取，会要几分钟时间。<br><img src=\"bat-run.jpg\" alt=\"bat-run\">这样就说明提取成功，现在目录下会有<code>mipay-MIxxx.zip</code>,这就是一个卡刷包，通过twrp可以直接刷入<br><a id=\"five\"></a></p>\n<ul>\n<li>运行<code>cleaner-fix.bat</code><br>生成修复日历和天气的刷机包，具体说就是让日历显示农历，天气app换回国内的。这个命令同时还会生成开启默认加密的刷机包。</li>\n<li>对于想在负一屏还能用微信支付宝扫码快捷键的，以及查快递，<code>extract.bat --appvault</code>可以生成这样的修复包，也就是替换成跟国内一样的信息助手</li>\n</ul>\n</li>\n</ul>\n<p>Finally，我们有了四个准备卡刷的包：<br><img src=\"mipay-extract.jpg\" alt=\"目录截图2\">全扔进手机，一个一个刷就是了<br>然而，你可能遇到跟我一样的错误：一个叫255的错误，简单来说就是以上这四个包，没一个能刷成功的，网上搜255错误，原因很多，没有一个能解决我的问题的，于是我慢慢想起了前面提到的<code>CRLF</code>，说不定又是这个东西在捣鬼。打开zip包，第一个文件夹<code>META-INF</code>一路点进去，最后看到了一个叫做<code>update-binary</code>的文件，这个文件类似于脚本，在刷机的时候执行的，和其他能刷成功的一对比发现确实是因为用了<code>CRLF</code>换行符导致错误的。用VScode打开转换成<code>LF</code>后保存，更新压缩包，这次就没有任何毛病了,在twrp下开启MTP把刷机包存到手机，可以全部成功刷入。</p>\n<blockquote>\n<p>在<a href=\"https://github.com/linusyang92/mipay-extract/releases\" target=\"_blank\" rel=\"noopener\">release页面</a>有他提取好的卡刷包，虽然是Mix2的但是发现也适用于我的小米6，如果你是米6或mix2不想折腾也可以用作者提取好的</p>\n</blockquote>\n<p>下面是安装小米应用商店，装了就可以用它来更新小米钱包，而不用每次想更新都去下载线刷包。<br>下载地址：<a href=\"https://xiaomi-market.cn.uptodown.com/android\" target=\"_blank\" rel=\"noopener\">https://xiaomi-market.cn.uptodown.com/android</a><br>不知道为什么这个网站是被墙了的，开全局去下<br>然后就可以安装了，一切都非常完美，可以一键装应用和更新</p>\n</li>\n</ol>\n<p>最后，终于写完了这个教程，自我感觉是很详细了，希望可以帮到跟我一样在折腾miui的人。我刷这个系统的初衷是国内版变得越来越难用，最主要的表现是经常熄屏自己莫名震动，还经常自己亮屏，打开了看也没有什么通知，后来上网一搜发现我不是一个人，这是小米系统本身的问题，那些震动是真的有通知不过之前被我从通知栏禁止了，可能禁止的层面不对，等通知到达了震动了系统才把通知删掉，这不是折磨人么。我就找能不能刷类似CM的原版安卓，然后就在知乎上看到了miui欧洲版，感觉对安卓的底层不会改太多，就折腾用欧洲版来了。现在用了两个星期，确实好用，字体不好看还换了个字体，外观上和国内版差别也不大。就是每次升级系统不是很方便就是了，之后会想办法用持续集成完成自动的提取。</p>\n<blockquote>\n<p>2019-4-23更新：总结一下用miui-eu时更新系统步骤</p>\n</blockquote>\n<ol>\n<li><p>下载eu包：<code>https://netix.dl.sourceforge.net/project/xiaomi-eu-multilang-miui-roms/xiaomi.eu/MIUI-WEEKLY-RELEASES/9.4.11/xiaomi.eu_multi_MI6_9.4.11_v10-8.0.zip</code></p>\n</li>\n<li><p>下载国内相同版本包：<code>http://bigota.d.miui.com/9.4.11/miui_MI6_9.4.11_692ddc81ce_8.0.zip</code></p>\n</li>\n<li><p>在<code>mipay-extract</code>文件夹中执行以下命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./cleaner-fix.bat</span><br><span class=\"line\">./extract.bat --appvault</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>生成的4个包加上下载下来的eu包拷贝进手机，重启进入twrp选择刷机包刷机</p>\n<p>可以批量选择刷机包，顺序是eu包在最前面，其他的在后面刷。</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p><a href=\"miui.eu\">miui.eu</a>，一个真正没有广告的系统，比国际版还要纯净</p>\n</blockquote>\n<p>我一开始照着知乎<a href=\"https://www.zhihu.com/question/50231539\" target=\"_blank\" rel=\"noopener\">这个教程</a>刷的，刷了后死活开不了机，也就是卡在了MI界面，后来在miui欧洲论坛找到了<a href=\"https://xiaomi.eu/community/threads/bootloop-problem-while-flashing-eu-stable.46593/\" target=\"_blank\" rel=\"noopener\">这个</a>答案，完全符合我的情况，不能直接从国内版刷成欧洲版，要先刷个国际版，在国际版的基础上才能刷欧洲版。</p>\n<blockquote>\n<p>miui欧洲版自带人脸解锁，抬起亮屏，还有谷歌的Smart Lock，挺有意思。</p>\n</blockquote>","more":"<p>首先要说的是，要折腾，先备份。<br>如果你用了谷歌验证器，可以象我一样换成Authy，通过手机登录，不用担心换手机找不回来<br>微信可以通过Windows端备份聊天记录<br>相册短信便签什么的就交给小米云，差不多就这些</p>\n<p>其次要说的是，等下用到的所有提取出来的刷机包，在每一次更新系统后都会失效，你可以选择再次刷入。<br>特别地，关于支付安全，eu固件默认关闭了全盘强制加密（FBE）功能，这跟国内固件不一样，最直接的影响就是进入恢复模式不用解密，数据暴露在捡到你手机的人面前，所以我是选择刷入了开启加密的补丁包，同样的每一次更新系统就必须在更新后重新刷入<code>force-fbe</code>包，否则无法开机。</p>\n<p>下面从第一步，你还是个国内miui系统开始</p>\n<ol>\n<li><p>解锁bootloader<br> <a href=\"http://www.miui.com/unlock/index.html\" target=\"_blank\" rel=\"noopener\">http://www.miui.com/unlock/index.html</a></p>\n</li>\n<li><p>刷入国际版ROM<br>你没有看错，欧洲版和国内版系统分区不一样（我猜的），直接卡刷欧洲版我试过没法开机（可能还是因为FBE的缘故？），反正为了保证成功就先刷国际版ROM，顺便把系统和数据也清了</p>\n<ul>\n<li>去下载线刷包：<a href=\"http://en.miui.com/download.html\" target=\"_blank\" rel=\"noopener\">线刷包地址</a></li>\n<li>手机音量下+电源键开机，进入Fastboot模式</li>\n<li>下载小米的<a href=\"http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip\" target=\"_blank\" rel=\"noopener\">通用刷机工具</a></li>\n<li>按照教程一步一步往下做</li>\n<li><strong>注意</strong>软件打开右下角不要选<code>全部删除并lock</code>，选择<code>全部删除</code>就可以了</li>\n<li>线刷具体教程：<a href=\"http://www.miui.com/shuaji-393.html\" target=\"_blank\" rel=\"noopener\">http://www.miui.com/shuaji-393.html</a></li>\n</ul>\n</li>\n<li><p>不用开机，继续刷入twrp<br>怎么做到的呢，就是线刷软件提示刷入成功，手机重启的时候，还是按住音量下+电源键开机，进入Fastboot模式，通过ADB(刚才下载的通用刷机工具里有)终端命令来刷入。<br>如果还是不小心开机了没关系，等下刷系统的时候在twrp里面双清一下就可以了。</p>\n<ul>\n<li><a href=\"https://twrp.me/Devices/\" target=\"_blank\" rel=\"noopener\">twrp官方下载</a><br>选择你的机型对应下载下来</li>\n<li>打开adb终端<br>adb终端的位置在<code>\\MiFlash2018-5-28-0\\Source\\ThirdParty\\Google\\Android</code>里面，进入到<code>Android</code>文件夹，鼠标在空白的地方按住Shift以后右键，选择在此处打开cmd/power shell窗口，就可以使用adb了。</li>\n<li><p>终端输入命令</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fastboot flash recovery twrp.img</span><br><span class=\"line\">fastboot boot twrp.img</span><br></pre></td></tr></table></figure>\n<p> <code>twrp.img</code>是替换成你的twrp包的路径和名称。</p>\n</li>\n<li>第二条命令执行完后手机就会自己重启到twrp界面，可以设置成中文。</li>\n</ul>\n</li>\n<li><p>进入twrp，刷eu固件</p>\n<ul>\n<li>去下载miui欧洲版：<a href=\"https://xiaomi.eu/community/link-forums/roms-download.73/\" target=\"_blank\" rel=\"noopener\">miui欧洲版发布页面</a></li>\n<li>格式化data分区<br>如果你想开启全盘默认加密，那就要在刷入下面的包之前先格式化data分区</li>\n<li>连接电脑，把eu固件拷入sdcard目录<br>手机在twrp界面，电脑上应该能看到手机，不能的话在手机点挂载，然后点开启MTP</li>\n<li><strong>注意：</strong> 如果你选择开启全盘加密，那么先去做第五步，把你要刷的包都刷入了再开机</li>\n<li>从手机上点刷机，选择刷机包，完成，开机。</li>\n</ul>\n<p>到这里已经完成miui欧洲版刷机了，选择语言，连WiFi，登账号<br><img src=\"screen1.jpg\" alt>这是开机后的桌面<br>miui欧洲版阉割了很多比如小米钱包，里面的卡模拟的功能我用得到，包括公交卡什么的，所以接下来折腾如何装回这个应用</p>\n</li>\n<li><p>提取Mipay安装包以及本土化修复包</p>\n<blockquote>\n<p>要从中国版固件的system.img里面提取软件包，还要通过Root权限把软件包写入System分区，这里有一个教程：<a href=\"https://www.yipkwong.com/2018/06/06/167/\" target=\"_blank\" rel=\"noopener\">MIUI国际版mi pay解决方案</a>，里面叙述了详细经过，但是我没用这个方法，虽然尝试过但是卡在了挂载镜像那一步。</p>\n</blockquote>\n<p>我从另一个地方找到了方便的方法：<a href=\"https://github.com/linusyang92/mipay-extract\" target=\"_blank\" rel=\"noopener\">Mi Pay Extractor</a>，是一个提取脚本，可以自动提取出卡刷包中的MiPay软件和日历、天气等。</p>\n<ul>\n<li><p><del>直接git clone到本地</del>下载zip包</p>\n<p> windows用户不要git clone到本地，去直接下载zip文件来避免等下会出现的换行符问题：<a href=\"https://github.com/linusyang92/mipay-extract/archive/master.zip\" target=\"_blank\" rel=\"noopener\">repo的下载链接</a></p>\n<p> linux用户无妨</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/linusyang92/mipay-extract.git</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><img src=\"git-clone.jpg\" alt=\"目录截图\"></p>\n<ul>\n<li>下载国内的miui最新卡刷包，放入同一目录</li>\n<li>miui欧洲版卡刷包，也放在同一目录</li>\n<li><p>运行<code>extract.bat</code>，如果出现下面这样的错误：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">extract.sh: line 2: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 3: <span class=\"built_in\">cd</span>: $<span class=\"string\">'.\\r'</span>: No such file or directory</span><br><span class=\"line\">extract.sh: line 4: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 6: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 18: $<span class=\"string\">'\\r'</span>: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">extract.sh: line 19: syntax error near unexpected token `$<span class=\"string\">'&#123;\\r'</span><span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">'</span>xtract.sh: line 19: `<span class=\"function\"><span class=\"title\">exists</span></span>() &#123;</span><br><span class=\"line\">请按任意键继续. . .</span><br></pre></td></tr></table></figure>\n<p>那就是因为<code>extract.sh</code>文件用的换行符不对，把原来的换行符<code>CRLF</code>改成<code>LF</code>后保存就可以正常运行了<br>Windows下双击<code>extract.bat</code>就可以开始提取，会要几分钟时间。<br><img src=\"bat-run.jpg\" alt=\"bat-run\">这样就说明提取成功，现在目录下会有<code>mipay-MIxxx.zip</code>,这就是一个卡刷包，通过twrp可以直接刷入<br><a id=\"five\"></a></p>\n<ul>\n<li>运行<code>cleaner-fix.bat</code><br>生成修复日历和天气的刷机包，具体说就是让日历显示农历，天气app换回国内的。这个命令同时还会生成开启默认加密的刷机包。</li>\n<li>对于想在负一屏还能用微信支付宝扫码快捷键的，以及查快递，<code>extract.bat --appvault</code>可以生成这样的修复包，也就是替换成跟国内一样的信息助手</li>\n</ul>\n</li>\n</ul>\n<p>Finally，我们有了四个准备卡刷的包：<br><img src=\"mipay-extract.jpg\" alt=\"目录截图2\">全扔进手机，一个一个刷就是了<br>然而，你可能遇到跟我一样的错误：一个叫255的错误，简单来说就是以上这四个包，没一个能刷成功的，网上搜255错误，原因很多，没有一个能解决我的问题的，于是我慢慢想起了前面提到的<code>CRLF</code>，说不定又是这个东西在捣鬼。打开zip包，第一个文件夹<code>META-INF</code>一路点进去，最后看到了一个叫做<code>update-binary</code>的文件，这个文件类似于脚本，在刷机的时候执行的，和其他能刷成功的一对比发现确实是因为用了<code>CRLF</code>换行符导致错误的。用VScode打开转换成<code>LF</code>后保存，更新压缩包，这次就没有任何毛病了,在twrp下开启MTP把刷机包存到手机，可以全部成功刷入。</p>\n<blockquote>\n<p>在<a href=\"https://github.com/linusyang92/mipay-extract/releases\" target=\"_blank\" rel=\"noopener\">release页面</a>有他提取好的卡刷包，虽然是Mix2的但是发现也适用于我的小米6，如果你是米6或mix2不想折腾也可以用作者提取好的</p>\n</blockquote>\n<p>下面是安装小米应用商店，装了就可以用它来更新小米钱包，而不用每次想更新都去下载线刷包。<br>下载地址：<a href=\"https://xiaomi-market.cn.uptodown.com/android\" target=\"_blank\" rel=\"noopener\">https://xiaomi-market.cn.uptodown.com/android</a><br>不知道为什么这个网站是被墙了的，开全局去下<br>然后就可以安装了，一切都非常完美，可以一键装应用和更新</p>\n</li>\n</ol>\n<p>最后，终于写完了这个教程，自我感觉是很详细了，希望可以帮到跟我一样在折腾miui的人。我刷这个系统的初衷是国内版变得越来越难用，最主要的表现是经常熄屏自己莫名震动，还经常自己亮屏，打开了看也没有什么通知，后来上网一搜发现我不是一个人，这是小米系统本身的问题，那些震动是真的有通知不过之前被我从通知栏禁止了，可能禁止的层面不对，等通知到达了震动了系统才把通知删掉，这不是折磨人么。我就找能不能刷类似CM的原版安卓，然后就在知乎上看到了miui欧洲版，感觉对安卓的底层不会改太多，就折腾用欧洲版来了。现在用了两个星期，确实好用，字体不好看还换了个字体，外观上和国内版差别也不大。就是每次升级系统不是很方便就是了，之后会想办法用持续集成完成自动的提取。</p>\n<blockquote>\n<p>2019-4-23更新：总结一下用miui-eu时更新系统步骤</p>\n</blockquote>\n<ol>\n<li><p>下载eu包：<code>https://netix.dl.sourceforge.net/project/xiaomi-eu-multilang-miui-roms/xiaomi.eu/MIUI-WEEKLY-RELEASES/9.4.11/xiaomi.eu_multi_MI6_9.4.11_v10-8.0.zip</code></p>\n</li>\n<li><p>下载国内相同版本包：<code>http://bigota.d.miui.com/9.4.11/miui_MI6_9.4.11_692ddc81ce_8.0.zip</code></p>\n</li>\n<li><p>在<code>mipay-extract</code>文件夹中执行以下命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./cleaner-fix.bat</span><br><span class=\"line\">./extract.bat --appvault</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>生成的4个包加上下载下来的eu包拷贝进手机，重启进入twrp选择刷机包刷机</p>\n<p>可以批量选择刷机包，顺序是eu包在最前面，其他的在后面刷。</p>\n</li>\n</ol>"},{"title":"树莓派：samba文件共享、frp内网穿透、lighttpd、aria2c下载器（AriaNg前端）安装教程","date":"2018-03-11T17:08:00.000Z","_content":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近拿到了一个树莓派3B，想要做成NAS以及下载机，我这个人平时喜欢看美剧，每次下载都要先开电脑打开浏览器找资源迅雷下载，有时候用手机找到资源了还是得开电脑，毕竟手机不适合用来下BT，于是有了这个想法，一开始还装了[Nextcloud的树莓派版](https://ownyourbits.com/nextcloudpi/)(需要的童鞋可以进去看（需翻墙）)（2018-12-20更新：现在看官网把这个部分已经做的很完善了，占用可能也不高了），网盘下载前端倒是什么都有了，就是觉着太臃肿，web服务器用的居然还是apache，占用可想而知，到后来每次链接ssh都要接近半分钟，运行一个python脚本更是要到一分钟，那就是几行的脚本啊。后来想nextcloud其实没什么用，我只要能下载和共享文件就可以了。  \n<!--more-->\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;于是就有了这个教程，我打算用lighttpd作web服务器，上面放hexo博客（毕竟有了frp）和[aria2c前端](http://ariang.mayswind.net/zh_Hans/)，通过frp连接到我的阿里云主机，那里有公网IP，这样一来我可以在任何地方访问我的树莓派叫它下美剧，真是很幸福的一件事。  \n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;废话不多说，下面开始教程，我用的系统是raspbian-stretch-lite，最少占用嘛，桌面也是不需要的。  \n\n# **第一部分：samba文件共享**\n\n* ## 挂载硬盘  \n\n查看设备列表：\n\n```bash\nsudo fdisk -l\n```\n\n这时候会列出所有挂载的设备（告诉我你已经插上硬盘了）然后找到硬盘的标识，一般是/dev/sda1，然后记下来  \n挂载硬盘：\n\n```bash\nsudo mount /dev/sda1 /media\n```\n\n查看现有磁盘信息，看是否挂载成功:\n\n```bash\ndf -T\n```\n\n* ## 更换软件安装源到国内  \n\n少数情况后面的安装会出现apt-get install安装失败，这个时候就需要把安装源替换成国内源，速度也会更快  \n\n备份原列表\n\n```bash\nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\nsudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak\n```\n\n编辑文件：\n\n```bash\nsudo sed -i 's#://raspbian.raspberrypi.org#s://mirrors.tuna.tsinghua.edu.cn/raspbian#g' /etc/apt/sources.list\nsudo sed -i 's#://archive.raspberrypi.org/debian#s://mirrors.tuna.tsinghua.edu.cn/raspberrypi#g' /etc/apt/sources.list.d/raspi.list\n```\n\n然后执行更新让更改生效:\n\n```bash\nsudo apt-get update\n```\n\n* ## samba安装及配置\n\n根据需要修改下面配置文件  \n[MyNAS]是电脑上可以看到的名称  \n共享路径是挂载硬盘的路径所以我用的是/media  \n其他可以不用管  \n全部复制到终端即可：  \n（我用了echo命令来写配置文件，当然用nano、vim、vi都是可以的，看各位喜欢）\n\n```bash\nsudo apt-get install samba -y #安装samba\nsudo echo \"\n    # 分享名称\n    [MyNAS]\n    # 说明信息\n    comment = NAS Storage\n    # 可以访问的用户\n    valid users = pi,root\n    # 共享文件的路径。\n    path = /media\n    # 可被其他人看到资源名称（非内容）\n    browseable = yes\n    # 可写\n    writable = yes\n    # 新建文件的权限为 664\n    create mask = 0664\n    # 新建目录的权限为 775\n    directory mask = 0775\n\"  >> /etc/samba/smb.conf\n\n```\n\n测试配置文件是否有错误，根据提示做相应修改：\n\n```bash\ntestparm\n```\n添加登陆账户并创建密码，必须是 linux 已存在的用户，密码不一定要和系统一样，只是登录samba用的。\n\n```bash\nsudo smbpasswd -a pi\n```\n\n输入两次密码  \n\n重载 samba 服务：\n\n```bash\nsudo service samba reload\n```\n\n让samba开机启动：\n\n```bash\nsudo update-rc.d samba defaults\n```\n\n# **第二部分：aria2下载器**\n\n* ## aria2配置及安装\n\n安装aria2\n\n```bash\nsudo apt-get install aria2 -y\n```\n\n创建 session 和配置文件：\n\n```bash\nmkdir ~/.aria2\ntouch ~/.aria2/aria2.session\ntouch ~/.aria2/aria2.conf\n```\n\n写入配置文件aria2.conf,注意如果用户名不是pi的话需要改下面的对应文件路径：\n\n```bash\necho \"\n\n## 文件保存相关 ##\n\n# 文件保存目录\ndir=/media/Download\n# 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M\ndisk-cache=32M\n# 断点续传\ncontinue=true\n\n# 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc\n# 预分配所需时间: none < falloc ? trunc < prealloc\n# falloc和trunc则需要文件系统和内核支持\n# NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项\n#file-allocation=falloc\n\n## 下载连接相关 ##\n\n# 最大同时下载任务数, 运行时可修改, 默认:5\n#max-concurrent-downloads=5\n# 同一服务器连接数, 添加时可指定, 默认:1\nmax-connection-per-server=15\n# 整体下载速度限制, 运行时可修改, 默认:0（不限制）\n#max-overall-download-limit=0\n# 单个任务下载速度限制, 默认:0（不限制）\n#max-download-limit=0\n# 整体上传速度限制, 运行时可修改, 默认:0（不限制）\n#max-overall-upload-limit=0\n# 单个任务上传速度限制, 默认:0（不限制）\n#max-upload-limit=0\n# 禁用IPv6, 默认:false\ndisable-ipv6=true\n\n# 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M\n# 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载\nmin-split-size=10M\n# 单个任务最大线程数, 添加时可指定, 默认:5\nsplit=10\n\n## 进度保存相关 ##\n\n# 从会话文件中读取下载任务\ninput-file=/home/pi/.aria2/aria2.session\n# 在Aria2退出时保存错误的、未完成的下载任务到会话文件\nsave-session=/home/pi/.aria2/aria2.session\n# 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0\nsave-session-interval=60\n\n## RPC相关设置 ##\n\n# 启用RPC, 默认:false\nenable-rpc=true\n# 允许所有来源, 默认:false\nrpc-allow-origin-all=true\n# 允许外部访问, 默认:false\nrpc-listen-all=true\n# RPC端口, 仅当默认端口被占用时修改\n# rpc-listen-port=6800\n# 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项\n#rpc-secret=<TOKEN>\n\n## BT/PT下载相关 ##\n\n# 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true\n#follow-torrent=true\n# 客户端伪装, PT需要\npeer-id-prefix=-TR2770-\nuser-agent=Transmission/2.77\n# 强制保存会话, 即使任务已经完成, 默认:false\n# 较新的版本开启后会在任务完成后依然保留.aria2文件\n#force-save=false\n# 继续之前的BT任务时, 无需再次校验, 默认:false\nbt-seed-unverified=true\n# 保存磁力链接元数据为种子文件(.torrent文件), 默认:false\nbt-save-metadata=true\n\" >> ~/.aria2/aria2.conf\n```\n\n然后执行：\n\n```bash\naria2c --conf-path=/home/pi/.aria2/aria2.conf -D\n```\n\n没有任何提示则表示成功，Ctrl+C退出。  \n接下来作为服务添加开机自启，注意路径是否正确：\n\n```bash\nsudo tee /etc/init.d/aria2c <<-'EOF'\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          aria2\n# Required-Start:    $remote_fs $network\n# Required-Stop:     $remote_fs $network\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Aria2 Downloader\n### END INIT INFO\ndo_start()\n{\n        echo -n \"Starting aria2c\"\n             su pi -c \"aria2c --conf-path=/home/pi/.aria2/aria2.conf &\"\n#这里的路径只能用绝对路径所以用户名不是pi的记得来这里修改\n}\ndo_stop()\n{\n     echo -n \"Shutting down aria2c \"\n        pkill -f aria2c\n}\ndo_restart() {\n    do_stop\n    sleep 1\n    do_start\n}\ncase \"$1\" in\nstart)\n   do_start\n   ;;\nstop)\n   do_stop\n   ;;\nstatus)\n  exit $?\n  ;;\nrestart)\n  do_restart\n  ;;\n*)\n   echo \"Usage: service aria2c {start|stop|status|restart}\" >&2\n   exit 1\n   ;;\nesac\nexit\nEOF\nsudo chmod +x /etc/init.d/aria2c\nsudo update-rc.d aria2c defaults\nsudo service aria2c start\n```\n\n这个时候aria2已经添加到开机启动并已经启动  \n以后想要管理aria2只需要输入对应命令即可\n\n```bash\n#启动aria2服务\nsudo service aria2c start \n#停止aria2服务\nsudo service aria2c stop \n#查看aria2服务状态\nsudo service aria2c status \n```\n同样的命令把aria2c替换成其他名称用来管理samba和等下要装的frp都是可以的  \n\n> 参考：https://www.jianshu.com/p/03f8022453a5\n\n* ## 网页前端（lighttpd和[ariaNg](http://ariang.mayswind.net/zh_Hans/)）\n\n安装lighttpd并设为默认启动：  \n\n```bash\nsudo apt-get install lighttpd -y\nsudo update-rc.d lighttpd defaults\n```\n\n安装好lighttpd后默认已经开启网页服务，接下来放aria2前端\n\n```bash\ncd /var/www/html\nsudo wget https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip\nsudo unzip aria-ng-0.4.0.zip\n#顺便删除压缩包\nrm aria-ng-0.4.0.zip\n```\n\n现在用浏览器打开树莓派IP，你就可以看到一个漂亮的前端,以后就用它管理下载  \n至此，一个内网NAS已经搭建完成，轻量化，超小占用。  \n当然还没完，我们要做的是能从外网访问的下载器。\n</br>\n\n# **第三部分：内网穿透frp**  \n\n关于frp\n\n英文全称：fast reverse proxy\n中文全称：快速反向代理\n简称：frp\nfrp 是一个可用于内网穿透的高性能反向代理应用，支持 tcp, udp, http, https 协议.\n\nfrp 的作用\n利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。\n对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。\n利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机。\n\nfrp为免费且开源项目，需要自己利用一台拥有公网IP机器搭建服务端，以部署内网穿透项目。\n\n项目链接：https://github.com/fatedier/frp/\n\n科普完了,没有公网IP服务器的童鞋这里推荐一个免费的公共服务:https://www.nat.ee/\n\n* ## frp客户端安装\n\n可以自己到[releases](http://github.com/fatedier/frp/releases)页面找最新版链接\n\n```bash\ncd ~\nwget http://github.com/fatedier/frp/releases/download/v0.16.0/frp_0.16.0_linux_arm.tar.gz\ntar -xvf frp_0.16.0_linux_arm.tar.gz\nsudo mv frp_0.16.0_linux_arm/ /etc/frp\n```\n\n编辑配置文件\n\n```bash\nsudo nano /etc/frp/frpc.ini\n```\n\n根据nat.ee提供的配置文件,这里提供一个http的例子  \n把中文都换掉,自定义域太简单可能会因为被占用无法启动,记得换个复杂点的\n\n```bash\n#http-自定义配置-示例\n[common]\nserver_addr = nat.ee\nserver_port = 7000\nprivilege_token = www.nat.ee\nuser = 自定义用户名称\n\n[自定义服务名称]\ntype = http\nlocal_port = 80\nlocal_ip = 127.0.0.1\ncustom_domains = 自定义域.nat.ee\n```  \n\nCtrl+O保存，Ctrl+X退出  \n测试一下是否运行正常:  \n\n```bash\nsudo /etc/frp/frpc -c /etc/frp/frpc.ini\n```\n\n如果输出结果带有\"start proxy success\"则表示连接成功  \nCtrl+C关闭  \n添加frp为服务并自动启动:  \n(我在里面加了判断网络是否连接的脚本\"net_ts\",终于解决了开机启动时没网络导致启动失败的问题)\n\n```bash\nsudo tee /etc/init.d/frp <<-'EOF'\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:         frp\n# Required-Start:    $network $local_fs $remote_fs $named $portmap $syslog\n# Required-Stop::    $network $local_fs $remote_fs\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Start frp at boot time\n# Description:       A porxy clint\n### END INIT INFO\nnet_ts()\n{\n    #超时时间\n    timeout=5\n\n    #目标网站\n    target=baidu.com\n\n    #获取响应状态码\n    ret_code=`curl -I -s --connect-timeout $timeout $target -w %{http_code} | tail -n1`\n\n    if [ \"x$ret_code\" = \"x200\" ]; then\n        echo 网络畅通\n\tnetstate='1'\n    else\n        echo 网络不畅通\n\tnetstate='0'\n    fi\n}\ndo_start()\n{\n        echo \"starting frp.\"\n        /etc/frp/frpc -c /etc/frp/frpc.ini &\n\n}\ndo_stop()\n{\n      pkill -f /etc/frp/frpc\n      echo \"stop complete.\"\n}\ndo_restart() {\n    do_stop\n    sleep 1\n    do_start\n}\ncase \"$1\" in\nstart)\n  net_ts\n#这里验证网络是否连通，连通了才启动frp\n  while [ $netstate -lt 0 ];\n  do\n    echo 请检查网络，将在5秒后重试\n    sleep 5\n    net_ts\n  done\n  do_start\n   ;;\nstop)\n   do_stop\n   ;;\nstatus)\n  exit $?\n  ;;\nrestart)\n  do_restart\n  ;;\n*)\n   echo \"Usage:service frp {start|stop|restart|status}\" >&2\n   exit 1\n   ;;\nesac\nexit 0\nEOF\n\nsudo chmod +x /etc/init.d/frp\nsudo systemctl daemon-reload\nsudo update-rc.d frp defaults\nsudo service frp start\n```\n\nfrp服务已经启动  \n现在试试能否从外网访问  \n一切正常的话你就可以从外网看到刚才那个漂亮的前端  \n开始你的下载吧  \nfrp还有很多玩法，有兴趣的朋友可以去项目地址看看，有中文说明.  \n\n**第一次写教程,写的不好的地方请多包涵,之后我还会写在树莓派上安装hexo博客的教程,记得来看哦.**\n","source":"_posts/raspberrypi-how.md","raw":"---\ntitle: 树莓派：samba文件共享、frp内网穿透、lighttpd、aria2c下载器（AriaNg前端）安装教程\ndate: 2018-3-12 1:08:00\ntags: 各种Pi\n---\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近拿到了一个树莓派3B，想要做成NAS以及下载机，我这个人平时喜欢看美剧，每次下载都要先开电脑打开浏览器找资源迅雷下载，有时候用手机找到资源了还是得开电脑，毕竟手机不适合用来下BT，于是有了这个想法，一开始还装了[Nextcloud的树莓派版](https://ownyourbits.com/nextcloudpi/)(需要的童鞋可以进去看（需翻墙）)（2018-12-20更新：现在看官网把这个部分已经做的很完善了，占用可能也不高了），网盘下载前端倒是什么都有了，就是觉着太臃肿，web服务器用的居然还是apache，占用可想而知，到后来每次链接ssh都要接近半分钟，运行一个python脚本更是要到一分钟，那就是几行的脚本啊。后来想nextcloud其实没什么用，我只要能下载和共享文件就可以了。  \n<!--more-->\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;于是就有了这个教程，我打算用lighttpd作web服务器，上面放hexo博客（毕竟有了frp）和[aria2c前端](http://ariang.mayswind.net/zh_Hans/)，通过frp连接到我的阿里云主机，那里有公网IP，这样一来我可以在任何地方访问我的树莓派叫它下美剧，真是很幸福的一件事。  \n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;废话不多说，下面开始教程，我用的系统是raspbian-stretch-lite，最少占用嘛，桌面也是不需要的。  \n\n# **第一部分：samba文件共享**\n\n* ## 挂载硬盘  \n\n查看设备列表：\n\n```bash\nsudo fdisk -l\n```\n\n这时候会列出所有挂载的设备（告诉我你已经插上硬盘了）然后找到硬盘的标识，一般是/dev/sda1，然后记下来  \n挂载硬盘：\n\n```bash\nsudo mount /dev/sda1 /media\n```\n\n查看现有磁盘信息，看是否挂载成功:\n\n```bash\ndf -T\n```\n\n* ## 更换软件安装源到国内  \n\n少数情况后面的安装会出现apt-get install安装失败，这个时候就需要把安装源替换成国内源，速度也会更快  \n\n备份原列表\n\n```bash\nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\nsudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak\n```\n\n编辑文件：\n\n```bash\nsudo sed -i 's#://raspbian.raspberrypi.org#s://mirrors.tuna.tsinghua.edu.cn/raspbian#g' /etc/apt/sources.list\nsudo sed -i 's#://archive.raspberrypi.org/debian#s://mirrors.tuna.tsinghua.edu.cn/raspberrypi#g' /etc/apt/sources.list.d/raspi.list\n```\n\n然后执行更新让更改生效:\n\n```bash\nsudo apt-get update\n```\n\n* ## samba安装及配置\n\n根据需要修改下面配置文件  \n[MyNAS]是电脑上可以看到的名称  \n共享路径是挂载硬盘的路径所以我用的是/media  \n其他可以不用管  \n全部复制到终端即可：  \n（我用了echo命令来写配置文件，当然用nano、vim、vi都是可以的，看各位喜欢）\n\n```bash\nsudo apt-get install samba -y #安装samba\nsudo echo \"\n    # 分享名称\n    [MyNAS]\n    # 说明信息\n    comment = NAS Storage\n    # 可以访问的用户\n    valid users = pi,root\n    # 共享文件的路径。\n    path = /media\n    # 可被其他人看到资源名称（非内容）\n    browseable = yes\n    # 可写\n    writable = yes\n    # 新建文件的权限为 664\n    create mask = 0664\n    # 新建目录的权限为 775\n    directory mask = 0775\n\"  >> /etc/samba/smb.conf\n\n```\n\n测试配置文件是否有错误，根据提示做相应修改：\n\n```bash\ntestparm\n```\n添加登陆账户并创建密码，必须是 linux 已存在的用户，密码不一定要和系统一样，只是登录samba用的。\n\n```bash\nsudo smbpasswd -a pi\n```\n\n输入两次密码  \n\n重载 samba 服务：\n\n```bash\nsudo service samba reload\n```\n\n让samba开机启动：\n\n```bash\nsudo update-rc.d samba defaults\n```\n\n# **第二部分：aria2下载器**\n\n* ## aria2配置及安装\n\n安装aria2\n\n```bash\nsudo apt-get install aria2 -y\n```\n\n创建 session 和配置文件：\n\n```bash\nmkdir ~/.aria2\ntouch ~/.aria2/aria2.session\ntouch ~/.aria2/aria2.conf\n```\n\n写入配置文件aria2.conf,注意如果用户名不是pi的话需要改下面的对应文件路径：\n\n```bash\necho \"\n\n## 文件保存相关 ##\n\n# 文件保存目录\ndir=/media/Download\n# 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M\ndisk-cache=32M\n# 断点续传\ncontinue=true\n\n# 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc\n# 预分配所需时间: none < falloc ? trunc < prealloc\n# falloc和trunc则需要文件系统和内核支持\n# NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项\n#file-allocation=falloc\n\n## 下载连接相关 ##\n\n# 最大同时下载任务数, 运行时可修改, 默认:5\n#max-concurrent-downloads=5\n# 同一服务器连接数, 添加时可指定, 默认:1\nmax-connection-per-server=15\n# 整体下载速度限制, 运行时可修改, 默认:0（不限制）\n#max-overall-download-limit=0\n# 单个任务下载速度限制, 默认:0（不限制）\n#max-download-limit=0\n# 整体上传速度限制, 运行时可修改, 默认:0（不限制）\n#max-overall-upload-limit=0\n# 单个任务上传速度限制, 默认:0（不限制）\n#max-upload-limit=0\n# 禁用IPv6, 默认:false\ndisable-ipv6=true\n\n# 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M\n# 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载\nmin-split-size=10M\n# 单个任务最大线程数, 添加时可指定, 默认:5\nsplit=10\n\n## 进度保存相关 ##\n\n# 从会话文件中读取下载任务\ninput-file=/home/pi/.aria2/aria2.session\n# 在Aria2退出时保存错误的、未完成的下载任务到会话文件\nsave-session=/home/pi/.aria2/aria2.session\n# 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0\nsave-session-interval=60\n\n## RPC相关设置 ##\n\n# 启用RPC, 默认:false\nenable-rpc=true\n# 允许所有来源, 默认:false\nrpc-allow-origin-all=true\n# 允许外部访问, 默认:false\nrpc-listen-all=true\n# RPC端口, 仅当默认端口被占用时修改\n# rpc-listen-port=6800\n# 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项\n#rpc-secret=<TOKEN>\n\n## BT/PT下载相关 ##\n\n# 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true\n#follow-torrent=true\n# 客户端伪装, PT需要\npeer-id-prefix=-TR2770-\nuser-agent=Transmission/2.77\n# 强制保存会话, 即使任务已经完成, 默认:false\n# 较新的版本开启后会在任务完成后依然保留.aria2文件\n#force-save=false\n# 继续之前的BT任务时, 无需再次校验, 默认:false\nbt-seed-unverified=true\n# 保存磁力链接元数据为种子文件(.torrent文件), 默认:false\nbt-save-metadata=true\n\" >> ~/.aria2/aria2.conf\n```\n\n然后执行：\n\n```bash\naria2c --conf-path=/home/pi/.aria2/aria2.conf -D\n```\n\n没有任何提示则表示成功，Ctrl+C退出。  \n接下来作为服务添加开机自启，注意路径是否正确：\n\n```bash\nsudo tee /etc/init.d/aria2c <<-'EOF'\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          aria2\n# Required-Start:    $remote_fs $network\n# Required-Stop:     $remote_fs $network\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Aria2 Downloader\n### END INIT INFO\ndo_start()\n{\n        echo -n \"Starting aria2c\"\n             su pi -c \"aria2c --conf-path=/home/pi/.aria2/aria2.conf &\"\n#这里的路径只能用绝对路径所以用户名不是pi的记得来这里修改\n}\ndo_stop()\n{\n     echo -n \"Shutting down aria2c \"\n        pkill -f aria2c\n}\ndo_restart() {\n    do_stop\n    sleep 1\n    do_start\n}\ncase \"$1\" in\nstart)\n   do_start\n   ;;\nstop)\n   do_stop\n   ;;\nstatus)\n  exit $?\n  ;;\nrestart)\n  do_restart\n  ;;\n*)\n   echo \"Usage: service aria2c {start|stop|status|restart}\" >&2\n   exit 1\n   ;;\nesac\nexit\nEOF\nsudo chmod +x /etc/init.d/aria2c\nsudo update-rc.d aria2c defaults\nsudo service aria2c start\n```\n\n这个时候aria2已经添加到开机启动并已经启动  \n以后想要管理aria2只需要输入对应命令即可\n\n```bash\n#启动aria2服务\nsudo service aria2c start \n#停止aria2服务\nsudo service aria2c stop \n#查看aria2服务状态\nsudo service aria2c status \n```\n同样的命令把aria2c替换成其他名称用来管理samba和等下要装的frp都是可以的  \n\n> 参考：https://www.jianshu.com/p/03f8022453a5\n\n* ## 网页前端（lighttpd和[ariaNg](http://ariang.mayswind.net/zh_Hans/)）\n\n安装lighttpd并设为默认启动：  \n\n```bash\nsudo apt-get install lighttpd -y\nsudo update-rc.d lighttpd defaults\n```\n\n安装好lighttpd后默认已经开启网页服务，接下来放aria2前端\n\n```bash\ncd /var/www/html\nsudo wget https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip\nsudo unzip aria-ng-0.4.0.zip\n#顺便删除压缩包\nrm aria-ng-0.4.0.zip\n```\n\n现在用浏览器打开树莓派IP，你就可以看到一个漂亮的前端,以后就用它管理下载  \n至此，一个内网NAS已经搭建完成，轻量化，超小占用。  \n当然还没完，我们要做的是能从外网访问的下载器。\n</br>\n\n# **第三部分：内网穿透frp**  \n\n关于frp\n\n英文全称：fast reverse proxy\n中文全称：快速反向代理\n简称：frp\nfrp 是一个可用于内网穿透的高性能反向代理应用，支持 tcp, udp, http, https 协议.\n\nfrp 的作用\n利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。\n对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。\n利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机。\n\nfrp为免费且开源项目，需要自己利用一台拥有公网IP机器搭建服务端，以部署内网穿透项目。\n\n项目链接：https://github.com/fatedier/frp/\n\n科普完了,没有公网IP服务器的童鞋这里推荐一个免费的公共服务:https://www.nat.ee/\n\n* ## frp客户端安装\n\n可以自己到[releases](http://github.com/fatedier/frp/releases)页面找最新版链接\n\n```bash\ncd ~\nwget http://github.com/fatedier/frp/releases/download/v0.16.0/frp_0.16.0_linux_arm.tar.gz\ntar -xvf frp_0.16.0_linux_arm.tar.gz\nsudo mv frp_0.16.0_linux_arm/ /etc/frp\n```\n\n编辑配置文件\n\n```bash\nsudo nano /etc/frp/frpc.ini\n```\n\n根据nat.ee提供的配置文件,这里提供一个http的例子  \n把中文都换掉,自定义域太简单可能会因为被占用无法启动,记得换个复杂点的\n\n```bash\n#http-自定义配置-示例\n[common]\nserver_addr = nat.ee\nserver_port = 7000\nprivilege_token = www.nat.ee\nuser = 自定义用户名称\n\n[自定义服务名称]\ntype = http\nlocal_port = 80\nlocal_ip = 127.0.0.1\ncustom_domains = 自定义域.nat.ee\n```  \n\nCtrl+O保存，Ctrl+X退出  \n测试一下是否运行正常:  \n\n```bash\nsudo /etc/frp/frpc -c /etc/frp/frpc.ini\n```\n\n如果输出结果带有\"start proxy success\"则表示连接成功  \nCtrl+C关闭  \n添加frp为服务并自动启动:  \n(我在里面加了判断网络是否连接的脚本\"net_ts\",终于解决了开机启动时没网络导致启动失败的问题)\n\n```bash\nsudo tee /etc/init.d/frp <<-'EOF'\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:         frp\n# Required-Start:    $network $local_fs $remote_fs $named $portmap $syslog\n# Required-Stop::    $network $local_fs $remote_fs\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Start frp at boot time\n# Description:       A porxy clint\n### END INIT INFO\nnet_ts()\n{\n    #超时时间\n    timeout=5\n\n    #目标网站\n    target=baidu.com\n\n    #获取响应状态码\n    ret_code=`curl -I -s --connect-timeout $timeout $target -w %{http_code} | tail -n1`\n\n    if [ \"x$ret_code\" = \"x200\" ]; then\n        echo 网络畅通\n\tnetstate='1'\n    else\n        echo 网络不畅通\n\tnetstate='0'\n    fi\n}\ndo_start()\n{\n        echo \"starting frp.\"\n        /etc/frp/frpc -c /etc/frp/frpc.ini &\n\n}\ndo_stop()\n{\n      pkill -f /etc/frp/frpc\n      echo \"stop complete.\"\n}\ndo_restart() {\n    do_stop\n    sleep 1\n    do_start\n}\ncase \"$1\" in\nstart)\n  net_ts\n#这里验证网络是否连通，连通了才启动frp\n  while [ $netstate -lt 0 ];\n  do\n    echo 请检查网络，将在5秒后重试\n    sleep 5\n    net_ts\n  done\n  do_start\n   ;;\nstop)\n   do_stop\n   ;;\nstatus)\n  exit $?\n  ;;\nrestart)\n  do_restart\n  ;;\n*)\n   echo \"Usage:service frp {start|stop|restart|status}\" >&2\n   exit 1\n   ;;\nesac\nexit 0\nEOF\n\nsudo chmod +x /etc/init.d/frp\nsudo systemctl daemon-reload\nsudo update-rc.d frp defaults\nsudo service frp start\n```\n\nfrp服务已经启动  \n现在试试能否从外网访问  \n一切正常的话你就可以从外网看到刚才那个漂亮的前端  \n开始你的下载吧  \nfrp还有很多玩法，有兴趣的朋友可以去项目地址看看，有中文说明.  \n\n**第一次写教程,写的不好的地方请多包涵,之后我还会写在树莓派上安装hexo博客的教程,记得来看哦.**\n","slug":"raspberrypi-how","published":1,"updated":"2019-03-16T05:29:56.567Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjutvw57f000jkj3qgl1v9hfs","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近拿到了一个树莓派3B，想要做成NAS以及下载机，我这个人平时喜欢看美剧，每次下载都要先开电脑打开浏览器找资源迅雷下载，有时候用手机找到资源了还是得开电脑，毕竟手机不适合用来下BT，于是有了这个想法，一开始还装了<a href=\"https://ownyourbits.com/nextcloudpi/\" target=\"_blank\" rel=\"noopener\">Nextcloud的树莓派版</a>(需要的童鞋可以进去看（需翻墙）)（2018-12-20更新：现在看官网把这个部分已经做的很完善了，占用可能也不高了），网盘下载前端倒是什么都有了，就是觉着太臃肿，web服务器用的居然还是apache，占用可想而知，到后来每次链接ssh都要接近半分钟，运行一个python脚本更是要到一分钟，那就是几行的脚本啊。后来想nextcloud其实没什么用，我只要能下载和共享文件就可以了。<br><a id=\"more\"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;于是就有了这个教程，我打算用lighttpd作web服务器，上面放hexo博客（毕竟有了frp）和<a href=\"http://ariang.mayswind.net/zh_Hans/\" target=\"_blank\" rel=\"noopener\">aria2c前端</a>，通过frp连接到我的阿里云主机，那里有公网IP，这样一来我可以在任何地方访问我的树莓派叫它下美剧，真是很幸福的一件事。  </p>\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;废话不多说，下面开始教程，我用的系统是raspbian-stretch-lite，最少占用嘛，桌面也是不需要的。  </p>\n<h1 id=\"第一部分：samba文件共享\"><a href=\"#第一部分：samba文件共享\" class=\"headerlink\" title=\"第一部分：samba文件共享\"></a><strong>第一部分：samba文件共享</strong></h1><ul>\n<li><h2 id=\"挂载硬盘\"><a href=\"#挂载硬盘\" class=\"headerlink\" title=\"挂载硬盘\"></a>挂载硬盘</h2></li>\n</ul>\n<p>查看设备列表：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo fdisk -l</span><br></pre></td></tr></table></figure>\n<p>这时候会列出所有挂载的设备（告诉我你已经插上硬盘了）然后找到硬盘的标识，一般是/dev/sda1，然后记下来<br>挂载硬盘：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mount /dev/sda1 /media</span><br></pre></td></tr></table></figure>\n<p>查看现有磁盘信息，看是否挂载成功:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df -T</span><br></pre></td></tr></table></figure>\n<ul>\n<li><h2 id=\"更换软件安装源到国内\"><a href=\"#更换软件安装源到国内\" class=\"headerlink\" title=\"更换软件安装源到国内\"></a>更换软件安装源到国内</h2></li>\n</ul>\n<p>少数情况后面的安装会出现apt-get install安装失败，这个时候就需要把安装源替换成国内源，速度也会更快  </p>\n<p>备份原列表</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class=\"line\">sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak</span><br></pre></td></tr></table></figure>\n<p>编辑文件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sed -i <span class=\"string\">'s#://raspbian.raspberrypi.org#s://mirrors.tuna.tsinghua.edu.cn/raspbian#g'</span> /etc/apt/sources.list</span><br><span class=\"line\">sudo sed -i <span class=\"string\">'s#://archive.raspberrypi.org/debian#s://mirrors.tuna.tsinghua.edu.cn/raspberrypi#g'</span> /etc/apt/sources.list.d/raspi.list</span><br></pre></td></tr></table></figure>\n<p>然后执行更新让更改生效:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n<ul>\n<li><h2 id=\"samba安装及配置\"><a href=\"#samba安装及配置\" class=\"headerlink\" title=\"samba安装及配置\"></a>samba安装及配置</h2></li>\n</ul>\n<p>根据需要修改下面配置文件<br>[MyNAS]是电脑上可以看到的名称<br>共享路径是挂载硬盘的路径所以我用的是/media<br>其他可以不用管<br>全部复制到终端即可：<br>（我用了echo命令来写配置文件，当然用nano、vim、vi都是可以的，看各位喜欢）</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install samba -y <span class=\"comment\">#安装samba</span></span><br><span class=\"line\">sudo <span class=\"built_in\">echo</span> <span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">    # 分享名称</span></span><br><span class=\"line\"><span class=\"string\">    [MyNAS]</span></span><br><span class=\"line\"><span class=\"string\">    # 说明信息</span></span><br><span class=\"line\"><span class=\"string\">    comment = NAS Storage</span></span><br><span class=\"line\"><span class=\"string\">    # 可以访问的用户</span></span><br><span class=\"line\"><span class=\"string\">    valid users = pi,root</span></span><br><span class=\"line\"><span class=\"string\">    # 共享文件的路径。</span></span><br><span class=\"line\"><span class=\"string\">    path = /media</span></span><br><span class=\"line\"><span class=\"string\">    # 可被其他人看到资源名称（非内容）</span></span><br><span class=\"line\"><span class=\"string\">    browseable = yes</span></span><br><span class=\"line\"><span class=\"string\">    # 可写</span></span><br><span class=\"line\"><span class=\"string\">    writable = yes</span></span><br><span class=\"line\"><span class=\"string\">    # 新建文件的权限为 664</span></span><br><span class=\"line\"><span class=\"string\">    create mask = 0664</span></span><br><span class=\"line\"><span class=\"string\">    # 新建目录的权限为 775</span></span><br><span class=\"line\"><span class=\"string\">    directory mask = 0775</span></span><br><span class=\"line\"><span class=\"string\">\"</span>  &gt;&gt; /etc/samba/smb.conf</span><br></pre></td></tr></table></figure>\n<p>测试配置文件是否有错误，根据提示做相应修改：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">testparm</span><br></pre></td></tr></table></figure>\n<p>添加登陆账户并创建密码，必须是 linux 已存在的用户，密码不一定要和系统一样，只是登录samba用的。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo smbpasswd -a pi</span><br></pre></td></tr></table></figure>\n<p>输入两次密码  </p>\n<p>重载 samba 服务：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service samba reload</span><br></pre></td></tr></table></figure>\n<p>让samba开机启动：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo update-rc.d samba defaults</span><br></pre></td></tr></table></figure>\n<h1 id=\"第二部分：aria2下载器\"><a href=\"#第二部分：aria2下载器\" class=\"headerlink\" title=\"第二部分：aria2下载器\"></a><strong>第二部分：aria2下载器</strong></h1><ul>\n<li><h2 id=\"aria2配置及安装\"><a href=\"#aria2配置及安装\" class=\"headerlink\" title=\"aria2配置及安装\"></a>aria2配置及安装</h2></li>\n</ul>\n<p>安装aria2</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install aria2 -y</span><br></pre></td></tr></table></figure>\n<p>创建 session 和配置文件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir ~/.aria2</span><br><span class=\"line\">touch ~/.aria2/aria2.session</span><br><span class=\"line\">touch ~/.aria2/aria2.conf</span><br></pre></td></tr></table></figure>\n<p>写入配置文件aria2.conf,注意如果用户名不是pi的话需要改下面的对应文件路径：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## 文件保存相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 文件保存目录</span></span><br><span class=\"line\"><span class=\"string\">dir=/media/Download</span></span><br><span class=\"line\"><span class=\"string\"># 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M</span></span><br><span class=\"line\"><span class=\"string\">disk-cache=32M</span></span><br><span class=\"line\"><span class=\"string\"># 断点续传</span></span><br><span class=\"line\"><span class=\"string\">continue=true</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc</span></span><br><span class=\"line\"><span class=\"string\"># 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc</span></span><br><span class=\"line\"><span class=\"string\"># falloc和trunc则需要文件系统和内核支持</span></span><br><span class=\"line\"><span class=\"string\"># NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项</span></span><br><span class=\"line\"><span class=\"string\">#file-allocation=falloc</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## 下载连接相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 最大同时下载任务数, 运行时可修改, 默认:5</span></span><br><span class=\"line\"><span class=\"string\">#max-concurrent-downloads=5</span></span><br><span class=\"line\"><span class=\"string\"># 同一服务器连接数, 添加时可指定, 默认:1</span></span><br><span class=\"line\"><span class=\"string\">max-connection-per-server=15</span></span><br><span class=\"line\"><span class=\"string\"># 整体下载速度限制, 运行时可修改, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-overall-download-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 单个任务下载速度限制, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-download-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 整体上传速度限制, 运行时可修改, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-overall-upload-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 单个任务上传速度限制, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-upload-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 禁用IPv6, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">disable-ipv6=true</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M</span></span><br><span class=\"line\"><span class=\"string\"># 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载</span></span><br><span class=\"line\"><span class=\"string\">min-split-size=10M</span></span><br><span class=\"line\"><span class=\"string\"># 单个任务最大线程数, 添加时可指定, 默认:5</span></span><br><span class=\"line\"><span class=\"string\">split=10</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## 进度保存相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 从会话文件中读取下载任务</span></span><br><span class=\"line\"><span class=\"string\">input-file=/home/pi/.aria2/aria2.session</span></span><br><span class=\"line\"><span class=\"string\"># 在Aria2退出时保存错误的、未完成的下载任务到会话文件</span></span><br><span class=\"line\"><span class=\"string\">save-session=/home/pi/.aria2/aria2.session</span></span><br><span class=\"line\"><span class=\"string\"># 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span></span><br><span class=\"line\"><span class=\"string\">save-session-interval=60</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## RPC相关设置 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 启用RPC, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">enable-rpc=true</span></span><br><span class=\"line\"><span class=\"string\"># 允许所有来源, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">rpc-allow-origin-all=true</span></span><br><span class=\"line\"><span class=\"string\"># 允许外部访问, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">rpc-listen-all=true</span></span><br><span class=\"line\"><span class=\"string\"># RPC端口, 仅当默认端口被占用时修改</span></span><br><span class=\"line\"><span class=\"string\"># rpc-listen-port=6800</span></span><br><span class=\"line\"><span class=\"string\"># 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项</span></span><br><span class=\"line\"><span class=\"string\">#rpc-secret=&lt;TOKEN&gt;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## BT/PT下载相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true</span></span><br><span class=\"line\"><span class=\"string\">#follow-torrent=true</span></span><br><span class=\"line\"><span class=\"string\"># 客户端伪装, PT需要</span></span><br><span class=\"line\"><span class=\"string\">peer-id-prefix=-TR2770-</span></span><br><span class=\"line\"><span class=\"string\">user-agent=Transmission/2.77</span></span><br><span class=\"line\"><span class=\"string\"># 强制保存会话, 即使任务已经完成, 默认:false</span></span><br><span class=\"line\"><span class=\"string\"># 较新的版本开启后会在任务完成后依然保留.aria2文件</span></span><br><span class=\"line\"><span class=\"string\">#force-save=false</span></span><br><span class=\"line\"><span class=\"string\"># 继续之前的BT任务时, 无需再次校验, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">bt-seed-unverified=true</span></span><br><span class=\"line\"><span class=\"string\"># 保存磁力链接元数据为种子文件(.torrent文件), 默认:false</span></span><br><span class=\"line\"><span class=\"string\">bt-save-metadata=true</span></span><br><span class=\"line\"><span class=\"string\">\"</span> &gt;&gt; ~/.aria2/aria2.conf</span><br></pre></td></tr></table></figure>\n<p>然后执行：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aria2c --conf-path=/home/pi/.aria2/aria2.conf -D</span><br></pre></td></tr></table></figure>\n<p>没有任何提示则表示成功，Ctrl+C退出。<br>接下来作为服务添加开机自启，注意路径是否正确：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tee /etc/init.d/aria2c &lt;&lt;-<span class=\"string\">'EOF'</span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">### BEGIN INIT INFO</span></span><br><span class=\"line\"><span class=\"comment\"># Provides:          aria2</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Start:    $remote_fs $network</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Stop:     $remote_fs $network</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Start:     2 3 4 5</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Stop:      0 1 6</span></span><br><span class=\"line\"><span class=\"comment\"># Short-Description: Aria2 Downloader</span></span><br><span class=\"line\"><span class=\"comment\">### END INIT INFO</span></span><br><span class=\"line\">do_start()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"built_in\">echo</span> -n <span class=\"string\">\"Starting aria2c\"</span></span><br><span class=\"line\">             su pi -c <span class=\"string\">\"aria2c --conf-path=/home/pi/.aria2/aria2.conf &amp;\"</span></span><br><span class=\"line\"><span class=\"comment\">#这里的路径只能用绝对路径所以用户名不是pi的记得来这里修改</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">do_stop()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">     <span class=\"built_in\">echo</span> -n <span class=\"string\">\"Shutting down aria2c \"</span></span><br><span class=\"line\">        pkill -f aria2c</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">do_restart</span></span>() &#123;</span><br><span class=\"line\">    do_stop</span><br><span class=\"line\">    sleep 1</span><br><span class=\"line\">    do_start</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">start)</span><br><span class=\"line\">   do_start</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">stop)</span><br><span class=\"line\">   do_stop</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">status)</span><br><span class=\"line\">  <span class=\"built_in\">exit</span> $?</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">restart)</span><br><span class=\"line\">  do_restart</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">*)</span><br><span class=\"line\">   <span class=\"built_in\">echo</span> <span class=\"string\">\"Usage: service aria2c &#123;start|stop|status|restart&#125;\"</span> &gt;&amp;2</span><br><span class=\"line\">   <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">   ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span></span><br><span class=\"line\">EOF</span><br><span class=\"line\">sudo chmod +x /etc/init.d/aria2c</span><br><span class=\"line\">sudo update-rc.d aria2c defaults</span><br><span class=\"line\">sudo service aria2c start</span><br></pre></td></tr></table></figure>\n<p>这个时候aria2已经添加到开机启动并已经启动<br>以后想要管理aria2只需要输入对应命令即可</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#启动aria2服务</span></span><br><span class=\"line\">sudo service aria2c start </span><br><span class=\"line\"><span class=\"comment\">#停止aria2服务</span></span><br><span class=\"line\">sudo service aria2c stop </span><br><span class=\"line\"><span class=\"comment\">#查看aria2服务状态</span></span><br><span class=\"line\">sudo service aria2c status</span><br></pre></td></tr></table></figure>\n<p>同样的命令把aria2c替换成其他名称用来管理samba和等下要装的frp都是可以的  </p>\n<blockquote>\n<p>参考：<a href=\"https://www.jianshu.com/p/03f8022453a5\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/03f8022453a5</a></p>\n</blockquote>\n<ul>\n<li><h2 id=\"网页前端（lighttpd和ariaNg）\"><a href=\"#网页前端（lighttpd和ariaNg）\" class=\"headerlink\" title=\"网页前端（lighttpd和ariaNg）\"></a>网页前端（lighttpd和<a href=\"http://ariang.mayswind.net/zh_Hans/\" target=\"_blank\" rel=\"noopener\">ariaNg</a>）</h2></li>\n</ul>\n<p>安装lighttpd并设为默认启动：  </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install lighttpd -y</span><br><span class=\"line\">sudo update-rc.d lighttpd defaults</span><br></pre></td></tr></table></figure>\n<p>安装好lighttpd后默认已经开启网页服务，接下来放aria2前端</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /var/www/html</span><br><span class=\"line\">sudo wget https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip</span><br><span class=\"line\">sudo unzip aria-ng-0.4.0.zip</span><br><span class=\"line\"><span class=\"comment\">#顺便删除压缩包</span></span><br><span class=\"line\">rm aria-ng-0.4.0.zip</span><br></pre></td></tr></table></figure>\n<p>现在用浏览器打开树莓派IP，你就可以看到一个漂亮的前端,以后就用它管理下载<br>至此，一个内网NAS已经搭建完成，轻量化，超小占用。<br>当然还没完，我们要做的是能从外网访问的下载器。<br><br></p>\n<h1 id=\"第三部分：内网穿透frp\"><a href=\"#第三部分：内网穿透frp\" class=\"headerlink\" title=\"第三部分：内网穿透frp\"></a><strong>第三部分：内网穿透frp</strong></h1><p>关于frp</p>\n<p>英文全称：fast reverse proxy<br>中文全称：快速反向代理<br>简称：frp<br>frp 是一个可用于内网穿透的高性能反向代理应用，支持 tcp, udp, http, https 协议.</p>\n<p>frp 的作用<br>利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。<br>对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。<br>利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机。</p>\n<p>frp为免费且开源项目，需要自己利用一台拥有公网IP机器搭建服务端，以部署内网穿透项目。</p>\n<p>项目链接：<a href=\"https://github.com/fatedier/frp/\" target=\"_blank\" rel=\"noopener\">https://github.com/fatedier/frp/</a></p>\n<p>科普完了,没有公网IP服务器的童鞋这里推荐一个免费的公共服务:<a href=\"https://www.nat.ee/\" target=\"_blank\" rel=\"noopener\">https://www.nat.ee/</a></p>\n<ul>\n<li><h2 id=\"frp客户端安装\"><a href=\"#frp客户端安装\" class=\"headerlink\" title=\"frp客户端安装\"></a>frp客户端安装</h2></li>\n</ul>\n<p>可以自己到<a href=\"http://github.com/fatedier/frp/releases\" target=\"_blank\" rel=\"noopener\">releases</a>页面找最新版链接</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">wget http://github.com/fatedier/frp/releases/download/v0.16.0/frp_0.16.0_linux_arm.tar.gz</span><br><span class=\"line\">tar -xvf frp_0.16.0_linux_arm.tar.gz</span><br><span class=\"line\">sudo mv frp_0.16.0_linux_arm/ /etc/frp</span><br></pre></td></tr></table></figure>\n<p>编辑配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo nano /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure>\n<p>根据nat.ee提供的配置文件,这里提供一个http的例子<br>把中文都换掉,自定义域太简单可能会因为被占用无法启动,记得换个复杂点的</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#http-自定义配置-示例</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = nat.ee</span><br><span class=\"line\">server_port = 7000</span><br><span class=\"line\">privilege_token = www.nat.ee</span><br><span class=\"line\">user = 自定义用户名称</span><br><span class=\"line\"></span><br><span class=\"line\">[自定义服务名称]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = http</span><br><span class=\"line\">local_port = 80</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">custom_domains = 自定义域.nat.ee</span><br><span class=\"line\">```  </span><br><span class=\"line\"></span><br><span class=\"line\">Ctrl+O保存，Ctrl+X退出  </span><br><span class=\"line\">测试一下是否运行正常:  </span><br><span class=\"line\"></span><br><span class=\"line\">```bash</span><br><span class=\"line\">sudo /etc/frp/frpc -c /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure>\n<p>如果输出结果带有”start proxy success”则表示连接成功<br>Ctrl+C关闭<br>添加frp为服务并自动启动:<br>(我在里面加了判断网络是否连接的脚本”net_ts”,终于解决了开机启动时没网络导致启动失败的问题)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tee /etc/init.d/frp &lt;&lt;-<span class=\"string\">'EOF'</span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">### BEGIN INIT INFO</span></span><br><span class=\"line\"><span class=\"comment\"># Provides:         frp</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Start:    $network $local_fs $remote_fs $named $portmap $syslog</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Stop::    $network $local_fs $remote_fs</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Start:     2 3 4 5</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Stop:      0 1 6</span></span><br><span class=\"line\"><span class=\"comment\"># Short-Description: Start frp at boot time</span></span><br><span class=\"line\"><span class=\"comment\"># Description:       A porxy clint</span></span><br><span class=\"line\"><span class=\"comment\">### END INIT INFO</span></span><br><span class=\"line\">net_ts()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">#超时时间</span></span><br><span class=\"line\">    timeout=5</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#目标网站</span></span><br><span class=\"line\">    target=baidu.com</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#获取响应状态码</span></span><br><span class=\"line\">    ret_code=`curl -I -s --connect-timeout <span class=\"variable\">$timeout</span> <span class=\"variable\">$target</span> -w %&#123;http_code&#125; | tail -n1`</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">\"x<span class=\"variable\">$ret_code</span>\"</span> = <span class=\"string\">\"x200\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> 网络畅通</span><br><span class=\"line\">\tnetstate=<span class=\"string\">'1'</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> 网络不畅通</span><br><span class=\"line\">\tnetstate=<span class=\"string\">'0'</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">do_start()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"starting frp.\"</span></span><br><span class=\"line\">        /etc/frp/frpc -c /etc/frp/frpc.ini &amp;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">do_stop()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">      pkill -f /etc/frp/frpc</span><br><span class=\"line\">      <span class=\"built_in\">echo</span> <span class=\"string\">\"stop complete.\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">do_restart</span></span>() &#123;</span><br><span class=\"line\">    do_stop</span><br><span class=\"line\">    sleep 1</span><br><span class=\"line\">    do_start</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">start)</span><br><span class=\"line\">  net_ts</span><br><span class=\"line\"><span class=\"comment\">#这里验证网络是否连通，连通了才启动frp</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> [ <span class=\"variable\">$netstate</span> -lt 0 ];</span><br><span class=\"line\">  <span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> 请检查网络，将在5秒后重试</span><br><span class=\"line\">    sleep 5</span><br><span class=\"line\">    net_ts</span><br><span class=\"line\">  <span class=\"keyword\">done</span></span><br><span class=\"line\">  do_start</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">stop)</span><br><span class=\"line\">   do_stop</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">status)</span><br><span class=\"line\">  <span class=\"built_in\">exit</span> $?</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">restart)</span><br><span class=\"line\">  do_restart</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">*)</span><br><span class=\"line\">   <span class=\"built_in\">echo</span> <span class=\"string\">\"Usage:service frp &#123;start|stop|restart|status&#125;\"</span> &gt;&amp;2</span><br><span class=\"line\">   <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">   ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">sudo chmod +x /etc/init.d/frp</span><br><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo update-rc.d frp defaults</span><br><span class=\"line\">sudo service frp start</span><br></pre></td></tr></table></figure>\n<p>frp服务已经启动<br>现在试试能否从外网访问<br>一切正常的话你就可以从外网看到刚才那个漂亮的前端<br>开始你的下载吧<br>frp还有很多玩法，有兴趣的朋友可以去项目地址看看，有中文说明.  </p>\n<p><strong>第一次写教程,写的不好的地方请多包涵,之后我还会写在树莓派上安装hexo博客的教程,记得来看哦.</strong></p>\n","site":{"data":{}},"excerpt":"<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近拿到了一个树莓派3B，想要做成NAS以及下载机，我这个人平时喜欢看美剧，每次下载都要先开电脑打开浏览器找资源迅雷下载，有时候用手机找到资源了还是得开电脑，毕竟手机不适合用来下BT，于是有了这个想法，一开始还装了<a href=\"https://ownyourbits.com/nextcloudpi/\" target=\"_blank\" rel=\"noopener\">Nextcloud的树莓派版</a>(需要的童鞋可以进去看（需翻墙）)（2018-12-20更新：现在看官网把这个部分已经做的很完善了，占用可能也不高了），网盘下载前端倒是什么都有了，就是觉着太臃肿，web服务器用的居然还是apache，占用可想而知，到后来每次链接ssh都要接近半分钟，运行一个python脚本更是要到一分钟，那就是几行的脚本啊。后来想nextcloud其实没什么用，我只要能下载和共享文件就可以了。<br>","more":"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;于是就有了这个教程，我打算用lighttpd作web服务器，上面放hexo博客（毕竟有了frp）和<a href=\"http://ariang.mayswind.net/zh_Hans/\" target=\"_blank\" rel=\"noopener\">aria2c前端</a>，通过frp连接到我的阿里云主机，那里有公网IP，这样一来我可以在任何地方访问我的树莓派叫它下美剧，真是很幸福的一件事。  </p>\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;废话不多说，下面开始教程，我用的系统是raspbian-stretch-lite，最少占用嘛，桌面也是不需要的。  </p>\n<h1 id=\"第一部分：samba文件共享\"><a href=\"#第一部分：samba文件共享\" class=\"headerlink\" title=\"第一部分：samba文件共享\"></a><strong>第一部分：samba文件共享</strong></h1><ul>\n<li><h2 id=\"挂载硬盘\"><a href=\"#挂载硬盘\" class=\"headerlink\" title=\"挂载硬盘\"></a>挂载硬盘</h2></li>\n</ul>\n<p>查看设备列表：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo fdisk -l</span><br></pre></td></tr></table></figure>\n<p>这时候会列出所有挂载的设备（告诉我你已经插上硬盘了）然后找到硬盘的标识，一般是/dev/sda1，然后记下来<br>挂载硬盘：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mount /dev/sda1 /media</span><br></pre></td></tr></table></figure>\n<p>查看现有磁盘信息，看是否挂载成功:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df -T</span><br></pre></td></tr></table></figure>\n<ul>\n<li><h2 id=\"更换软件安装源到国内\"><a href=\"#更换软件安装源到国内\" class=\"headerlink\" title=\"更换软件安装源到国内\"></a>更换软件安装源到国内</h2></li>\n</ul>\n<p>少数情况后面的安装会出现apt-get install安装失败，这个时候就需要把安装源替换成国内源，速度也会更快  </p>\n<p>备份原列表</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class=\"line\">sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak</span><br></pre></td></tr></table></figure>\n<p>编辑文件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sed -i <span class=\"string\">'s#://raspbian.raspberrypi.org#s://mirrors.tuna.tsinghua.edu.cn/raspbian#g'</span> /etc/apt/sources.list</span><br><span class=\"line\">sudo sed -i <span class=\"string\">'s#://archive.raspberrypi.org/debian#s://mirrors.tuna.tsinghua.edu.cn/raspberrypi#g'</span> /etc/apt/sources.list.d/raspi.list</span><br></pre></td></tr></table></figure>\n<p>然后执行更新让更改生效:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n<ul>\n<li><h2 id=\"samba安装及配置\"><a href=\"#samba安装及配置\" class=\"headerlink\" title=\"samba安装及配置\"></a>samba安装及配置</h2></li>\n</ul>\n<p>根据需要修改下面配置文件<br>[MyNAS]是电脑上可以看到的名称<br>共享路径是挂载硬盘的路径所以我用的是/media<br>其他可以不用管<br>全部复制到终端即可：<br>（我用了echo命令来写配置文件，当然用nano、vim、vi都是可以的，看各位喜欢）</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install samba -y <span class=\"comment\">#安装samba</span></span><br><span class=\"line\">sudo <span class=\"built_in\">echo</span> <span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">    # 分享名称</span></span><br><span class=\"line\"><span class=\"string\">    [MyNAS]</span></span><br><span class=\"line\"><span class=\"string\">    # 说明信息</span></span><br><span class=\"line\"><span class=\"string\">    comment = NAS Storage</span></span><br><span class=\"line\"><span class=\"string\">    # 可以访问的用户</span></span><br><span class=\"line\"><span class=\"string\">    valid users = pi,root</span></span><br><span class=\"line\"><span class=\"string\">    # 共享文件的路径。</span></span><br><span class=\"line\"><span class=\"string\">    path = /media</span></span><br><span class=\"line\"><span class=\"string\">    # 可被其他人看到资源名称（非内容）</span></span><br><span class=\"line\"><span class=\"string\">    browseable = yes</span></span><br><span class=\"line\"><span class=\"string\">    # 可写</span></span><br><span class=\"line\"><span class=\"string\">    writable = yes</span></span><br><span class=\"line\"><span class=\"string\">    # 新建文件的权限为 664</span></span><br><span class=\"line\"><span class=\"string\">    create mask = 0664</span></span><br><span class=\"line\"><span class=\"string\">    # 新建目录的权限为 775</span></span><br><span class=\"line\"><span class=\"string\">    directory mask = 0775</span></span><br><span class=\"line\"><span class=\"string\">\"</span>  &gt;&gt; /etc/samba/smb.conf</span><br></pre></td></tr></table></figure>\n<p>测试配置文件是否有错误，根据提示做相应修改：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">testparm</span><br></pre></td></tr></table></figure>\n<p>添加登陆账户并创建密码，必须是 linux 已存在的用户，密码不一定要和系统一样，只是登录samba用的。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo smbpasswd -a pi</span><br></pre></td></tr></table></figure>\n<p>输入两次密码  </p>\n<p>重载 samba 服务：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service samba reload</span><br></pre></td></tr></table></figure>\n<p>让samba开机启动：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo update-rc.d samba defaults</span><br></pre></td></tr></table></figure>\n<h1 id=\"第二部分：aria2下载器\"><a href=\"#第二部分：aria2下载器\" class=\"headerlink\" title=\"第二部分：aria2下载器\"></a><strong>第二部分：aria2下载器</strong></h1><ul>\n<li><h2 id=\"aria2配置及安装\"><a href=\"#aria2配置及安装\" class=\"headerlink\" title=\"aria2配置及安装\"></a>aria2配置及安装</h2></li>\n</ul>\n<p>安装aria2</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install aria2 -y</span><br></pre></td></tr></table></figure>\n<p>创建 session 和配置文件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir ~/.aria2</span><br><span class=\"line\">touch ~/.aria2/aria2.session</span><br><span class=\"line\">touch ~/.aria2/aria2.conf</span><br></pre></td></tr></table></figure>\n<p>写入配置文件aria2.conf,注意如果用户名不是pi的话需要改下面的对应文件路径：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## 文件保存相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 文件保存目录</span></span><br><span class=\"line\"><span class=\"string\">dir=/media/Download</span></span><br><span class=\"line\"><span class=\"string\"># 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M</span></span><br><span class=\"line\"><span class=\"string\">disk-cache=32M</span></span><br><span class=\"line\"><span class=\"string\"># 断点续传</span></span><br><span class=\"line\"><span class=\"string\">continue=true</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc</span></span><br><span class=\"line\"><span class=\"string\"># 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc</span></span><br><span class=\"line\"><span class=\"string\"># falloc和trunc则需要文件系统和内核支持</span></span><br><span class=\"line\"><span class=\"string\"># NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项</span></span><br><span class=\"line\"><span class=\"string\">#file-allocation=falloc</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## 下载连接相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 最大同时下载任务数, 运行时可修改, 默认:5</span></span><br><span class=\"line\"><span class=\"string\">#max-concurrent-downloads=5</span></span><br><span class=\"line\"><span class=\"string\"># 同一服务器连接数, 添加时可指定, 默认:1</span></span><br><span class=\"line\"><span class=\"string\">max-connection-per-server=15</span></span><br><span class=\"line\"><span class=\"string\"># 整体下载速度限制, 运行时可修改, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-overall-download-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 单个任务下载速度限制, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-download-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 整体上传速度限制, 运行时可修改, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-overall-upload-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 单个任务上传速度限制, 默认:0（不限制）</span></span><br><span class=\"line\"><span class=\"string\">#max-upload-limit=0</span></span><br><span class=\"line\"><span class=\"string\"># 禁用IPv6, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">disable-ipv6=true</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M</span></span><br><span class=\"line\"><span class=\"string\"># 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载</span></span><br><span class=\"line\"><span class=\"string\">min-split-size=10M</span></span><br><span class=\"line\"><span class=\"string\"># 单个任务最大线程数, 添加时可指定, 默认:5</span></span><br><span class=\"line\"><span class=\"string\">split=10</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## 进度保存相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 从会话文件中读取下载任务</span></span><br><span class=\"line\"><span class=\"string\">input-file=/home/pi/.aria2/aria2.session</span></span><br><span class=\"line\"><span class=\"string\"># 在Aria2退出时保存错误的、未完成的下载任务到会话文件</span></span><br><span class=\"line\"><span class=\"string\">save-session=/home/pi/.aria2/aria2.session</span></span><br><span class=\"line\"><span class=\"string\"># 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span></span><br><span class=\"line\"><span class=\"string\">save-session-interval=60</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## RPC相关设置 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 启用RPC, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">enable-rpc=true</span></span><br><span class=\"line\"><span class=\"string\"># 允许所有来源, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">rpc-allow-origin-all=true</span></span><br><span class=\"line\"><span class=\"string\"># 允许外部访问, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">rpc-listen-all=true</span></span><br><span class=\"line\"><span class=\"string\"># RPC端口, 仅当默认端口被占用时修改</span></span><br><span class=\"line\"><span class=\"string\"># rpc-listen-port=6800</span></span><br><span class=\"line\"><span class=\"string\"># 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项</span></span><br><span class=\"line\"><span class=\"string\">#rpc-secret=&lt;TOKEN&gt;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## BT/PT下载相关 ##</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true</span></span><br><span class=\"line\"><span class=\"string\">#follow-torrent=true</span></span><br><span class=\"line\"><span class=\"string\"># 客户端伪装, PT需要</span></span><br><span class=\"line\"><span class=\"string\">peer-id-prefix=-TR2770-</span></span><br><span class=\"line\"><span class=\"string\">user-agent=Transmission/2.77</span></span><br><span class=\"line\"><span class=\"string\"># 强制保存会话, 即使任务已经完成, 默认:false</span></span><br><span class=\"line\"><span class=\"string\"># 较新的版本开启后会在任务完成后依然保留.aria2文件</span></span><br><span class=\"line\"><span class=\"string\">#force-save=false</span></span><br><span class=\"line\"><span class=\"string\"># 继续之前的BT任务时, 无需再次校验, 默认:false</span></span><br><span class=\"line\"><span class=\"string\">bt-seed-unverified=true</span></span><br><span class=\"line\"><span class=\"string\"># 保存磁力链接元数据为种子文件(.torrent文件), 默认:false</span></span><br><span class=\"line\"><span class=\"string\">bt-save-metadata=true</span></span><br><span class=\"line\"><span class=\"string\">\"</span> &gt;&gt; ~/.aria2/aria2.conf</span><br></pre></td></tr></table></figure>\n<p>然后执行：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aria2c --conf-path=/home/pi/.aria2/aria2.conf -D</span><br></pre></td></tr></table></figure>\n<p>没有任何提示则表示成功，Ctrl+C退出。<br>接下来作为服务添加开机自启，注意路径是否正确：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tee /etc/init.d/aria2c &lt;&lt;-<span class=\"string\">'EOF'</span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">### BEGIN INIT INFO</span></span><br><span class=\"line\"><span class=\"comment\"># Provides:          aria2</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Start:    $remote_fs $network</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Stop:     $remote_fs $network</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Start:     2 3 4 5</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Stop:      0 1 6</span></span><br><span class=\"line\"><span class=\"comment\"># Short-Description: Aria2 Downloader</span></span><br><span class=\"line\"><span class=\"comment\">### END INIT INFO</span></span><br><span class=\"line\">do_start()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"built_in\">echo</span> -n <span class=\"string\">\"Starting aria2c\"</span></span><br><span class=\"line\">             su pi -c <span class=\"string\">\"aria2c --conf-path=/home/pi/.aria2/aria2.conf &amp;\"</span></span><br><span class=\"line\"><span class=\"comment\">#这里的路径只能用绝对路径所以用户名不是pi的记得来这里修改</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">do_stop()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">     <span class=\"built_in\">echo</span> -n <span class=\"string\">\"Shutting down aria2c \"</span></span><br><span class=\"line\">        pkill -f aria2c</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">do_restart</span></span>() &#123;</span><br><span class=\"line\">    do_stop</span><br><span class=\"line\">    sleep 1</span><br><span class=\"line\">    do_start</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">start)</span><br><span class=\"line\">   do_start</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">stop)</span><br><span class=\"line\">   do_stop</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">status)</span><br><span class=\"line\">  <span class=\"built_in\">exit</span> $?</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">restart)</span><br><span class=\"line\">  do_restart</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">*)</span><br><span class=\"line\">   <span class=\"built_in\">echo</span> <span class=\"string\">\"Usage: service aria2c &#123;start|stop|status|restart&#125;\"</span> &gt;&amp;2</span><br><span class=\"line\">   <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">   ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span></span><br><span class=\"line\">EOF</span><br><span class=\"line\">sudo chmod +x /etc/init.d/aria2c</span><br><span class=\"line\">sudo update-rc.d aria2c defaults</span><br><span class=\"line\">sudo service aria2c start</span><br></pre></td></tr></table></figure>\n<p>这个时候aria2已经添加到开机启动并已经启动<br>以后想要管理aria2只需要输入对应命令即可</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#启动aria2服务</span></span><br><span class=\"line\">sudo service aria2c start </span><br><span class=\"line\"><span class=\"comment\">#停止aria2服务</span></span><br><span class=\"line\">sudo service aria2c stop </span><br><span class=\"line\"><span class=\"comment\">#查看aria2服务状态</span></span><br><span class=\"line\">sudo service aria2c status</span><br></pre></td></tr></table></figure>\n<p>同样的命令把aria2c替换成其他名称用来管理samba和等下要装的frp都是可以的  </p>\n<blockquote>\n<p>参考：<a href=\"https://www.jianshu.com/p/03f8022453a5\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/03f8022453a5</a></p>\n</blockquote>\n<ul>\n<li><h2 id=\"网页前端（lighttpd和ariaNg）\"><a href=\"#网页前端（lighttpd和ariaNg）\" class=\"headerlink\" title=\"网页前端（lighttpd和ariaNg）\"></a>网页前端（lighttpd和<a href=\"http://ariang.mayswind.net/zh_Hans/\" target=\"_blank\" rel=\"noopener\">ariaNg</a>）</h2></li>\n</ul>\n<p>安装lighttpd并设为默认启动：  </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install lighttpd -y</span><br><span class=\"line\">sudo update-rc.d lighttpd defaults</span><br></pre></td></tr></table></figure>\n<p>安装好lighttpd后默认已经开启网页服务，接下来放aria2前端</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /var/www/html</span><br><span class=\"line\">sudo wget https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip</span><br><span class=\"line\">sudo unzip aria-ng-0.4.0.zip</span><br><span class=\"line\"><span class=\"comment\">#顺便删除压缩包</span></span><br><span class=\"line\">rm aria-ng-0.4.0.zip</span><br></pre></td></tr></table></figure>\n<p>现在用浏览器打开树莓派IP，你就可以看到一个漂亮的前端,以后就用它管理下载<br>至此，一个内网NAS已经搭建完成，轻量化，超小占用。<br>当然还没完，我们要做的是能从外网访问的下载器。<br><br></p>\n<h1 id=\"第三部分：内网穿透frp\"><a href=\"#第三部分：内网穿透frp\" class=\"headerlink\" title=\"第三部分：内网穿透frp\"></a><strong>第三部分：内网穿透frp</strong></h1><p>关于frp</p>\n<p>英文全称：fast reverse proxy<br>中文全称：快速反向代理<br>简称：frp<br>frp 是一个可用于内网穿透的高性能反向代理应用，支持 tcp, udp, http, https 协议.</p>\n<p>frp 的作用<br>利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。<br>对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。<br>利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机。</p>\n<p>frp为免费且开源项目，需要自己利用一台拥有公网IP机器搭建服务端，以部署内网穿透项目。</p>\n<p>项目链接：<a href=\"https://github.com/fatedier/frp/\" target=\"_blank\" rel=\"noopener\">https://github.com/fatedier/frp/</a></p>\n<p>科普完了,没有公网IP服务器的童鞋这里推荐一个免费的公共服务:<a href=\"https://www.nat.ee/\" target=\"_blank\" rel=\"noopener\">https://www.nat.ee/</a></p>\n<ul>\n<li><h2 id=\"frp客户端安装\"><a href=\"#frp客户端安装\" class=\"headerlink\" title=\"frp客户端安装\"></a>frp客户端安装</h2></li>\n</ul>\n<p>可以自己到<a href=\"http://github.com/fatedier/frp/releases\" target=\"_blank\" rel=\"noopener\">releases</a>页面找最新版链接</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">wget http://github.com/fatedier/frp/releases/download/v0.16.0/frp_0.16.0_linux_arm.tar.gz</span><br><span class=\"line\">tar -xvf frp_0.16.0_linux_arm.tar.gz</span><br><span class=\"line\">sudo mv frp_0.16.0_linux_arm/ /etc/frp</span><br></pre></td></tr></table></figure>\n<p>编辑配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo nano /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure>\n<p>根据nat.ee提供的配置文件,这里提供一个http的例子<br>把中文都换掉,自定义域太简单可能会因为被占用无法启动,记得换个复杂点的</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#http-自定义配置-示例</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = nat.ee</span><br><span class=\"line\">server_port = 7000</span><br><span class=\"line\">privilege_token = www.nat.ee</span><br><span class=\"line\">user = 自定义用户名称</span><br><span class=\"line\"></span><br><span class=\"line\">[自定义服务名称]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = http</span><br><span class=\"line\">local_port = 80</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">custom_domains = 自定义域.nat.ee</span><br><span class=\"line\">```  </span><br><span class=\"line\"></span><br><span class=\"line\">Ctrl+O保存，Ctrl+X退出  </span><br><span class=\"line\">测试一下是否运行正常:  </span><br><span class=\"line\"></span><br><span class=\"line\">```bash</span><br><span class=\"line\">sudo /etc/frp/frpc -c /etc/frp/frpc.ini</span><br></pre></td></tr></table></figure>\n<p>如果输出结果带有”start proxy success”则表示连接成功<br>Ctrl+C关闭<br>添加frp为服务并自动启动:<br>(我在里面加了判断网络是否连接的脚本”net_ts”,终于解决了开机启动时没网络导致启动失败的问题)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tee /etc/init.d/frp &lt;&lt;-<span class=\"string\">'EOF'</span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">### BEGIN INIT INFO</span></span><br><span class=\"line\"><span class=\"comment\"># Provides:         frp</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Start:    $network $local_fs $remote_fs $named $portmap $syslog</span></span><br><span class=\"line\"><span class=\"comment\"># Required-Stop::    $network $local_fs $remote_fs</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Start:     2 3 4 5</span></span><br><span class=\"line\"><span class=\"comment\"># Default-Stop:      0 1 6</span></span><br><span class=\"line\"><span class=\"comment\"># Short-Description: Start frp at boot time</span></span><br><span class=\"line\"><span class=\"comment\"># Description:       A porxy clint</span></span><br><span class=\"line\"><span class=\"comment\">### END INIT INFO</span></span><br><span class=\"line\">net_ts()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">#超时时间</span></span><br><span class=\"line\">    timeout=5</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#目标网站</span></span><br><span class=\"line\">    target=baidu.com</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#获取响应状态码</span></span><br><span class=\"line\">    ret_code=`curl -I -s --connect-timeout <span class=\"variable\">$timeout</span> <span class=\"variable\">$target</span> -w %&#123;http_code&#125; | tail -n1`</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">\"x<span class=\"variable\">$ret_code</span>\"</span> = <span class=\"string\">\"x200\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> 网络畅通</span><br><span class=\"line\">\tnetstate=<span class=\"string\">'1'</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> 网络不畅通</span><br><span class=\"line\">\tnetstate=<span class=\"string\">'0'</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">do_start()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"starting frp.\"</span></span><br><span class=\"line\">        /etc/frp/frpc -c /etc/frp/frpc.ini &amp;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">do_stop()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">      pkill -f /etc/frp/frpc</span><br><span class=\"line\">      <span class=\"built_in\">echo</span> <span class=\"string\">\"stop complete.\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">do_restart</span></span>() &#123;</span><br><span class=\"line\">    do_stop</span><br><span class=\"line\">    sleep 1</span><br><span class=\"line\">    do_start</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">start)</span><br><span class=\"line\">  net_ts</span><br><span class=\"line\"><span class=\"comment\">#这里验证网络是否连通，连通了才启动frp</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> [ <span class=\"variable\">$netstate</span> -lt 0 ];</span><br><span class=\"line\">  <span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> 请检查网络，将在5秒后重试</span><br><span class=\"line\">    sleep 5</span><br><span class=\"line\">    net_ts</span><br><span class=\"line\">  <span class=\"keyword\">done</span></span><br><span class=\"line\">  do_start</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">stop)</span><br><span class=\"line\">   do_stop</span><br><span class=\"line\">   ;;</span><br><span class=\"line\">status)</span><br><span class=\"line\">  <span class=\"built_in\">exit</span> $?</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">restart)</span><br><span class=\"line\">  do_restart</span><br><span class=\"line\">  ;;</span><br><span class=\"line\">*)</span><br><span class=\"line\">   <span class=\"built_in\">echo</span> <span class=\"string\">\"Usage:service frp &#123;start|stop|restart|status&#125;\"</span> &gt;&amp;2</span><br><span class=\"line\">   <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\">   ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">sudo chmod +x /etc/init.d/frp</span><br><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo update-rc.d frp defaults</span><br><span class=\"line\">sudo service frp start</span><br></pre></td></tr></table></figure>\n<p>frp服务已经启动<br>现在试试能否从外网访问<br>一切正常的话你就可以从外网看到刚才那个漂亮的前端<br>开始你的下载吧<br>frp还有很多玩法，有兴趣的朋友可以去项目地址看看，有中文说明.  </p>\n<p><strong>第一次写教程,写的不好的地方请多包涵,之后我还会写在树莓派上安装hexo博客的教程,记得来看哦.</strong></p>"}],"PostAsset":[{"_id":"source/_posts/hackintosh-of-yoga710/CLOVER.zip","slug":"CLOVER.zip","post":"cjutvw4y90004kj3qq34hwyc5","modified":0,"renderable":0},{"_id":"source/_posts/hackintosh-of-yoga710/error1.jpg","slug":"error1.jpg","post":"cjutvw4y90004kj3qq34hwyc5","modified":0,"renderable":0},{"_id":"source/_posts/miui-eu/bat-run.jpg","slug":"bat-run.jpg","post":"cjutvw57c000ikj3qqhly6y6i","modified":0,"renderable":0},{"_id":"source/_posts/miui-eu/git-clone.jpg","slug":"git-clone.jpg","post":"cjutvw57c000ikj3qqhly6y6i","modified":0,"renderable":0},{"_id":"source/_posts/miui-eu/mipay-extract.jpg","slug":"mipay-extract.jpg","post":"cjutvw57c000ikj3qqhly6y6i","modified":0,"renderable":0},{"_id":"source/_posts/miui-eu/screen.png","slug":"screen.png","post":"cjutvw57c000ikj3qqhly6y6i","modified":0,"renderable":0},{"_id":"source/_posts/miui-eu/screen1.jpg","slug":"screen1.jpg","post":"cjutvw57c000ikj3qqhly6y6i","modified":0,"renderable":0}],"PostCategory":[],"PostTag":[{"post_id":"cjutvw4y50002kj3quc2e4ags","tag_id":"cjutvw4yc0005kj3qbigbdnzr","_id":"cjutvw4yk000akj3qn8oz5obv"},{"post_id":"cjutvw4yl000bkj3qqzzcy3oy","tag_id":"cjutvw4yj0009kj3qrcjj70qe","_id":"cjutvw4yo000dkj3quvm7nkev"},{"post_id":"cjutvw4yf0006kj3qd7v8gef4","tag_id":"cjutvw4yj0009kj3qrcjj70qe","_id":"cjutvw4yq000ekj3qktg4uvr3"},{"post_id":"cjutvw4yg0007kj3q203v5elj","tag_id":"cjutvw4yo000ckj3queu0t5ea","_id":"cjutvw4yq000gkj3qi925oady"},{"post_id":"cjutvw4yi0008kj3qz5t2f7ko","tag_id":"cjutvw4yq000fkj3q7eznk8de","_id":"cjutvw4yq000hkj3qf8wzetph"},{"post_id":"cjutvw57f000jkj3qgl1v9hfs","tag_id":"cjutvw4yo000ckj3queu0t5ea","_id":"cjutvw57k000lkj3qwhh9h6o7"},{"post_id":"cjutvw57c000ikj3qqhly6y6i","tag_id":"cjutvw57i000kkj3q6tpaj20f","_id":"cjutvw57k000mkj3qnc0wyfel"}],"Tag":[{"name":"云服务","_id":"cjutvw4yc0005kj3qbigbdnzr"},{"name":"云服务器","_id":"cjutvw4yj0009kj3qrcjj70qe"},{"name":"各种Pi","_id":"cjutvw4yo000ckj3queu0t5ea"},{"name":"笔记","_id":"cjutvw4yq000fkj3q7eznk8de"},{"name":"MIUI","_id":"cjutvw57i000kkj3q6tpaj20f"}]}}